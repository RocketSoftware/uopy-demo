<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.1.0"/>
    <title>uopy API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>
<a href="https://www.rocketsoftware.com/">            <img src="https://www.rocketsoftware.com/themes/rocketon/logo-black.svg" class="logo" alt="project logo"/>
</a>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="function" href="#connect">connect</a>
            </li>
            <li>
                    <a class="variable" href="#config">config</a>
            </li>
            <li>
                    <a class="class" href="#Session">Session</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Session.__init__">Session</a>
                        </li>
                        <li>
                                <a class="variable" href="#Session.is_active">is_active</a>
                        </li>
                        <li>
                                <a class="variable" href="#Session.marks">marks</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.bind_pool">bind_pool</a>
                        </li>
                        <li>
                                <a class="variable" href="#Session.config">config</a>
                        </li>
                        <li>
                                <a class="variable" href="#Session.idle_start_time">idle_start_time</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.start_idle">start_idle</a>
                        </li>
                        <li>
                                <a class="variable" href="#Session.db_type">db_type</a>
                        </li>
                        <li>
                                <a class="variable" href="#Session.is_nls_enabled">is_nls_enabled</a>
                        </li>
                        <li>
                                <a class="variable" href="#Session.encoding">encoding</a>
                        </li>
                        <li>
                                <a class="variable" href="#Session.uoserver_timeout">uoserver_timeout</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.sync_marks">sync_marks</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.encode">encode</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.decode">decode</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.rpc_call">rpc_call</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.read_packet4cmd">read_packet4cmd</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.connect">connect</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.check_rpc_error">check_rpc_error</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.health_check">health_check</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.hard_close">hard_close</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.get_atvar">get_atvar</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.reset">reset</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.bind_command">bind_command</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.tx_start">tx_start</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.tx_commit">tx_commit</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.tx_rollback">tx_rollback</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.tx_level">tx_level</a>
                        </li>
                        <li>
                                <a class="function" href="#Session.tx_is_active">tx_is_active</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Command">Command</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Command.__init__">Command</a>
                        </li>
                        <li>
                                <a class="variable" href="#Command.command_text">command_text</a>
                        </li>
                        <li>
                                <a class="variable" href="#Command.at_system_return_code">at_system_return_code</a>
                        </li>
                        <li>
                                <a class="variable" href="#Command.at_selected">at_selected</a>
                        </li>
                        <li>
                                <a class="variable" href="#Command.status">status</a>
                        </li>
                        <li>
                                <a class="variable" href="#Command.response">response</a>
                        </li>
                        <li>
                                <a class="variable" href="#Command.buffer_size">buffer_size</a>
                        </li>
                        <li>
                                <a class="function" href="#Command.run">run</a>
                        </li>
                        <li>
                                <a class="function" href="#Command.cancel">cancel</a>
                        </li>
                        <li>
                                <a class="function" href="#Command.reply">reply</a>
                        </li>
                        <li>
                                <a class="function" href="#Command.next_response">next_response</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DynArray">DynArray</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DynArray.__init__">DynArray</a>
                        </li>
                        <li>
                                <a class="function" href="#DynArray.make_list">make_list</a>
                        </li>
                        <li>
                                <a class="function" href="#DynArray.make_nested_list">make_nested_list</a>
                        </li>
                        <li>
                                <a class="function" href="#DynArray.iconv">iconv</a>
                        </li>
                        <li>
                                <a class="function" href="#DynArray.oconv">oconv</a>
                        </li>
                        <li>
                                <a class="function" href="#DynArray.format">format</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#UOError">UOError</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#UOError.__init__">UOError</a>
                        </li>
                        <li>
                                <a class="variable" href="#UOError.code">code</a>
                        </li>
                        <li>
                                <a class="variable" href="#UOError.message">message</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#File">File</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#File.__init__">File</a>
                        </li>
                        <li>
                                <a class="variable" href="#File.handle">handle</a>
                        </li>
                        <li>
                                <a class="variable" href="#File.status">status</a>
                        </li>
                        <li>
                                <a class="variable" href="#File.is_opened">is_opened</a>
                        </li>
                        <li>
                                <a class="function" href="#File.open">open</a>
                        </li>
                        <li>
                                <a class="function" href="#File.clear">clear</a>
                        </li>
                        <li>
                                <a class="function" href="#File.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#File.delete">delete</a>
                        </li>
                        <li>
                                <a class="function" href="#File.read">read</a>
                        </li>
                        <li>
                                <a class="function" href="#File.write">write</a>
                        </li>
                        <li>
                                <a class="function" href="#File.read_field">read_field</a>
                        </li>
                        <li>
                                <a class="function" href="#File.write_field">write_field</a>
                        </li>
                        <li>
                                <a class="function" href="#File.lock_file">lock_file</a>
                        </li>
                        <li>
                                <a class="function" href="#File.unlock_file">unlock_file</a>
                        </li>
                        <li>
                                <a class="function" href="#File.lock">lock</a>
                        </li>
                        <li>
                                <a class="function" href="#File.unlock">unlock</a>
                        </li>
                        <li>
                                <a class="function" href="#File.is_locked">is_locked</a>
                        </li>
                        <li>
                                <a class="function" href="#File.get_ak_info">get_ak_info</a>
                        </li>
                        <li>
                                <a class="function" href="#File.itype">itype</a>
                        </li>
                        <li>
                                <a class="function" href="#File.read_named_fields">read_named_fields</a>
                        </li>
                        <li>
                                <a class="function" href="#File.write_named_fields">write_named_fields</a>
                        </li>
                        <li>
                                <a class="function" href="#File.read_records">read_records</a>
                        </li>
                        <li>
                                <a class="function" href="#File.write_records">write_records</a>
                        </li>
                        <li>
                                <a class="function" href="#File.fileInfoEx">fileInfoEx</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#SequentialFile">SequentialFile</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SequentialFile.__init__">SequentialFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#SequentialFile.status">status</a>
                        </li>
                        <li>
                                <a class="variable" href="#SequentialFile.block_size">block_size</a>
                        </li>
                        <li>
                                <a class="variable" href="#SequentialFile.timeout">timeout</a>
                        </li>
                        <li>
                                <a class="function" href="#SequentialFile.open">open</a>
                        </li>
                        <li>
                                <a class="function" href="#SequentialFile.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#SequentialFile.seek">seek</a>
                        </li>
                        <li>
                                <a class="function" href="#SequentialFile.write_eof">write_eof</a>
                        </li>
                        <li>
                                <a class="function" href="#SequentialFile.write_block">write_block</a>
                        </li>
                        <li>
                                <a class="function" href="#SequentialFile.write_line">write_line</a>
                        </li>
                        <li>
                                <a class="function" href="#SequentialFile.read_line">read_line</a>
                        </li>
                        <li>
                                <a class="function" href="#SequentialFile.read_block">read_block</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Dictionary">Dictionary</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Dictionary.__init__">Dictionary</a>
                        </li>
                        <li>
                                <a class="function" href="#Dictionary.get_assoc">get_assoc</a>
                        </li>
                        <li>
                                <a class="function" href="#Dictionary.set_assoc">set_assoc</a>
                        </li>
                        <li>
                                <a class="function" href="#Dictionary.get_conv">get_conv</a>
                        </li>
                        <li>
                                <a class="function" href="#Dictionary.set_conv">set_conv</a>
                        </li>
                        <li>
                                <a class="function" href="#Dictionary.get_format">get_format</a>
                        </li>
                        <li>
                                <a class="function" href="#Dictionary.set_format">set_format</a>
                        </li>
                        <li>
                                <a class="function" href="#Dictionary.get_loc">get_loc</a>
                        </li>
                        <li>
                                <a class="function" href="#Dictionary.set_loc">set_loc</a>
                        </li>
                        <li>
                                <a class="function" href="#Dictionary.get_name">get_name</a>
                        </li>
                        <li>
                                <a class="function" href="#Dictionary.set_name">set_name</a>
                        </li>
                        <li>
                                <a class="function" href="#Dictionary.get_sm">get_sm</a>
                        </li>
                        <li>
                                <a class="function" href="#Dictionary.set_sm">set_sm</a>
                        </li>
                        <li>
                                <a class="function" href="#Dictionary.get_sql_type">get_sql_type</a>
                        </li>
                        <li>
                                <a class="function" href="#Dictionary.set_sql_type">set_sql_type</a>
                        </li>
                        <li>
                                <a class="function" href="#Dictionary.get_type">get_type</a>
                        </li>
                        <li>
                                <a class="function" href="#Dictionary.set_type">set_type</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#List">List</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#List.__init__">List</a>
                        </li>
                        <li>
                                <a class="function" href="#List.select">select</a>
                        </li>
                        <li>
                                <a class="function" href="#List.clear">clear</a>
                        </li>
                        <li>
                                <a class="function" href="#List.next">next</a>
                        </li>
                        <li>
                                <a class="function" href="#List.read_list">read_list</a>
                        </li>
                        <li>
                                <a class="function" href="#List.form_list">form_list</a>
                        </li>
                        <li>
                                <a class="function" href="#List.select_alternate_key">select_alternate_key</a>
                        </li>
                        <li>
                                <a class="function" href="#List.select_matching_ak">select_matching_ak</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Subroutine">Subroutine</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Subroutine.__init__">Subroutine</a>
                        </li>
                        <li>
                                <a class="variable" href="#Subroutine.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#Subroutine.num_args">num_args</a>
                        </li>
                        <li>
                                <a class="variable" href="#Subroutine.args">args</a>
                        </li>
                        <li>
                                <a class="function" href="#Subroutine.call">call</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#UOFileError">UOFileError</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#UOFileError.__init__">UOFileError</a>
                        </li>
                        <li>
                                <a class="variable" href="#UOFileError.response_errors">response_errors</a>
                        </li>
                        <li>
                                <a class="variable" href="#UOFileError.id_list">id_list</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#__version__">__version__</a>
            </li>
    </ul>


            <footer>uopy@1.3.0</footer>

        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
uopy    </h1>

                        <div class="docstring"><p>UniObjects for Python is a Python package from Rocket Software. It is a client API that allows Python applications
to access Rocket MV Databases over the network.</p>

<p>Specifically, it enables Python developers to:</p>

<pre><code>1) remotely connect to MV databases

1) call BASIC catalogued subroutines

2) run TCL commands

3) read/write MV files

4) handle MV dynamic arrays

5) manage MV SELECT lists

6) control MV transactions
</code></pre>

<p>Configuration:</p>

<pre><code>UOPY supports a list of configuration parameters. They are grouped into 4 categories: connection, pooling, logging,
and ssl_auth. Internally all the configuration parameters are preset to default values deemed to work for a minimal
UOPY application development environment. To override these default values, UOPY supports an external
configuration file - 'uopy.ini', in which a user can specify different values for some or all of the parameters. In
some cases, this enables users to change how the application behaves without having to make any code changes, such
as turning connection pooling on and off or making all connections to the database secure.

For example, on Windows 10 (US-English), the default parameter values are:

    connection: {'host': 'localhost', 'account': 'XDEMO', 'port': 31438, 'timeout': 300, 'service': 'defcs',
    'encoding': 'cp1252', 'ssl': False}

    pooling: {'pooling_on': False, 'min_pool_size': 1, 'max_pool_size': 10, 'max_wait_time': 30,
    'idle_remove_threshold': 300, 'idle_remove_interval': 300}

    logging: {'level': 'WARNING', 'format': 'standard', 'dir': './logs', 'file_name': 'uopy.log', 'max_size': 524288,
    'backup_count': 5, 'unirpc_debug': False, 'log_data_max_size': 1024}

    ssl_auth: {'client_auth_required': False, 'server_cert_file': '', 'client_cert_file': '', 'client_key_file': '',
    'check_hostname': False}

If the uopy.ini file is present in the current working directory with the following settings:

    [connection]
    host = uv1211.rocketsoftware.com
    account = XDEMO
    port = 41438
    timeout = 100
    service = udcs
    ssl = True

    [ssl_auth]
    server_cert_file="c:\temp\desktop-ppdt4ds.crt"

    [pooling]
    pooling_on = True
    max_wait_time = 60
    idle_remove_threshold = 300
    idle_remove_interval = 300
    min_pool_size = 5
    max_pool_size = 15

    [logging]
    level = DEBUG
    backup_count = 10
    log_data_max_size = 256

then when uopy is imported, it will combine uopy.ini with the internal default configuration, resulting in the
actual runtime configuration (see the Examples below). Please note that most of these configuration values cannot
be changed by the application at runtime, with the exception of the values in the connection category and the pool
size values in the pooling category, which can be passed in with different values to <a href="#connect">uopy.connect()</a>.
</code></pre>

<p>Logging:</p>

<pre><code>UOPY uses a rotating log strategy which is configurable in uopy.ini as shown above.

Specifically,
    level: the logging level, can be CRITICAL(50), ERROR(40), WARNING (30, default), INFO(20), DEBUG(10).

    format: can be standard or simple - the difference is that source code line no is provided in the standard format.

    dir: the directory where log files are stored.

    file_name: the log file name.

    max_size: the maximum size of a single log file.

    backup_count: the number of backup log files to rotate through.

    unirpc_debug: if set to True and the logging level is DEBUG, all UniRPC packets are dumped into the log files.

    log_data_max_size: the maximum length for any data logged when logging level is DEBUG - the default is 1k.
        For instance, if a subroutine parameter is a XML string greater than 1K in size, it will be truncated to 1K
        in the log file.
</code></pre>

<p>Constants:</p>

<pre><code>UV_SERVICE, UD_SERVICE, DEFAULT_SERVICE: standard service names for back-end UO servers.

DATA_FILE, DICT_FILE: used when creating a File object to indicate which part of the file should be opened.

LOCK_WAIT, LOCK_RETAIN, LOCK_EXCLUSIVE, LOCK_SHARED: locking behaviors when working with records of hashed files.

EXEC_COMPLETE, EXEC_REPLY, EXEC_MORE_OUTPUT: Command execution status codes.

AtVar: an enum of supported MV @variables.

UOLocale(Enum): an enum of UniVerse locale definitions.

DEFAULT_MARKS: a named tuple containing the default MV delimiters (marks).
</code></pre>

<p>Examples:</p>

<pre><code>&gt;&gt;&gt; import uopy
&gt;&gt;&gt; uopy.config.connection
{'host': 'uv1211.rocketsoftware.com', 'account': 'XDEMO', 'port': 41438, 'timeout': 100, 'service': 'udcs',
'encoding': 'cp1252', 'ssl': True}

&gt;&gt;&gt; uopy.config.pooling
{'pooling_on': True, 'min_pool_size': 5, 'max_pool_size': 15, 'max_wait_time': 60, 'idle_remove_threshold': 300,
'idle_remove_interval': 300}

&gt;&gt;&gt; uopy.config.logging
{'level': 'DEBUG', 'format': 'standard', 'dir': './logs', 'file_name': 'uopy.log', 'max_size': 524288,
'backup_count': 10, 'unirpc_debug': False, 'log_data_max_size': 256}

&gt;&gt;&gt; uopy.config.ssl_auth
{'client_auth_required': False, 'server_cert_file': 'c:\temp\desktop-ppdt4ds.crt', 'client_cert_file': '',
'client_key_file': '', 'check_hostname': False}

&gt;&gt;&gt; with <a href="#connect">uopy.connect</a>(user='test', password='test'):
&gt;&gt;&gt;     cmd = <a href="#Command">uopy.Command</a>("LIST VOC")
&gt;&gt;&gt;     cmd.run()
&gt;&gt;&gt;     print(cmd.response[-20:])
'68 records listed.
</code></pre>

<p>'</p>

<p>__version__:
    Use <a href="#__version__">__version__</a> to get the uopy version</p>
</div>

                        <input id="mod-uopy-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-uopy-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="c1"># Copyright 2020 - 2020 Rocket Software, Inc. or its affiliates. All Rights Reserved.</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="c1">#</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a><span class="sd">&quot;&quot;&quot;UniObjects for Python is a Python package from Rocket Software. It is a client API that allows Python applications</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="sd">to access Rocket MV Databases over the network.</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="sd">Specifically, it enables Python developers to:</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="sd">    1) remotely connect to MV databases</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="sd">    1) call BASIC catalogued subroutines</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a><span class="sd">    2) run TCL commands</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a><span class="sd">    3) read/write MV files</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a><span class="sd">    4) handle MV dynamic arrays</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a><span class="sd">    5) manage MV SELECT lists</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a><span class="sd">    6) control MV transactions</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a><span class="sd">Configuration:</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a><span class="sd">    UOPY supports a list of configuration parameters. They are grouped into 4 categories: connection, pooling, logging,</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a><span class="sd">    and ssl_auth. Internally all the configuration parameters are preset to default values deemed to work for a minimal</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a><span class="sd">    UOPY application development environment. To override these default values, UOPY supports an external</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a><span class="sd">    configuration file - &#39;uopy.ini&#39;, in which a user can specify different values for some or all of the parameters. In</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a><span class="sd">    some cases, this enables users to change how the application behaves without having to make any code changes, such</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a><span class="sd">    as turning connection pooling on and off or making all connections to the database secure.</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a><span class="sd">    For example, on Windows 10 (US-English), the default parameter values are:</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a><span class="sd">        connection: {&#39;host&#39;: &#39;localhost&#39;, &#39;account&#39;: &#39;XDEMO&#39;, &#39;port&#39;: 31438, &#39;timeout&#39;: 300, &#39;service&#39;: &#39;defcs&#39;,</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a><span class="sd">        &#39;encoding&#39;: &#39;cp1252&#39;, &#39;ssl&#39;: False}</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a><span class="sd">        pooling: {&#39;pooling_on&#39;: False, &#39;min_pool_size&#39;: 1, &#39;max_pool_size&#39;: 10, &#39;max_wait_time&#39;: 30,</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a><span class="sd">        &#39;idle_remove_threshold&#39;: 300, &#39;idle_remove_interval&#39;: 300}</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a><span class="sd">        logging: {&#39;level&#39;: &#39;WARNING&#39;, &#39;format&#39;: &#39;standard&#39;, &#39;dir&#39;: &#39;./logs&#39;, &#39;file_name&#39;: &#39;uopy.log&#39;, &#39;max_size&#39;: 524288,</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a><span class="sd">        &#39;backup_count&#39;: 5, &#39;unirpc_debug&#39;: False, &#39;log_data_max_size&#39;: 1024}</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a><span class="sd">        ssl_auth: {&#39;client_auth_required&#39;: False, &#39;server_cert_file&#39;: &#39;&#39;, &#39;client_cert_file&#39;: &#39;&#39;, &#39;client_key_file&#39;: &#39;&#39;,</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a><span class="sd">        &#39;check_hostname&#39;: False}</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a><span class="sd">    If the uopy.ini file is present in the current working directory with the following settings:</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a><span class="sd">        [connection]</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a><span class="sd">        host = uv1211.rocketsoftware.com</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a><span class="sd">        account = XDEMO</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a><span class="sd">        port = 41438</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a><span class="sd">        timeout = 100</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a><span class="sd">        service = udcs</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a><span class="sd">        ssl = True</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a><span class="sd">        [ssl_auth]</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a><span class="sd">        server_cert_file=&quot;c:\\temp\\desktop-ppdt4ds.crt&quot;</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a><span class="sd">        [pooling]</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a><span class="sd">        pooling_on = True</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a><span class="sd">        max_wait_time = 60</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a><span class="sd">        idle_remove_threshold = 300</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a><span class="sd">        idle_remove_interval = 300</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a><span class="sd">        min_pool_size = 5</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a><span class="sd">        max_pool_size = 15</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a><span class="sd">        [logging]</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a><span class="sd">        level = DEBUG</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a><span class="sd">        backup_count = 10</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a><span class="sd">        log_data_max_size = 256</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a><span class="sd">    then when uopy is imported, it will combine uopy.ini with the internal default configuration, resulting in the</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a><span class="sd">    actual runtime configuration (see the Examples below). Please note that most of these configuration values cannot</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a><span class="sd">    be changed by the application at runtime, with the exception of the values in the connection category and the pool</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a><span class="sd">    size values in the pooling category, which can be passed in with different values to uopy.connect().</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a><span class="sd">Logging:</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a><span class="sd">    UOPY uses a rotating log strategy which is configurable in uopy.ini as shown above.</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a><span class="sd">    Specifically,</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a><span class="sd">        level: the logging level, can be CRITICAL(50), ERROR(40), WARNING (30, default), INFO(20), DEBUG(10).</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a><span class="sd">        format: can be standard or simple - the difference is that source code line no is provided in the standard format.</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a><span class="sd">        dir: the directory where log files are stored.</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a><span class="sd">        file_name: the log file name.</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a><span class="sd">        max_size: the maximum size of a single log file.</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a><span class="sd">        backup_count: the number of backup log files to rotate through.</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a><span class="sd">        unirpc_debug: if set to True and the logging level is DEBUG, all UniRPC packets are dumped into the log files.</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a><span class="sd">        log_data_max_size: the maximum length for any data logged when logging level is DEBUG - the default is 1k.</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a><span class="sd">            For instance, if a subroutine parameter is a XML string greater than 1K in size, it will be truncated to 1K</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a><span class="sd">            in the log file.</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a><span class="sd">Constants:</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a><span class="sd">    UV_SERVICE, UD_SERVICE, DEFAULT_SERVICE: standard service names for back-end UO servers.</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a><span class="sd">    DATA_FILE, DICT_FILE: used when creating a File object to indicate which part of the file should be opened.</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a><span class="sd">    LOCK_WAIT, LOCK_RETAIN, LOCK_EXCLUSIVE, LOCK_SHARED: locking behaviors when working with records of hashed files.</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a><span class="sd">    EXEC_COMPLETE, EXEC_REPLY, EXEC_MORE_OUTPUT: Command execution status codes.</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a><span class="sd">    AtVar: an enum of supported MV @variables.</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a><span class="sd">    UOLocale(Enum): an enum of UniVerse locale definitions.</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a><span class="sd">    DEFAULT_MARKS: a named tuple containing the default MV delimiters (marks).</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a><span class="sd">Examples:</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a><span class="sd">    &gt;&gt;&gt; import uopy</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a><span class="sd">    &gt;&gt;&gt; uopy.config.connection</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a><span class="sd">    {&#39;host&#39;: &#39;uv1211.rocketsoftware.com&#39;, &#39;account&#39;: &#39;XDEMO&#39;, &#39;port&#39;: 41438, &#39;timeout&#39;: 100, &#39;service&#39;: &#39;udcs&#39;,</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a><span class="sd">    &#39;encoding&#39;: &#39;cp1252&#39;, &#39;ssl&#39;: True}</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a><span class="sd">    &gt;&gt;&gt; uopy.config.pooling</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a><span class="sd">    {&#39;pooling_on&#39;: True, &#39;min_pool_size&#39;: 5, &#39;max_pool_size&#39;: 15, &#39;max_wait_time&#39;: 60, &#39;idle_remove_threshold&#39;: 300,</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a><span class="sd">    &#39;idle_remove_interval&#39;: 300}</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a><span class="sd">    &gt;&gt;&gt; uopy.config.logging</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a><span class="sd">    {&#39;level&#39;: &#39;DEBUG&#39;, &#39;format&#39;: &#39;standard&#39;, &#39;dir&#39;: &#39;./logs&#39;, &#39;file_name&#39;: &#39;uopy.log&#39;, &#39;max_size&#39;: 524288,</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a><span class="sd">    &#39;backup_count&#39;: 10, &#39;unirpc_debug&#39;: False, &#39;log_data_max_size&#39;: 256}</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a><span class="sd">    &gt;&gt;&gt; uopy.config.ssl_auth</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a><span class="sd">    {&#39;client_auth_required&#39;: False, &#39;server_cert_file&#39;: &#39;c:\\temp\\desktop-ppdt4ds.crt&#39;, &#39;client_cert_file&#39;: &#39;&#39;,</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a><span class="sd">    &#39;client_key_file&#39;: &#39;&#39;, &#39;check_hostname&#39;: False}</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a><span class="sd">    &gt;&gt;&gt; with uopy.connect(user=&#39;test&#39;, password=&#39;test&#39;):</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a><span class="sd">    &gt;&gt;&gt;     cmd = uopy.Command(&quot;LIST VOC&quot;)</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a><span class="sd">    &gt;&gt;&gt;     cmd.run()</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a><span class="sd">    &gt;&gt;&gt;     print(cmd.response[-20:])</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a><span class="sd">    &#39;68 records listed.\r\n&#39;</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a><span class="sd">__version__:</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a><span class="sd">    Use uopy.__version__ to get the uopy version</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a><span class="kn">from</span> <span class="nn">._uopy</span> <span class="kn">import</span> <span class="n">connect</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">Session</span><span class="p">,</span> <span class="n">__version__</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a><span class="kn">from</span> <span class="nn">._constants</span> <span class="kn">import</span> <span class="o">*</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a><span class="kn">from</span> <span class="nn">._command</span> <span class="kn">import</span> <span class="n">Command</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a><span class="kn">from</span> <span class="nn">._dynarray</span> <span class="kn">import</span> <span class="n">DynArray</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a><span class="kn">from</span> <span class="nn">._uoerror</span> <span class="kn">import</span> <span class="n">UOError</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a><span class="kn">from</span> <span class="nn">._uofile_error</span> <span class="kn">import</span> <span class="n">UOFileError</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a><span class="kn">from</span> <span class="nn">._sequentialfile</span> <span class="kn">import</span> <span class="n">SequentialFile</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a><span class="kn">from</span> <span class="nn">._subroutine</span> <span class="kn">import</span> <span class="n">Subroutine</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a><span class="kn">from</span> <span class="nn">._file</span> <span class="kn">import</span> <span class="n">File</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a><span class="kn">from</span> <span class="nn">._dictionary</span> <span class="kn">import</span> <span class="n">Dictionary</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a><span class="kn">from</span> <span class="nn">._list</span> <span class="kn">import</span> <span class="n">List</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>    <span class="s2">&quot;connect&quot;</span><span class="p">,</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>    <span class="s2">&quot;config&quot;</span><span class="p">,</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>    <span class="s2">&quot;Session&quot;</span><span class="p">,</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>    <span class="s2">&quot;Command&quot;</span><span class="p">,</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>    <span class="s2">&quot;DynArray&quot;</span><span class="p">,</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a>    <span class="s2">&quot;UOError&quot;</span><span class="p">,</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a>    <span class="s2">&quot;File&quot;</span><span class="p">,</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>    <span class="s2">&quot;SequentialFile&quot;</span><span class="p">,</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>    <span class="s2">&quot;Dictionary&quot;</span><span class="p">,</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>    <span class="s2">&quot;List&quot;</span><span class="p">,</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>    <span class="s2">&quot;Subroutine&quot;</span><span class="p">,</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>    <span class="s2">&quot;UOFileError&quot;</span><span class="p">,</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a>    <span class="s2">&quot;__version__&quot;</span><span class="p">,</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a><span class="p">]</span>
</span></pre></div>


            </section>
                <section id="connect">
                            <input id="connect-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">connect</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="connect-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#connect"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="connect-63"><a href="#connect-63"><span class="linenos"> 63</span></a><span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="connect-64"><a href="#connect-64"><span class="linenos"> 64</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Open a connection to an MV Database.</span>
</span><span id="connect-65"><a href="#connect-65"><span class="linenos"> 65</span></a>
</span><span id="connect-66"><a href="#connect-66"><span class="linenos"> 66</span></a><span class="sd">    Args:</span>
</span><span id="connect-67"><a href="#connect-67"><span class="linenos"> 67</span></a><span class="sd">        kwargs: connection configuration keyword parameters:  host, port, user, password, account, service, timeout,</span>
</span><span id="connect-68"><a href="#connect-68"><span class="linenos"> 68</span></a><span class="sd">                encoding, ssl, min_pool_size, max_pool_size.</span>
</span><span id="connect-69"><a href="#connect-69"><span class="linenos"> 69</span></a>
</span><span id="connect-70"><a href="#connect-70"><span class="linenos"> 70</span></a><span class="sd">                1. only user and password are required, the rest have default values in uopy.config.connection.</span>
</span><span id="connect-71"><a href="#connect-71"><span class="linenos"> 71</span></a>
</span><span id="connect-72"><a href="#connect-72"><span class="linenos"> 72</span></a><span class="sd">                2. if connection pooling is turned on and connect() is called for the first time to open a connection</span>
</span><span id="connect-73"><a href="#connect-73"><span class="linenos"> 73</span></a><span class="sd">                to the database server, a connection pool will be created for the same host, account, user and password</span>
</span><span id="connect-74"><a href="#connect-74"><span class="linenos"> 74</span></a><span class="sd">                that are passed in. If min_pool_size and/or max_pool_size are passed in as well, they will be used</span>
</span><span id="connect-75"><a href="#connect-75"><span class="linenos"> 75</span></a><span class="sd">                instead of the default values in the uopy.config.pooling section to set the minimum and maximum pool</span>
</span><span id="connect-76"><a href="#connect-76"><span class="linenos"> 76</span></a><span class="sd">                sizes. Note that once a connection pool is created, its min_pool_size and max_pool_size cannot be</span>
</span><span id="connect-77"><a href="#connect-77"><span class="linenos"> 77</span></a><span class="sd">                changed. This means that the min_pool_size and max_pool_size parameters are ignored on subsequent calls</span>
</span><span id="connect-78"><a href="#connect-78"><span class="linenos"> 78</span></a><span class="sd">                to connect() for the same pool.</span>
</span><span id="connect-79"><a href="#connect-79"><span class="linenos"> 79</span></a>
</span><span id="connect-80"><a href="#connect-80"><span class="linenos"> 80</span></a><span class="sd">    Returns:</span>
</span><span id="connect-81"><a href="#connect-81"><span class="linenos"> 81</span></a><span class="sd">        A Session object: either newly established or straight from a connection pool.</span>
</span><span id="connect-82"><a href="#connect-82"><span class="linenos"> 82</span></a>
</span><span id="connect-83"><a href="#connect-83"><span class="linenos"> 83</span></a><span class="sd">    Raises:</span>
</span><span id="connect-84"><a href="#connect-84"><span class="linenos"> 84</span></a><span class="sd">        UOError, ValueError</span>
</span><span id="connect-85"><a href="#connect-85"><span class="linenos"> 85</span></a>
</span><span id="connect-86"><a href="#connect-86"><span class="linenos"> 86</span></a><span class="sd">    Examples:</span>
</span><span id="connect-87"><a href="#connect-87"><span class="linenos"> 87</span></a><span class="sd">        &gt;&gt;&gt; session = uopy.connect(user = &#39;test&#39;, password =&#39;test&#39;)</span>
</span><span id="connect-88"><a href="#connect-88"><span class="linenos"> 88</span></a>
</span><span id="connect-89"><a href="#connect-89"><span class="linenos"> 89</span></a><span class="sd">        &gt;&gt;&gt; session = uopy.connect(host =&#39;localhost&#39;, user = &#39;test&#39;, password =&#39;test&#39;, account = &#39;HS.SALES&#39;,</span>
</span><span id="connect-90"><a href="#connect-90"><span class="linenos"> 90</span></a><span class="sd">                    service=uopy.UV_SERVICE, port=31438)</span>
</span><span id="connect-91"><a href="#connect-91"><span class="linenos"> 91</span></a>
</span><span id="connect-92"><a href="#connect-92"><span class="linenos"> 92</span></a><span class="sd">        &gt;&gt;&gt; config = {</span>
</span><span id="connect-93"><a href="#connect-93"><span class="linenos"> 93</span></a><span class="sd">                &#39;user&#39;: &#39;test&#39;,</span>
</span><span id="connect-94"><a href="#connect-94"><span class="linenos"> 94</span></a><span class="sd">                &#39;password&#39;: &#39;test&#39;,</span>
</span><span id="connect-95"><a href="#connect-95"><span class="linenos"> 95</span></a><span class="sd">                &#39;service&#39;: &#39;udcs&#39;,</span>
</span><span id="connect-96"><a href="#connect-96"><span class="linenos"> 96</span></a><span class="sd">                &#39;account&#39;: &#39;demo&#39;,</span>
</span><span id="connect-97"><a href="#connect-97"><span class="linenos"> 97</span></a><span class="sd">                &#39;encoding&#39;: &#39;GB18030&#39;,</span>
</span><span id="connect-98"><a href="#connect-98"><span class="linenos"> 98</span></a><span class="sd">                &#39;ssl&#39;: True</span>
</span><span id="connect-99"><a href="#connect-99"><span class="linenos"> 99</span></a><span class="sd">            }</span>
</span><span id="connect-100"><a href="#connect-100"><span class="linenos">100</span></a><span class="sd">        &gt;&gt;&gt; session = uopy.connect(**config)</span>
</span><span id="connect-101"><a href="#connect-101"><span class="linenos">101</span></a>
</span><span id="connect-102"><a href="#connect-102"><span class="linenos">102</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="connect-103"><a href="#connect-103"><span class="linenos">103</span></a>    <span class="k">global</span> <span class="n">_pooling_on</span>
</span><span id="connect-104"><a href="#connect-104"><span class="linenos">104</span></a>    <span class="n">config</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="connect-105"><a href="#connect-105"><span class="linenos">105</span></a>    <span class="n">connect_config</span> <span class="o">=</span> <span class="n">build_connect_config</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="connect-106"><a href="#connect-106"><span class="linenos">106</span></a>    <span class="n">pooling_config</span> <span class="o">=</span> <span class="n">build_pooling_config</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="connect-107"><a href="#connect-107"><span class="linenos">107</span></a>
</span><span id="connect-108"><a href="#connect-108"><span class="linenos">108</span></a>    <span class="n">_pooling_on</span> <span class="o">=</span> <span class="n">pooling_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pooling_on&quot;</span><span class="p">)</span>
</span><span id="connect-109"><a href="#connect-109"><span class="linenos">109</span></a>    <span class="k">if</span> <span class="n">_pooling_on</span><span class="p">:</span>
</span><span id="connect-110"><a href="#connect-110"><span class="linenos">110</span></a>        <span class="n">pool_key</span> <span class="o">=</span> <span class="n">make_pool_key</span><span class="p">(</span><span class="n">connect_config</span><span class="p">)</span>
</span><span id="connect-111"><a href="#connect-111"><span class="linenos">111</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">wrapper</span><span class="o">.</span><span class="n">hasrun</span><span class="p">:</span>
</span><span id="connect-112"><a href="#connect-112"><span class="linenos">112</span></a>            <span class="n">wrapper</span><span class="p">()</span>
</span><span id="connect-113"><a href="#connect-113"><span class="linenos">113</span></a>        <span class="k">with</span> <span class="n">_lock</span><span class="p">:</span>
</span><span id="connect-114"><a href="#connect-114"><span class="linenos">114</span></a>            <span class="n">pool</span> <span class="o">=</span> <span class="n">_pools</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pool_key</span><span class="p">)</span>
</span><span id="connect-115"><a href="#connect-115"><span class="linenos">115</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">pool</span><span class="p">:</span>
</span><span id="connect-116"><a href="#connect-116"><span class="linenos">116</span></a>                <span class="n">pool</span> <span class="o">=</span> <span class="n">Pool</span><span class="p">(</span><span class="n">connect_config</span><span class="p">,</span> <span class="n">pooling_config</span><span class="p">)</span>
</span><span id="connect-117"><a href="#connect-117"><span class="linenos">117</span></a>                <span class="n">_pools</span><span class="p">[</span><span class="n">pool_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">pool</span>
</span><span id="connect-118"><a href="#connect-118"><span class="linenos">118</span></a>
</span><span id="connect-119"><a href="#connect-119"><span class="linenos">119</span></a>        <span class="k">return</span> <span class="n">pool</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="connect-120"><a href="#connect-120"><span class="linenos">120</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="connect-121"><a href="#connect-121"><span class="linenos">121</span></a>        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">(</span><span class="n">connect_config</span><span class="p">)</span>
</span><span id="connect-122"><a href="#connect-122"><span class="linenos">122</span></a>        <span class="n">session</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span><span id="connect-123"><a href="#connect-123"><span class="linenos">123</span></a>        <span class="k">return</span> <span class="n">session</span>
</span></pre></div>


            <div class="docstring"><p>Open a connection to an MV Database.</p>

<p>Args:
    kwargs: connection configuration keyword parameters:  host, port, user, password, account, service, timeout,
            encoding, ssl, min_pool_size, max_pool_size.</p>

<pre><code>        1. only user and password are required, the rest have default values in uopy.config.connection.

        2. if connection pooling is turned on and connect() is called for the first time to open a connection
        to the database server, a connection pool will be created for the same host, account, user and password
        that are passed in. If min_pool_size and/or max_pool_size are passed in as well, they will be used
        instead of the default values in the uopy.config.pooling section to set the minimum and maximum pool
        sizes. Note that once a connection pool is created, its min_pool_size and max_pool_size cannot be
        changed. This means that the min_pool_size and max_pool_size parameters are ignored on subsequent calls
        to connect() for the same pool.
</code></pre>

<p>Returns:
    A Session object: either newly established or straight from a connection pool.</p>

<p>Raises:
    UOError, ValueError</p>

<p>Examples:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>session = <a href="#connect">uopy.connect</a>(user = 'test', password ='test')</p>

<pre><code>&gt;&gt;&gt; session = <a href="#connect">uopy.connect</a>(host ='localhost', user = 'test', password ='test', account = 'HS.SALES',
            service=uopy.UV_SERVICE, port=31438)

&gt;&gt;&gt; config = {
        'user': 'test',
        'password': 'test',
        'service': 'udcs',
        'account': 'demo',
        'encoding': 'GB18030',
        'ssl': True
    }
&gt;&gt;&gt; session = <a href="#connect">uopy.connect</a>(**config)
</code></pre>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                </section>
                <section id="config">
                    <div class="attr variable">
            <span class="name">config</span>        =
<span class="default_value">&lt;uopy._config._Config object&gt;</span>

        
    </div>
    <a class="headerlink" href="#config"></a>
    
    

                </section>
                <section id="Session">
                            <input id="Session-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Session</span>:

                <label class="view-source-button" for="Session-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session-48"><a href="#Session-48"><span class="linenos"> 48</span></a><span class="k">class</span> <span class="nc">Session</span><span class="p">:</span>
</span><span id="Session-49"><a href="#Session-49"><span class="linenos"> 49</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A Session represents a MV database connection. It is the foundation for and embedded in other UOPY objects.</span>
</span><span id="Session-50"><a href="#Session-50"><span class="linenos"> 50</span></a>
</span><span id="Session-51"><a href="#Session-51"><span class="linenos"> 51</span></a><span class="sd">    Session objects can be used in Python with statement so that whatever happens in the with statement block, they</span>
</span><span id="Session-52"><a href="#Session-52"><span class="linenos"> 52</span></a><span class="sd">    are guaranteed to be closed upon exit.</span>
</span><span id="Session-53"><a href="#Session-53"><span class="linenos"> 53</span></a>
</span><span id="Session-54"><a href="#Session-54"><span class="linenos"> 54</span></a><span class="sd">    Applications can also perform transactions on a Session, and get supported @var values from the server.</span>
</span><span id="Session-55"><a href="#Session-55"><span class="linenos"> 55</span></a>
</span><span id="Session-56"><a href="#Session-56"><span class="linenos"> 56</span></a><span class="sd">    Note:</span>
</span><span id="Session-57"><a href="#Session-57"><span class="linenos"> 57</span></a><span class="sd">        Applications should call uopy.connect() to get a Session object instead of directly instantiating a Session.</span>
</span><span id="Session-58"><a href="#Session-58"><span class="linenos"> 58</span></a>
</span><span id="Session-59"><a href="#Session-59"><span class="linenos"> 59</span></a><span class="sd">    Examples:</span>
</span><span id="Session-60"><a href="#Session-60"><span class="linenos"> 60</span></a>
</span><span id="Session-61"><a href="#Session-61"><span class="linenos"> 61</span></a><span class="sd">        &gt;&gt;&gt; with uopy.connect(user=&#39;test&#39;, password=&#39;test&#39;):</span>
</span><span id="Session-62"><a href="#Session-62"><span class="linenos"> 62</span></a><span class="sd">        &gt;&gt;&gt;     cmd = uopy.Command(&quot;LIST VOC&quot;)</span>
</span><span id="Session-63"><a href="#Session-63"><span class="linenos"> 63</span></a><span class="sd">        &gt;&gt;&gt;     cmd.run()</span>
</span><span id="Session-64"><a href="#Session-64"><span class="linenos"> 64</span></a><span class="sd">        &gt;&gt;&gt;     print(cmd.response)</span>
</span><span id="Session-65"><a href="#Session-65"><span class="linenos"> 65</span></a>
</span><span id="Session-66"><a href="#Session-66"><span class="linenos"> 66</span></a>
</span><span id="Session-67"><a href="#Session-67"><span class="linenos"> 67</span></a><span class="sd">        &gt;&gt;&gt; with uopy.connect(user=&quot;test&quot;, password=&quot;test&quot;) as session:</span>
</span><span id="Session-68"><a href="#Session-68"><span class="linenos"> 68</span></a><span class="sd">        &gt;&gt;&gt;     session.tx_start()</span>
</span><span id="Session-69"><a href="#Session-69"><span class="linenos"> 69</span></a><span class="sd">        &gt;&gt;&gt;     print(session.tx_is_active())</span>
</span><span id="Session-70"><a href="#Session-70"><span class="linenos"> 70</span></a><span class="sd">        ...</span>
</span><span id="Session-71"><a href="#Session-71"><span class="linenos"> 71</span></a><span class="sd">        &gt;&gt;&gt;     session.tx_commit()</span>
</span><span id="Session-72"><a href="#Session-72"><span class="linenos"> 72</span></a>
</span><span id="Session-73"><a href="#Session-73"><span class="linenos"> 73</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Session-74"><a href="#Session-74"><span class="linenos"> 74</span></a>
</span><span id="Session-75"><a href="#Session-75"><span class="linenos"> 75</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connect_config</span><span class="p">):</span>
</span><span id="Session-76"><a href="#Session-76"><span class="linenos"> 76</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="Session-77"><a href="#Session-77"><span class="linenos"> 77</span></a>            <span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">connect_config</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">connect_config</span> <span class="k">if</span> <span class="n">k</span> <span class="o">!=</span> <span class="s2">&quot;password&quot;</span><span class="p">}</span>
</span><span id="Session-78"><a href="#Session-78"><span class="linenos"> 78</span></a>        <span class="p">)</span>
</span><span id="Session-79"><a href="#Session-79"><span class="linenos"> 79</span></a>
</span><span id="Session-80"><a href="#Session-80"><span class="linenos"> 80</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="n">connect_config</span>
</span><span id="Session-81"><a href="#Session-81"><span class="linenos"> 81</span></a>
</span><span id="Session-82"><a href="#Session-82"><span class="linenos"> 82</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>
</span><span id="Session-83"><a href="#Session-83"><span class="linenos"> 83</span></a>
</span><span id="Session-84"><a href="#Session-84"><span class="linenos"> 84</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Session-85"><a href="#Session-85"><span class="linenos"> 85</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_rpc_failed</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Session-86"><a href="#Session-86"><span class="linenos"> 86</span></a>
</span><span id="Session-87"><a href="#Session-87"><span class="linenos"> 87</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_nls_enabled</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Session-88"><a href="#Session-88"><span class="linenos"> 88</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_nls_locale_enabled</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Session-89"><a href="#Session-89"><span class="linenos"> 89</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_ud</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Session-90"><a href="#Session-90"><span class="linenos"> 90</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_d3</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Session-91"><a href="#Session-91"><span class="linenos"> 91</span></a>
</span><span id="Session-92"><a href="#Session-92"><span class="linenos"> 92</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__pool</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Session-93"><a href="#Session-93"><span class="linenos"> 93</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_idle_start_time</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Session-94"><a href="#Session-94"><span class="linenos"> 94</span></a>
</span><span id="Session-95"><a href="#Session-95"><span class="linenos"> 95</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mac_address</span> <span class="o">=</span> <span class="s2">&quot;JAVA&quot;</span>
</span><span id="Session-96"><a href="#Session-96"><span class="linenos"> 96</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_license_token</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="Session-97"><a href="#Session-97"><span class="linenos"> 97</span></a>
</span><span id="Session-98"><a href="#Session-98"><span class="linenos"> 98</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_host_type</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Session-99"><a href="#Session-99"><span class="linenos"> 99</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_command</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Session-100"><a href="#Session-100"><span class="linenos">100</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_transaction</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Session-101"><a href="#Session-101"><span class="linenos">101</span></a>
</span><span id="Session-102"><a href="#Session-102"><span class="linenos">102</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_active</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Session-103"><a href="#Session-103"><span class="linenos">103</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">marks</span> <span class="o">=</span> <span class="n">DEFAULT_MARKS</span>
</span><span id="Session-104"><a href="#Session-104"><span class="linenos">104</span></a>
</span><span id="Session-105"><a href="#Session-105"><span class="linenos">105</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_uoserver_timeout</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Session-106"><a href="#Session-106"><span class="linenos">106</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_uv_timeout_flag</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Session-107"><a href="#Session-107"><span class="linenos">107</span></a>
</span><span id="Session-108"><a href="#Session-108"><span class="linenos">108</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-109"><a href="#Session-109"><span class="linenos">109</span></a>        <span class="n">format_string</span> <span class="o">=</span> <span class="s2">&quot;&lt;</span><span class="si">{}</span><span class="s2"> object </span><span class="si">{}</span><span class="s2"> at 0x</span><span class="si">{:016X}</span><span class="s2">&gt;&quot;</span>
</span><span id="Session-110"><a href="#Session-110"><span class="linenos">110</span></a>        <span class="n">details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span>
</span><span id="Session-111"><a href="#Session-111"><span class="linenos">111</span></a>        <span class="k">return</span> <span class="n">format_string</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
</span><span id="Session-112"><a href="#Session-112"><span class="linenos">112</span></a>            <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">Session</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span> <span class="n">Session</span><span class="o">.</span><span class="vm">__qualname__</span><span class="p">]),</span> <span class="n">details</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Session-113"><a href="#Session-113"><span class="linenos">113</span></a>        <span class="p">)</span>
</span><span id="Session-114"><a href="#Session-114"><span class="linenos">114</span></a>
</span><span id="Session-115"><a href="#Session-115"><span class="linenos">115</span></a>    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-116"><a href="#Session-116"><span class="linenos">116</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_active</span><span class="p">:</span>
</span><span id="Session-117"><a href="#Session-117"><span class="linenos">117</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span><span id="Session-118"><a href="#Session-118"><span class="linenos">118</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="Session-119"><a href="#Session-119"><span class="linenos">119</span></a>
</span><span id="Session-120"><a href="#Session-120"><span class="linenos">120</span></a>    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exec_type</span><span class="p">,</span> <span class="n">exec_value</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
</span><span id="Session-121"><a href="#Session-121"><span class="linenos">121</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="Session-122"><a href="#Session-122"><span class="linenos">122</span></a>
</span><span id="Session-123"><a href="#Session-123"><span class="linenos">123</span></a>    <span class="k">def</span> <span class="nf">bind_pool</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pool</span><span class="p">):</span>
</span><span id="Session-124"><a href="#Session-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__pool</span> <span class="o">=</span> <span class="n">pool</span>
</span><span id="Session-125"><a href="#Session-125"><span class="linenos">125</span></a>
</span><span id="Session-126"><a href="#Session-126"><span class="linenos">126</span></a>    <span class="nd">@property</span>
</span><span id="Session-127"><a href="#Session-127"><span class="linenos">127</span></a>    <span class="k">def</span> <span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-128"><a href="#Session-128"><span class="linenos">128</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;A copy of all the configuration parameters for this session.&quot;&quot;&quot;</span>
</span><span id="Session-129"><a href="#Session-129"><span class="linenos">129</span></a>        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">)</span>
</span><span id="Session-130"><a href="#Session-130"><span class="linenos">130</span></a>
</span><span id="Session-131"><a href="#Session-131"><span class="linenos">131</span></a>    <span class="nd">@property</span>
</span><span id="Session-132"><a href="#Session-132"><span class="linenos">132</span></a>    <span class="k">def</span> <span class="nf">idle_start_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-133"><a href="#Session-133"><span class="linenos">133</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_idle_start_time</span>
</span><span id="Session-134"><a href="#Session-134"><span class="linenos">134</span></a>
</span><span id="Session-135"><a href="#Session-135"><span class="linenos">135</span></a>    <span class="k">def</span> <span class="nf">start_idle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-136"><a href="#Session-136"><span class="linenos">136</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_idle_start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span><span id="Session-137"><a href="#Session-137"><span class="linenos">137</span></a>
</span><span id="Session-138"><a href="#Session-138"><span class="linenos">138</span></a>    <span class="nd">@property</span>
</span><span id="Session-139"><a href="#Session-139"><span class="linenos">139</span></a>    <span class="k">def</span> <span class="nf">db_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-140"><a href="#Session-140"><span class="linenos">140</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;str: either &quot;UD&#39; for UniData,&#39;UV&#39; for UniVerse, or &quot;D3&quot; for D3.&quot;&quot;&quot;</span>
</span><span id="Session-141"><a href="#Session-141"><span class="linenos">141</span></a>
</span><span id="Session-142"><a href="#Session-142"><span class="linenos">142</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_ud</span><span class="p">:</span>
</span><span id="Session-143"><a href="#Session-143"><span class="linenos">143</span></a>            <span class="k">return</span> <span class="s2">&quot;UD&quot;</span>
</span><span id="Session-144"><a href="#Session-144"><span class="linenos">144</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_d3</span><span class="p">:</span>
</span><span id="Session-145"><a href="#Session-145"><span class="linenos">145</span></a>            <span class="k">return</span> <span class="s2">&quot;D3&quot;</span>
</span><span id="Session-146"><a href="#Session-146"><span class="linenos">146</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Session-147"><a href="#Session-147"><span class="linenos">147</span></a>            <span class="k">return</span> <span class="s2">&quot;UV&quot;</span>
</span><span id="Session-148"><a href="#Session-148"><span class="linenos">148</span></a>
</span><span id="Session-149"><a href="#Session-149"><span class="linenos">149</span></a>    <span class="nd">@property</span>
</span><span id="Session-150"><a href="#Session-150"><span class="linenos">150</span></a>    <span class="k">def</span> <span class="nf">is_nls_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-151"><a href="#Session-151"><span class="linenos">151</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;boolean: whether NLS is enabled on the server.&quot;&quot;&quot;</span>
</span><span id="Session-152"><a href="#Session-152"><span class="linenos">152</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_nls_enabled</span>
</span><span id="Session-153"><a href="#Session-153"><span class="linenos">153</span></a>
</span><span id="Session-154"><a href="#Session-154"><span class="linenos">154</span></a>    <span class="nd">@property</span>
</span><span id="Session-155"><a href="#Session-155"><span class="linenos">155</span></a>    <span class="k">def</span> <span class="nf">encoding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-156"><a href="#Session-156"><span class="linenos">156</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The name of the character encoding used for conversion between Python unicode strings and MV data.</span>
</span><span id="Session-157"><a href="#Session-157"><span class="linenos">157</span></a>
</span><span id="Session-158"><a href="#Session-158"><span class="linenos">158</span></a><span class="sd">        By default it is set to the local system&#39;s preferred encoding when server NLS is off, and to UTF-8 when</span>
</span><span id="Session-159"><a href="#Session-159"><span class="linenos">159</span></a><span class="sd">        server NLS is on. However it can be overridden by the application to what reflects the actual encoding of</span>
</span><span id="Session-160"><a href="#Session-160"><span class="linenos">160</span></a><span class="sd">        the server data.</span>
</span><span id="Session-161"><a href="#Session-161"><span class="linenos">161</span></a>
</span><span id="Session-162"><a href="#Session-162"><span class="linenos">162</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Session-163"><a href="#Session-163"><span class="linenos">163</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">[</span><span class="n">ENCODING</span><span class="p">]</span>
</span><span id="Session-164"><a href="#Session-164"><span class="linenos">164</span></a>
</span><span id="Session-165"><a href="#Session-165"><span class="linenos">165</span></a>    <span class="nd">@encoding</span><span class="o">.</span><span class="n">setter</span>
</span><span id="Session-166"><a href="#Session-166"><span class="linenos">166</span></a>    <span class="k">def</span> <span class="nf">encoding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">):</span>
</span><span id="Session-167"><a href="#Session-167"><span class="linenos">167</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Session-168"><a href="#Session-168"><span class="linenos">168</span></a>            <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">encoding</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</span><span id="Session-169"><a href="#Session-169"><span class="linenos">169</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">[</span><span class="n">ENCODING</span><span class="p">]</span> <span class="o">=</span> <span class="n">encoding</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="Session-170"><a href="#Session-170"><span class="linenos">170</span></a>        <span class="k">except</span> <span class="ne">LookupError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Session-171"><a href="#Session-171"><span class="linenos">171</span></a>            <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
</span><span id="Session-172"><a href="#Session-172"><span class="linenos">172</span></a>                <span class="s2">&quot;Unsupported encoding setting, encoding is not changed:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="Session-173"><a href="#Session-173"><span class="linenos">173</span></a>            <span class="p">)</span>
</span><span id="Session-174"><a href="#Session-174"><span class="linenos">174</span></a>
</span><span id="Session-175"><a href="#Session-175"><span class="linenos">175</span></a>    <span class="k">def</span> <span class="nf">_get_uv_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="Session-176"><a href="#Session-176"><span class="linenos">176</span></a>        <span class="n">uv_version</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s2">&quot;i&quot;</span><span class="p">)</span>
</span><span id="Session-177"><a href="#Session-177"><span class="linenos">177</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">version</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;UniVerse &quot;</span><span class="p">):</span>
</span><span id="Session-178"><a href="#Session-178"><span class="linenos">178</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Session-179"><a href="#Session-179"><span class="linenos">179</span></a>        <span class="n">version</span> <span class="o">=</span> <span class="n">version</span><span class="o">.</span><span class="n">removeprefix</span><span class="p">(</span><span class="s2">&quot;UniVerse&quot;</span><span class="p">)</span>
</span><span id="Session-180"><a href="#Session-180"><span class="linenos">180</span></a>        <span class="n">version</span> <span class="o">=</span> <span class="n">version</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</span><span id="Session-181"><a href="#Session-181"><span class="linenos">181</span></a>        <span class="n">version_arr</span> <span class="o">=</span> <span class="n">version</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
</span><span id="Session-182"><a href="#Session-182"><span class="linenos">182</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">version_arr</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="Session-183"><a href="#Session-183"><span class="linenos">183</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Session-184"><a href="#Session-184"><span class="linenos">184</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Session-185"><a href="#Session-185"><span class="linenos">185</span></a>            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">version_arr</span><span class="p">:</span>
</span><span id="Session-186"><a href="#Session-186"><span class="linenos">186</span></a>                <span class="n">uv_version</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
</span><span id="Session-187"><a href="#Session-187"><span class="linenos">187</span></a>        <span class="k">except</span><span class="p">:</span>
</span><span id="Session-188"><a href="#Session-188"><span class="linenos">188</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Session-189"><a href="#Session-189"><span class="linenos">189</span></a>        <span class="k">return</span> <span class="n">uv_version</span>
</span><span id="Session-190"><a href="#Session-190"><span class="linenos">190</span></a>        <span class="k">pass</span>
</span><span id="Session-191"><a href="#Session-191"><span class="linenos">191</span></a>
</span><span id="Session-192"><a href="#Session-192"><span class="linenos">192</span></a>    <span class="k">def</span> <span class="nf">_compare_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version1</span><span class="p">:</span> <span class="n">array</span><span class="p">,</span> <span class="n">version2</span><span class="p">:</span> <span class="n">array</span><span class="p">):</span>
</span><span id="Session-193"><a href="#Session-193"><span class="linenos">193</span></a>        <span class="c1"># The version1 &gt;= version2, the result is True, otherwise, the result is False</span>
</span><span id="Session-194"><a href="#Session-194"><span class="linenos">194</span></a>        <span class="k">if</span> <span class="n">version1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">version2</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
</span><span id="Session-195"><a href="#Session-195"><span class="linenos">195</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="Session-196"><a href="#Session-196"><span class="linenos">196</span></a>        <span class="k">elif</span> <span class="n">version1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">version2</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
</span><span id="Session-197"><a href="#Session-197"><span class="linenos">197</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Session-198"><a href="#Session-198"><span class="linenos">198</span></a>        <span class="k">if</span> <span class="n">version1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">version2</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
</span><span id="Session-199"><a href="#Session-199"><span class="linenos">199</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="Session-200"><a href="#Session-200"><span class="linenos">200</span></a>        <span class="k">elif</span> <span class="n">version1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">version2</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
</span><span id="Session-201"><a href="#Session-201"><span class="linenos">201</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Session-202"><a href="#Session-202"><span class="linenos">202</span></a>        <span class="k">if</span> <span class="n">version1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">version2</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
</span><span id="Session-203"><a href="#Session-203"><span class="linenos">203</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="Session-204"><a href="#Session-204"><span class="linenos">204</span></a>        <span class="k">elif</span> <span class="n">version1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">version2</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
</span><span id="Session-205"><a href="#Session-205"><span class="linenos">205</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Session-206"><a href="#Session-206"><span class="linenos">206</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="Session-207"><a href="#Session-207"><span class="linenos">207</span></a>
</span><span id="Session-208"><a href="#Session-208"><span class="linenos">208</span></a>    <span class="k">def</span> <span class="nf">_get_server_timeout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-209"><a href="#Session-209"><span class="linenos">209</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">)</span>
</span><span id="Session-210"><a href="#Session-210"><span class="linenos">210</span></a>
</span><span id="Session-211"><a href="#Session-211"><span class="linenos">211</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Session-212"><a href="#Session-212"><span class="linenos">212</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Session-213"><a href="#Session-213"><span class="linenos">213</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Session-214"><a href="#Session-214"><span class="linenos">214</span></a>
</span><span id="Session-215"><a href="#Session-215"><span class="linenos">215</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_UOTIMEOUT</span><span class="p">)</span>
</span><span id="Session-216"><a href="#Session-216"><span class="linenos">216</span></a>
</span><span id="Session-217"><a href="#Session-217"><span class="linenos">217</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="Session-218"><a href="#Session-218"><span class="linenos">218</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="Session-219"><a href="#Session-219"><span class="linenos">219</span></a>
</span><span id="Session-220"><a href="#Session-220"><span class="linenos">220</span></a>                <span class="n">retcode</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Session-221"><a href="#Session-221"><span class="linenos">221</span></a>
</span><span id="Session-222"><a href="#Session-222"><span class="linenos">222</span></a>                <span class="k">if</span> <span class="n">retcode</span><span class="p">:</span>
</span><span id="Session-223"><a href="#Session-223"><span class="linenos">223</span></a>                    <span class="k">if</span> <span class="p">(</span>
</span><span id="Session-224"><a href="#Session-224"><span class="linenos">224</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">db_type</span> <span class="o">==</span> <span class="s2">&quot;UV&quot;</span>
</span><span id="Session-225"><a href="#Session-225"><span class="linenos">225</span></a>                        <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_uv_timeout_flag</span>
</span><span id="Session-226"><a href="#Session-226"><span class="linenos">226</span></a>                        <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">db_type</span> <span class="o">==</span> <span class="s2">&quot;UD&quot;</span>
</span><span id="Session-227"><a href="#Session-227"><span class="linenos">227</span></a>                    <span class="p">):</span>
</span><span id="Session-228"><a href="#Session-228"><span class="linenos">228</span></a>                        <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">retcode</span><span class="p">)</span>
</span><span id="Session-229"><a href="#Session-229"><span class="linenos">229</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="Session-230"><a href="#Session-230"><span class="linenos">230</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">_uoserver_timeout</span> <span class="o">=</span> <span class="n">retcode</span>
</span><span id="Session-231"><a href="#Session-231"><span class="linenos">231</span></a>                <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">db_type</span> <span class="o">==</span> <span class="s2">&quot;UV&quot;</span><span class="p">:</span>
</span><span id="Session-232"><a href="#Session-232"><span class="linenos">232</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_uoserver_timeout</span> <span class="o">=</span> <span class="n">retcode</span>
</span><span id="Session-233"><a href="#Session-233"><span class="linenos">233</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="Session-234"><a href="#Session-234"><span class="linenos">234</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_uoserver_timeout</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="Session-235"><a href="#Session-235"><span class="linenos">235</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Session-236"><a href="#Session-236"><span class="linenos">236</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</span><span id="Session-237"><a href="#Session-237"><span class="linenos">237</span></a>
</span><span id="Session-238"><a href="#Session-238"><span class="linenos">238</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="Session-239"><a href="#Session-239"><span class="linenos">239</span></a>
</span><span id="Session-240"><a href="#Session-240"><span class="linenos">240</span></a>    <span class="nd">@property</span>
</span><span id="Session-241"><a href="#Session-241"><span class="linenos">241</span></a>    <span class="k">def</span> <span class="nf">uoserver_timeout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-242"><a href="#Session-242"><span class="linenos">242</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Session-243"><a href="#Session-243"><span class="linenos">243</span></a><span class="sd">        The following code snippet retrieves the UO Server timeout value after connecting to the server:</span>
</span><span id="Session-244"><a href="#Session-244"><span class="linenos">244</span></a><span class="sd">        ses = uopy.connect(user=user,password=passwd)</span>
</span><span id="Session-245"><a href="#Session-245"><span class="linenos">245</span></a><span class="sd">        uotimeout = ses.uoserver_timeout</span>
</span><span id="Session-246"><a href="#Session-246"><span class="linenos">246</span></a><span class="sd">        On the server side, the timeout can be set in the unirpcservice file and passed as an argument when the uvapi_server process is started.</span>
</span><span id="Session-247"><a href="#Session-247"><span class="linenos">247</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Session-248"><a href="#Session-248"><span class="linenos">248</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_uoserver_timeout</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Session-249"><a href="#Session-249"><span class="linenos">249</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_get_server_timeout</span><span class="p">()</span>
</span><span id="Session-250"><a href="#Session-250"><span class="linenos">250</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_uoserver_timeout</span>
</span><span id="Session-251"><a href="#Session-251"><span class="linenos">251</span></a>
</span><span id="Session-252"><a href="#Session-252"><span class="linenos">252</span></a>    <span class="k">def</span> <span class="nf">sync_marks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mark_list</span><span class="p">):</span>
</span><span id="Session-253"><a href="#Session-253"><span class="linenos">253</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">marks</span> <span class="o">=</span> <span class="n">MARKS_NAMED_TUPLE</span><span class="p">(</span><span class="o">*</span><span class="n">mark_list</span><span class="p">)</span>
</span><span id="Session-254"><a href="#Session-254"><span class="linenos">254</span></a>
</span><span id="Session-255"><a href="#Session-255"><span class="linenos">255</span></a>    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
</span><span id="Session-256"><a href="#Session-256"><span class="linenos">256</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="Session-257"><a href="#Session-257"><span class="linenos">257</span></a>            <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">[</span><span class="n">ENCODING</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;replace&quot;</span><span class="p">)</span>
</span><span id="Session-258"><a href="#Session-258"><span class="linenos">258</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">):</span>
</span><span id="Session-259"><a href="#Session-259"><span class="linenos">259</span></a>            <span class="k">return</span> <span class="n">obj</span>
</span><span id="Session-260"><a href="#Session-260"><span class="linenos">260</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">MvDelimited</span><span class="p">):</span>
</span><span id="Session-261"><a href="#Session-261"><span class="linenos">261</span></a>            <span class="k">return</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="Session-262"><a href="#Session-262"><span class="linenos">262</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="Session-263"><a href="#Session-263"><span class="linenos">263</span></a>            <span class="k">return</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">MvDelimited</span><span class="p">(</span><span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="p">))</span>
</span><span id="Session-264"><a href="#Session-264"><span class="linenos">264</span></a>        <span class="k">elif</span> <span class="n">obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Session-265"><a href="#Session-265"><span class="linenos">265</span></a>            <span class="k">return</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span>
</span><span id="Session-266"><a href="#Session-266"><span class="linenos">266</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Session-267"><a href="#Session-267"><span class="linenos">267</span></a>            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">[</span><span class="n">ENCODING</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;replace&quot;</span><span class="p">)</span>
</span><span id="Session-268"><a href="#Session-268"><span class="linenos">268</span></a>
</span><span id="Session-269"><a href="#Session-269"><span class="linenos">269</span></a>    <span class="k">def</span> <span class="nf">decode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
</span><span id="Session-270"><a href="#Session-270"><span class="linenos">270</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">):</span>
</span><span id="Session-271"><a href="#Session-271"><span class="linenos">271</span></a>            <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">[</span><span class="n">ENCODING</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;replace&quot;</span><span class="p">)</span>
</span><span id="Session-272"><a href="#Session-272"><span class="linenos">272</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Session-273"><a href="#Session-273"><span class="linenos">273</span></a>            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="Session-274"><a href="#Session-274"><span class="linenos">274</span></a>
</span><span id="Session-275"><a href="#Session-275"><span class="linenos">275</span></a>    <span class="k">def</span> <span class="nf">_check_callable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">in_exec</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Session-276"><a href="#Session-276"><span class="linenos">276</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span><span class="o">.</span><span class="n">is_connected</span><span class="p">:</span>
</span><span id="Session-277"><a href="#Session-277"><span class="linenos">277</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_SESSION_NOT_OPEN</span><span class="p">)</span>
</span><span id="Session-278"><a href="#Session-278"><span class="linenos">278</span></a>
</span><span id="Session-279"><a href="#Session-279"><span class="linenos">279</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">in_exec</span><span class="p">:</span>
</span><span id="Session-280"><a href="#Session-280"><span class="linenos">280</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_command</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Session-281"><a href="#Session-281"><span class="linenos">281</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_command</span><span class="o">.</span><span class="n">status</span> <span class="ow">in</span> <span class="p">{</span><span class="n">EXEC_MORE_OUTPUT</span><span class="p">,</span> <span class="n">EXEC_REPLY</span><span class="p">}:</span>
</span><span id="Session-282"><a href="#Session-282"><span class="linenos">282</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_EXECUTEISACTIVE</span><span class="p">)</span>
</span><span id="Session-283"><a href="#Session-283"><span class="linenos">283</span></a>
</span><span id="Session-284"><a href="#Session-284"><span class="linenos">284</span></a>    <span class="k">def</span> <span class="nf">rpc_call</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">,</span> <span class="n">in_exec</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Session-285"><a href="#Session-285"><span class="linenos">285</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Session-286"><a href="#Session-286"><span class="linenos">286</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_check_callable</span><span class="p">(</span><span class="n">in_exec</span><span class="p">)</span>
</span><span id="Session-287"><a href="#Session-287"><span class="linenos">287</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="Session-288"><a href="#Session-288"><span class="linenos">288</span></a>
</span><span id="Session-289"><a href="#Session-289"><span class="linenos">289</span></a>    <span class="k">def</span> <span class="nf">read_packet4cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">packet</span><span class="p">):</span>
</span><span id="Session-290"><a href="#Session-290"><span class="linenos">290</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Session-291"><a href="#Session-291"><span class="linenos">291</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span><span class="o">.</span><span class="n">read_packet</span><span class="p">(</span><span class="n">packet</span><span class="p">)</span>
</span><span id="Session-292"><a href="#Session-292"><span class="linenos">292</span></a>
</span><span id="Session-293"><a href="#Session-293"><span class="linenos">293</span></a>    <span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-294"><a href="#Session-294"><span class="linenos">294</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Session-295"><a href="#Session-295"><span class="linenos">295</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_active</span><span class="p">:</span>
</span><span id="Session-296"><a href="#Session-296"><span class="linenos">296</span></a>                <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Session._connect: already connected.&quot;</span><span class="p">)</span>
</span><span id="Session-297"><a href="#Session-297"><span class="linenos">297</span></a>                <span class="k">return</span>
</span><span id="Session-298"><a href="#Session-298"><span class="linenos">298</span></a>
</span><span id="Session-299"><a href="#Session-299"><span class="linenos">299</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span> <span class="o">=</span> <span class="n">UniRPCConnection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">)</span>
</span><span id="Session-300"><a href="#Session-300"><span class="linenos">300</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span><span id="Session-301"><a href="#Session-301"><span class="linenos">301</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_login</span><span class="p">()</span>
</span><span id="Session-302"><a href="#Session-302"><span class="linenos">302</span></a>
</span><span id="Session-303"><a href="#Session-303"><span class="linenos">303</span></a>            <span class="c1"># TODO initialize the transaction object</span>
</span><span id="Session-304"><a href="#Session-304"><span class="linenos">304</span></a>            <span class="c1"># self._transaction = self.Transaction()</span>
</span><span id="Session-305"><a href="#Session-305"><span class="linenos">305</span></a>
</span><span id="Session-306"><a href="#Session-306"><span class="linenos">306</span></a>            <span class="n">thread_data</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="Session-307"><a href="#Session-307"><span class="linenos">307</span></a>            <span class="c1"># get server version</span>
</span><span id="Session-308"><a href="#Session-308"><span class="linenos">308</span></a>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">Command</span><span class="p">()</span>
</span><span id="Session-309"><a href="#Session-309"><span class="linenos">309</span></a>            <span class="n">suffix</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span>
</span><span id="Session-310"><a href="#Session-310"><span class="linenos">310</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">db_type</span> <span class="o">==</span> <span class="s2">&quot;UV&quot;</span><span class="p">:</span>
</span><span id="Session-311"><a href="#Session-311"><span class="linenos">311</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_host_type</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Session-312"><a href="#Session-312"><span class="linenos">312</span></a>                    <span class="c1"># Unix</span>
</span><span id="Session-313"><a href="#Session-313"><span class="linenos">313</span></a>                    <span class="n">cmd</span><span class="o">.</span><span class="n">command_text</span> <span class="o">=</span> <span class="s1">&#39;SH -c &quot;uv -version&quot;&#39;</span>
</span><span id="Session-314"><a href="#Session-314"><span class="linenos">314</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="Session-315"><a href="#Session-315"><span class="linenos">315</span></a>                    <span class="n">cmd</span><span class="o">.</span><span class="n">command_text</span> <span class="o">=</span> <span class="s1">&#39;DOS /c &quot;uv -version&quot;&#39;</span>
</span><span id="Session-316"><a href="#Session-316"><span class="linenos">316</span></a>                <span class="n">cmd</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span><span id="Session-317"><a href="#Session-317"><span class="linenos">317</span></a>                <span class="n">uv1135</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_uv_version</span><span class="p">(</span><span class="s2">&quot;UniVerse 11.3.5&quot;</span><span class="p">)</span>
</span><span id="Session-318"><a href="#Session-318"><span class="linenos">318</span></a>                <span class="n">uv_version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_uv_version</span><span class="p">(</span><span class="n">cmd</span><span class="o">.</span><span class="n">response</span><span class="o">.</span><span class="n">removesuffix</span><span class="p">(</span><span class="n">suffix</span><span class="p">))</span>
</span><span id="Session-319"><a href="#Session-319"><span class="linenos">319</span></a>                <span class="k">if</span> <span class="n">uv_version</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">uv1135</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Session-320"><a href="#Session-320"><span class="linenos">320</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_UNKNOWN_ERROR</span><span class="p">)</span>
</span><span id="Session-321"><a href="#Session-321"><span class="linenos">321</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_uv_timeout_flag</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compare_version</span><span class="p">(</span><span class="n">uv_version</span><span class="p">,</span> <span class="n">uv1135</span><span class="p">)</span>
</span><span id="Session-322"><a href="#Session-322"><span class="linenos">322</span></a>
</span><span id="Session-323"><a href="#Session-323"><span class="linenos">323</span></a>    <span class="k">def</span> <span class="nf">_login</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-324"><a href="#Session-324"><span class="linenos">324</span></a>        <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Session-325"><a href="#Session-325"><span class="linenos">325</span></a>        <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Session-326"><a href="#Session-326"><span class="linenos">326</span></a>
</span><span id="Session-327"><a href="#Session-327"><span class="linenos">327</span></a>        <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">_COMMS_VERSION</span><span class="p">)</span>
</span><span id="Session-328"><a href="#Session-328"><span class="linenos">328</span></a>        <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">_CS_VERSION</span><span class="p">)</span>
</span><span id="Session-329"><a href="#Session-329"><span class="linenos">329</span></a>        <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">[</span><span class="n">USER</span><span class="p">]))</span>
</span><span id="Session-330"><a href="#Session-330"><span class="linenos">330</span></a>        <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">mangle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">[</span><span class="n">PASSWORD</span><span class="p">]),</span> <span class="n">_COMMS_VERSION</span><span class="p">))</span>
</span><span id="Session-331"><a href="#Session-331"><span class="linenos">331</span></a>        <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">[</span><span class="n">ACCOUNT</span><span class="p">]))</span>
</span><span id="Session-332"><a href="#Session-332"><span class="linenos">332</span></a>        <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_license_token</span><span class="p">))</span>
</span><span id="Session-333"><a href="#Session-333"><span class="linenos">333</span></a>        <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">_RESERVED</span><span class="p">)</span>
</span><span id="Session-334"><a href="#Session-334"><span class="linenos">334</span></a>
</span><span id="Session-335"><a href="#Session-335"><span class="linenos">335</span></a>        <span class="n">ip_int</span><span class="p">,</span> <span class="n">hostname</span> <span class="o">=</span> <span class="n">get_host_info</span><span class="p">()</span>
</span><span id="Session-336"><a href="#Session-336"><span class="linenos">336</span></a>
</span><span id="Session-337"><a href="#Session-337"><span class="linenos">337</span></a>        <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">ip_int</span><span class="p">)</span>
</span><span id="Session-338"><a href="#Session-338"><span class="linenos">338</span></a>        <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mac_address</span><span class="p">))</span>
</span><span id="Session-339"><a href="#Session-339"><span class="linenos">339</span></a>        <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">hostname</span><span class="p">))</span>
</span><span id="Session-340"><a href="#Session-340"><span class="linenos">340</span></a>        <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="Session-341"><a href="#Session-341"><span class="linenos">341</span></a>
</span><span id="Session-342"><a href="#Session-342"><span class="linenos">342</span></a>        <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">pooling</span><span class="p">[</span><span class="n">POOLING_ON</span><span class="p">]:</span>
</span><span id="Session-343"><a href="#Session-343"><span class="linenos">343</span></a>            <span class="k">if</span> <span class="n">is_cp_supported</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span><span class="o">.</span><span class="n">server_id</span><span class="p">):</span>
</span><span id="Session-344"><a href="#Session-344"><span class="linenos">344</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="Session-345"><a href="#Session-345"><span class="linenos">345</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Session-346"><a href="#Session-346"><span class="linenos">346</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span>
</span><span id="Session-347"><a href="#Session-347"><span class="linenos">347</span></a>                    <span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_CP_NOTSUPPORTED</span><span class="p">,</span>
</span><span id="Session-348"><a href="#Session-348"><span class="linenos">348</span></a>                    <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Database Server upgrade is needed.&quot;</span><span class="p">,</span>
</span><span id="Session-349"><a href="#Session-349"><span class="linenos">349</span></a>                <span class="p">)</span>
</span><span id="Session-350"><a href="#Session-350"><span class="linenos">350</span></a>
</span><span id="Session-351"><a href="#Session-351"><span class="linenos">351</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">[</span><span class="n">PASSWORD</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="Session-352"><a href="#Session-352"><span class="linenos">352</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rpc_call</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="Session-353"><a href="#Session-353"><span class="linenos">353</span></a>
</span><span id="Session-354"><a href="#Session-354"><span class="linenos">354</span></a>        <span class="n">resp_code</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Session-355"><a href="#Session-355"><span class="linenos">355</span></a>        <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Session-356"><a href="#Session-356"><span class="linenos">356</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_nls_init</span><span class="p">()</span>
</span><span id="Session-357"><a href="#Session-357"><span class="linenos">357</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_get_host_info</span><span class="p">()</span>
</span><span id="Session-358"><a href="#Session-358"><span class="linenos">358</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">is_active</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Session-359"><a href="#Session-359"><span class="linenos">359</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_transaction</span> <span class="o">=</span> <span class="n">Transaction</span><span class="p">(</span><span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Session-360"><a href="#Session-360"><span class="linenos">360</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Session-361"><a href="#Session-361"><span class="linenos">361</span></a>            <span class="k">if</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">argument_count</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Session-362"><a href="#Session-362"><span class="linenos">362</span></a>                <span class="n">last_error</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</span><span id="Session-363"><a href="#Session-363"><span class="linenos">363</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">last_error</span><span class="p">)</span>
</span><span id="Session-364"><a href="#Session-364"><span class="linenos">364</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Session-365"><a href="#Session-365"><span class="linenos">365</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="Session-366"><a href="#Session-366"><span class="linenos">366</span></a>
</span><span id="Session-367"><a href="#Session-367"><span class="linenos">367</span></a>    <span class="k">def</span> <span class="nf">_nls_init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-368"><a href="#Session-368"><span class="linenos">368</span></a>        <span class="kn">from</span> <span class="nn">._nlsmap</span> <span class="kn">import</span> <span class="n">NLSMap</span>
</span><span id="Session-369"><a href="#Session-369"><span class="linenos">369</span></a>
</span><span id="Session-370"><a href="#Session-370"><span class="linenos">370</span></a>        <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Session-371"><a href="#Session-371"><span class="linenos">371</span></a>        <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Session-372"><a href="#Session-372"><span class="linenos">372</span></a>        <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_GETSERVERINFO</span><span class="p">)</span>
</span><span id="Session-373"><a href="#Session-373"><span class="linenos">373</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rpc_call</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="Session-374"><a href="#Session-374"><span class="linenos">374</span></a>
</span><span id="Session-375"><a href="#Session-375"><span class="linenos">375</span></a>        <span class="n">resp_code</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Session-376"><a href="#Session-376"><span class="linenos">376</span></a>        <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Session-377"><a href="#Session-377"><span class="linenos">377</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="Session-378"><a href="#Session-378"><span class="linenos">378</span></a>
</span><span id="Session-379"><a href="#Session-379"><span class="linenos">379</span></a>        <span class="n">nls_mode</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="Session-380"><a href="#Session-380"><span class="linenos">380</span></a>        <span class="n">nls_lc_mode</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="Session-381"><a href="#Session-381"><span class="linenos">381</span></a>
</span><span id="Session-382"><a href="#Session-382"><span class="linenos">382</span></a>        <span class="k">if</span> <span class="n">nls_mode</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Session-383"><a href="#Session-383"><span class="linenos">383</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_is_nls_enabled</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Session-384"><a href="#Session-384"><span class="linenos">384</span></a>            <span class="k">if</span> <span class="n">nls_lc_mode</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Session-385"><a href="#Session-385"><span class="linenos">385</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_is_nls_locale_enabled</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Session-386"><a href="#Session-386"><span class="linenos">386</span></a>        <span class="k">elif</span> <span class="n">nls_mode</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="Session-387"><a href="#Session-387"><span class="linenos">387</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_is_ud</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Session-388"><a href="#Session-388"><span class="linenos">388</span></a>        <span class="k">elif</span> <span class="n">nls_mode</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="Session-389"><a href="#Session-389"><span class="linenos">389</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_is_d3</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Session-390"><a href="#Session-390"><span class="linenos">390</span></a>
</span><span id="Session-391"><a href="#Session-391"><span class="linenos">391</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_nls_enabled</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_ud</span><span class="p">:</span>
</span><span id="Session-392"><a href="#Session-392"><span class="linenos">392</span></a>            <span class="n">NLSMap</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">set_server_map_name</span><span class="p">(</span><span class="s2">&quot;NONE&quot;</span><span class="p">)</span>
</span><span id="Session-393"><a href="#Session-393"><span class="linenos">393</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_nls_enabled</span><span class="p">:</span>
</span><span id="Session-394"><a href="#Session-394"><span class="linenos">394</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="s2">&quot;UTF-8&quot;</span>
</span><span id="Session-395"><a href="#Session-395"><span class="linenos">395</span></a>
</span><span id="Session-396"><a href="#Session-396"><span class="linenos">396</span></a>            <span class="c1"># if self.is_nls_locale_enabled:</span>
</span><span id="Session-397"><a href="#Session-397"><span class="linenos">397</span></a>            <span class="c1">#     _NLSLocale(self).set_server_locale_names(&quot;DEFAULT&quot;)</span>
</span><span id="Session-398"><a href="#Session-398"><span class="linenos">398</span></a>
</span><span id="Session-399"><a href="#Session-399"><span class="linenos">399</span></a>    <span class="k">def</span> <span class="nf">_get_host_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-400"><a href="#Session-400"><span class="linenos">400</span></a>        <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Session-401"><a href="#Session-401"><span class="linenos">401</span></a>        <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Session-402"><a href="#Session-402"><span class="linenos">402</span></a>        <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_SESSIONINFO</span><span class="p">)</span>
</span><span id="Session-403"><a href="#Session-403"><span class="linenos">403</span></a>
</span><span id="Session-404"><a href="#Session-404"><span class="linenos">404</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rpc_call</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="Session-405"><a href="#Session-405"><span class="linenos">405</span></a>
</span><span id="Session-406"><a href="#Session-406"><span class="linenos">406</span></a>        <span class="n">resp_code</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Session-407"><a href="#Session-407"><span class="linenos">407</span></a>        <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Session-408"><a href="#Session-408"><span class="linenos">408</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_host_type</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="Session-409"><a href="#Session-409"><span class="linenos">409</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Session-410"><a href="#Session-410"><span class="linenos">410</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="Session-411"><a href="#Session-411"><span class="linenos">411</span></a>
</span><span id="Session-412"><a href="#Session-412"><span class="linenos">412</span></a>    <span class="k">def</span> <span class="nf">check_rpc_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
</span><span id="Session-413"><a href="#Session-413"><span class="linenos">413</span></a>        <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">code</span> <span class="ow">in</span> <span class="n">_RPC_ERRORS</span><span class="p">:</span>
</span><span id="Session-414"><a href="#Session-414"><span class="linenos">414</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_is_rpc_failed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Session-415"><a href="#Session-415"><span class="linenos">415</span></a>
</span><span id="Session-416"><a href="#Session-416"><span class="linenos">416</span></a>    <span class="k">def</span> <span class="nf">health_check</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-417"><a href="#Session-417"><span class="linenos">417</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Session-418"><a href="#Session-418"><span class="linenos">418</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_rpc_failed</span><span class="p">:</span>
</span><span id="Session-419"><a href="#Session-419"><span class="linenos">419</span></a>                <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;RPC failed&quot;</span><span class="p">)</span>
</span><span id="Session-420"><a href="#Session-420"><span class="linenos">420</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="Session-421"><a href="#Session-421"><span class="linenos">421</span></a>
</span><span id="Session-422"><a href="#Session-422"><span class="linenos">422</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span><span class="o">.</span><span class="n">health_check</span><span class="p">()</span>
</span><span id="Session-423"><a href="#Session-423"><span class="linenos">423</span></a>
</span><span id="Session-424"><a href="#Session-424"><span class="linenos">424</span></a>    <span class="k">def</span> <span class="nf">hard_close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-425"><a href="#Session-425"><span class="linenos">425</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Session-426"><a href="#Session-426"><span class="linenos">426</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="Session-427"><a href="#Session-427"><span class="linenos">427</span></a>
</span><span id="Session-428"><a href="#Session-428"><span class="linenos">428</span></a>            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Session-429"><a href="#Session-429"><span class="linenos">429</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pool</span><span class="p">:</span>
</span><span id="Session-430"><a href="#Session-430"><span class="linenos">430</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">__pool</span><span class="o">.</span><span class="n">hard_free</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Session-431"><a href="#Session-431"><span class="linenos">431</span></a>
</span><span id="Session-432"><a href="#Session-432"><span class="linenos">432</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Session-433"><a href="#Session-433"><span class="linenos">433</span></a>            <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</span><span id="Session-434"><a href="#Session-434"><span class="linenos">434</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="Session-435"><a href="#Session-435"><span class="linenos">435</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">is_active</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Session-436"><a href="#Session-436"><span class="linenos">436</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Session-437"><a href="#Session-437"><span class="linenos">437</span></a>            <span class="n">thread_data</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Session-438"><a href="#Session-438"><span class="linenos">438</span></a>
</span><span id="Session-439"><a href="#Session-439"><span class="linenos">439</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="s2">&quot;is hard-closed &quot;</span><span class="p">)</span>
</span><span id="Session-440"><a href="#Session-440"><span class="linenos">440</span></a>
</span><span id="Session-441"><a href="#Session-441"><span class="linenos">441</span></a>    <span class="k">def</span> <span class="nf">get_atvar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">atvar</span><span class="p">):</span>
</span><span id="Session-442"><a href="#Session-442"><span class="linenos">442</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a @var value from the server.</span>
</span><span id="Session-443"><a href="#Session-443"><span class="linenos">443</span></a>
</span><span id="Session-444"><a href="#Session-444"><span class="linenos">444</span></a><span class="sd">        Args:</span>
</span><span id="Session-445"><a href="#Session-445"><span class="linenos">445</span></a><span class="sd">            atvar: uopy.AtVar enum.</span>
</span><span id="Session-446"><a href="#Session-446"><span class="linenos">446</span></a>
</span><span id="Session-447"><a href="#Session-447"><span class="linenos">447</span></a><span class="sd">        Returns:</span>
</span><span id="Session-448"><a href="#Session-448"><span class="linenos">448</span></a><span class="sd">            DynArray: the value of the @var</span>
</span><span id="Session-449"><a href="#Session-449"><span class="linenos">449</span></a>
</span><span id="Session-450"><a href="#Session-450"><span class="linenos">450</span></a><span class="sd">        Raises:</span>
</span><span id="Session-451"><a href="#Session-451"><span class="linenos">451</span></a><span class="sd">            UOError</span>
</span><span id="Session-452"><a href="#Session-452"><span class="linenos">452</span></a>
</span><span id="Session-453"><a href="#Session-453"><span class="linenos">453</span></a><span class="sd">        Examples:</span>
</span><span id="Session-454"><a href="#Session-454"><span class="linenos">454</span></a><span class="sd">            &gt;&gt;&gt; import uopy</span>
</span><span id="Session-455"><a href="#Session-455"><span class="linenos">455</span></a><span class="sd">            &gt;&gt;&gt; for atvar in uopy.AtVar:</span>
</span><span id="Session-456"><a href="#Session-456"><span class="linenos">456</span></a><span class="sd">                    print(atvar.name, atvar.value)</span>
</span><span id="Session-457"><a href="#Session-457"><span class="linenos">457</span></a>
</span><span id="Session-458"><a href="#Session-458"><span class="linenos">458</span></a><span class="sd">            LOG_NAME 1</span>
</span><span id="Session-459"><a href="#Session-459"><span class="linenos">459</span></a><span class="sd">            PATH 2</span>
</span><span id="Session-460"><a href="#Session-460"><span class="linenos">460</span></a><span class="sd">            USER_NO 3</span>
</span><span id="Session-461"><a href="#Session-461"><span class="linenos">461</span></a><span class="sd">            WHO 4</span>
</span><span id="Session-462"><a href="#Session-462"><span class="linenos">462</span></a><span class="sd">            TRANSACTION 5</span>
</span><span id="Session-463"><a href="#Session-463"><span class="linenos">463</span></a><span class="sd">            DATA_PENDING 6</span>
</span><span id="Session-464"><a href="#Session-464"><span class="linenos">464</span></a><span class="sd">            USER_RETURN_CODE 7</span>
</span><span id="Session-465"><a href="#Session-465"><span class="linenos">465</span></a><span class="sd">            SYSTEM_RETURN_CODE 8</span>
</span><span id="Session-466"><a href="#Session-466"><span class="linenos">466</span></a><span class="sd">            NULL_STR 9</span>
</span><span id="Session-467"><a href="#Session-467"><span class="linenos">467</span></a><span class="sd">            SCHEMA 10</span>
</span><span id="Session-468"><a href="#Session-468"><span class="linenos">468</span></a><span class="sd">            TRANSACTION_LEVEL 11</span>
</span><span id="Session-469"><a href="#Session-469"><span class="linenos">469</span></a>
</span><span id="Session-470"><a href="#Session-470"><span class="linenos">470</span></a><span class="sd">            &gt;&gt;&gt;</span>
</span><span id="Session-471"><a href="#Session-471"><span class="linenos">471</span></a><span class="sd">            &gt;&gt;&gt; with uopy.connect(user=&#39;test_user&#39;, password=&#39;test_password&#39;) as session:</span>
</span><span id="Session-472"><a href="#Session-472"><span class="linenos">472</span></a><span class="sd">                    log_name = session.get_atvar(uopy.AtVar.LOG_NAME)</span>
</span><span id="Session-473"><a href="#Session-473"><span class="linenos">473</span></a><span class="sd">                    account_path = session.get_atvar(uopy.AtVar.PATH)</span>
</span><span id="Session-474"><a href="#Session-474"><span class="linenos">474</span></a><span class="sd">                    print(log_name)</span>
</span><span id="Session-475"><a href="#Session-475"><span class="linenos">475</span></a><span class="sd">                    print(account_path)</span>
</span><span id="Session-476"><a href="#Session-476"><span class="linenos">476</span></a>
</span><span id="Session-477"><a href="#Session-477"><span class="linenos">477</span></a><span class="sd">            test_user</span>
</span><span id="Session-478"><a href="#Session-478"><span class="linenos">478</span></a><span class="sd">            C:\\U2\\ud82\\XDEMO</span>
</span><span id="Session-479"><a href="#Session-479"><span class="linenos">479</span></a>
</span><span id="Session-480"><a href="#Session-480"><span class="linenos">480</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Session-481"><a href="#Session-481"><span class="linenos">481</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">atvar</span><span class="p">)</span>
</span><span id="Session-482"><a href="#Session-482"><span class="linenos">482</span></a>
</span><span id="Session-483"><a href="#Session-483"><span class="linenos">483</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_callable</span><span class="p">()</span>
</span><span id="Session-484"><a href="#Session-484"><span class="linenos">484</span></a>
</span><span id="Session-485"><a href="#Session-485"><span class="linenos">485</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Session-486"><a href="#Session-486"><span class="linenos">486</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Session-487"><a href="#Session-487"><span class="linenos">487</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Session-488"><a href="#Session-488"><span class="linenos">488</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_GETVALUE</span><span class="p">)</span>
</span><span id="Session-489"><a href="#Session-489"><span class="linenos">489</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">atvar</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</span><span id="Session-490"><a href="#Session-490"><span class="linenos">490</span></a>
</span><span id="Session-491"><a href="#Session-491"><span class="linenos">491</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="Session-492"><a href="#Session-492"><span class="linenos">492</span></a>
</span><span id="Session-493"><a href="#Session-493"><span class="linenos">493</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Session-494"><a href="#Session-494"><span class="linenos">494</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Session-495"><a href="#Session-495"><span class="linenos">495</span></a>                <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="Session-496"><a href="#Session-496"><span class="linenos">496</span></a>                <span class="k">return</span> <span class="n">DynArray</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="Session-497"><a href="#Session-497"><span class="linenos">497</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Session-498"><a href="#Session-498"><span class="linenos">498</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="Session-499"><a href="#Session-499"><span class="linenos">499</span></a>
</span><span id="Session-500"><a href="#Session-500"><span class="linenos">500</span></a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-501"><a href="#Session-501"><span class="linenos">501</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
</span><span id="Session-502"><a href="#Session-502"><span class="linenos">502</span></a>
</span><span id="Session-503"><a href="#Session-503"><span class="linenos">503</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_rpc_failed</span><span class="p">:</span>
</span><span id="Session-504"><a href="#Session-504"><span class="linenos">504</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Session-505"><a href="#Session-505"><span class="linenos">505</span></a>
</span><span id="Session-506"><a href="#Session-506"><span class="linenos">506</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_command</span><span class="p">:</span>
</span><span id="Session-507"><a href="#Session-507"><span class="linenos">507</span></a>            <span class="n">tmp_command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_command</span>
</span><span id="Session-508"><a href="#Session-508"><span class="linenos">508</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_command</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Session-509"><a href="#Session-509"><span class="linenos">509</span></a>
</span><span id="Session-510"><a href="#Session-510"><span class="linenos">510</span></a>            <span class="k">if</span> <span class="n">tmp_command</span><span class="o">.</span><span class="n">status</span> <span class="ow">in</span> <span class="p">{</span><span class="n">EXEC_MORE_OUTPUT</span><span class="p">,</span> <span class="n">EXEC_REPLY</span><span class="p">}:</span>
</span><span id="Session-511"><a href="#Session-511"><span class="linenos">511</span></a>                <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Session is in the middle of a command execution.&quot;</span><span class="p">)</span>
</span><span id="Session-512"><a href="#Session-512"><span class="linenos">512</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="Session-513"><a href="#Session-513"><span class="linenos">513</span></a>
</span><span id="Session-514"><a href="#Session-514"><span class="linenos">514</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tx_is_active</span><span class="p">():</span>
</span><span id="Session-515"><a href="#Session-515"><span class="linenos">515</span></a>            <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
</span><span id="Session-516"><a href="#Session-516"><span class="linenos">516</span></a>                <span class="s2">&quot;Session is in the middle of a transaction, will try to roll back.&quot;</span>
</span><span id="Session-517"><a href="#Session-517"><span class="linenos">517</span></a>            <span class="p">)</span>
</span><span id="Session-518"><a href="#Session-518"><span class="linenos">518</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="Session-519"><a href="#Session-519"><span class="linenos">519</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_transaction</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
</span><span id="Session-520"><a href="#Session-520"><span class="linenos">520</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Session-521"><a href="#Session-521"><span class="linenos">521</span></a>                <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Error occurred during transaction roll back.&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</span><span id="Session-522"><a href="#Session-522"><span class="linenos">522</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="Session-523"><a href="#Session-523"><span class="linenos">523</span></a>
</span><span id="Session-524"><a href="#Session-524"><span class="linenos">524</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="Session-525"><a href="#Session-525"><span class="linenos">525</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="Session-526"><a href="#Session-526"><span class="linenos">526</span></a>
</span><span id="Session-527"><a href="#Session-527"><span class="linenos">527</span></a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-528"><a href="#Session-528"><span class="linenos">528</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the session or return it to the connection pool.</span>
</span><span id="Session-529"><a href="#Session-529"><span class="linenos">529</span></a>
</span><span id="Session-530"><a href="#Session-530"><span class="linenos">530</span></a><span class="sd">        Raises:</span>
</span><span id="Session-531"><a href="#Session-531"><span class="linenos">531</span></a><span class="sd">            UOError</span>
</span><span id="Session-532"><a href="#Session-532"><span class="linenos">532</span></a>
</span><span id="Session-533"><a href="#Session-533"><span class="linenos">533</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Session-534"><a href="#Session-534"><span class="linenos">534</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
</span><span id="Session-535"><a href="#Session-535"><span class="linenos">535</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_active</span><span class="p">:</span>
</span><span id="Session-536"><a href="#Session-536"><span class="linenos">536</span></a>            <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Session::disconnect: session is inactive.&quot;</span><span class="p">)</span>
</span><span id="Session-537"><a href="#Session-537"><span class="linenos">537</span></a>            <span class="k">return</span>
</span><span id="Session-538"><a href="#Session-538"><span class="linenos">538</span></a>
</span><span id="Session-539"><a href="#Session-539"><span class="linenos">539</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Session-540"><a href="#Session-540"><span class="linenos">540</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pool</span><span class="p">:</span>
</span><span id="Session-541"><a href="#Session-541"><span class="linenos">541</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">__pool</span><span class="o">.</span><span class="n">free</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Session-542"><a href="#Session-542"><span class="linenos">542</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Session-543"><a href="#Session-543"><span class="linenos">543</span></a>                <span class="c1"># self.reset()</span>
</span><span id="Session-544"><a href="#Session-544"><span class="linenos">544</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">hard_close</span><span class="p">()</span>
</span><span id="Session-545"><a href="#Session-545"><span class="linenos">545</span></a>
</span><span id="Session-546"><a href="#Session-546"><span class="linenos">546</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="Session-547"><a href="#Session-547"><span class="linenos">547</span></a>
</span><span id="Session-548"><a href="#Session-548"><span class="linenos">548</span></a>    <span class="k">def</span> <span class="nf">bind_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command_obj</span><span class="p">):</span>
</span><span id="Session-549"><a href="#Session-549"><span class="linenos">549</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_command</span><span class="p">:</span>
</span><span id="Session-550"><a href="#Session-550"><span class="linenos">550</span></a>            <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
</span><span id="Session-551"><a href="#Session-551"><span class="linenos">551</span></a>                <span class="s2">&quot;A session can only have one bound Command object, will replace the old one&quot;</span>
</span><span id="Session-552"><a href="#Session-552"><span class="linenos">552</span></a>            <span class="p">)</span>
</span><span id="Session-553"><a href="#Session-553"><span class="linenos">553</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_command</span> <span class="o">=</span> <span class="n">command_obj</span>
</span><span id="Session-554"><a href="#Session-554"><span class="linenos">554</span></a>
</span><span id="Session-555"><a href="#Session-555"><span class="linenos">555</span></a>    <span class="k">def</span> <span class="nf">tx_start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-556"><a href="#Session-556"><span class="linenos">556</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Start a transaction on the server.</span>
</span><span id="Session-557"><a href="#Session-557"><span class="linenos">557</span></a>
</span><span id="Session-558"><a href="#Session-558"><span class="linenos">558</span></a><span class="sd">        Args:</span>
</span><span id="Session-559"><a href="#Session-559"><span class="linenos">559</span></a>
</span><span id="Session-560"><a href="#Session-560"><span class="linenos">560</span></a><span class="sd">        Returns:</span>
</span><span id="Session-561"><a href="#Session-561"><span class="linenos">561</span></a><span class="sd">            None</span>
</span><span id="Session-562"><a href="#Session-562"><span class="linenos">562</span></a>
</span><span id="Session-563"><a href="#Session-563"><span class="linenos">563</span></a><span class="sd">        Raises:</span>
</span><span id="Session-564"><a href="#Session-564"><span class="linenos">564</span></a><span class="sd">            UOError</span>
</span><span id="Session-565"><a href="#Session-565"><span class="linenos">565</span></a>
</span><span id="Session-566"><a href="#Session-566"><span class="linenos">566</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Session-567"><a href="#Session-567"><span class="linenos">567</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_transaction</span><span class="o">.</span><span class="n">begin</span><span class="p">()</span>
</span><span id="Session-568"><a href="#Session-568"><span class="linenos">568</span></a>
</span><span id="Session-569"><a href="#Session-569"><span class="linenos">569</span></a>    <span class="k">def</span> <span class="nf">tx_commit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-570"><a href="#Session-570"><span class="linenos">570</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Commit the current transaction on the server.</span>
</span><span id="Session-571"><a href="#Session-571"><span class="linenos">571</span></a>
</span><span id="Session-572"><a href="#Session-572"><span class="linenos">572</span></a><span class="sd">        Args:</span>
</span><span id="Session-573"><a href="#Session-573"><span class="linenos">573</span></a>
</span><span id="Session-574"><a href="#Session-574"><span class="linenos">574</span></a><span class="sd">        Returns:</span>
</span><span id="Session-575"><a href="#Session-575"><span class="linenos">575</span></a><span class="sd">            None</span>
</span><span id="Session-576"><a href="#Session-576"><span class="linenos">576</span></a>
</span><span id="Session-577"><a href="#Session-577"><span class="linenos">577</span></a><span class="sd">        Raises:</span>
</span><span id="Session-578"><a href="#Session-578"><span class="linenos">578</span></a><span class="sd">            UOError</span>
</span><span id="Session-579"><a href="#Session-579"><span class="linenos">579</span></a>
</span><span id="Session-580"><a href="#Session-580"><span class="linenos">580</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Session-581"><a href="#Session-581"><span class="linenos">581</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_transaction</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</span><span id="Session-582"><a href="#Session-582"><span class="linenos">582</span></a>
</span><span id="Session-583"><a href="#Session-583"><span class="linenos">583</span></a>    <span class="k">def</span> <span class="nf">tx_rollback</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-584"><a href="#Session-584"><span class="linenos">584</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Roll back the current transaction on the server.</span>
</span><span id="Session-585"><a href="#Session-585"><span class="linenos">585</span></a>
</span><span id="Session-586"><a href="#Session-586"><span class="linenos">586</span></a><span class="sd">        Args:</span>
</span><span id="Session-587"><a href="#Session-587"><span class="linenos">587</span></a>
</span><span id="Session-588"><a href="#Session-588"><span class="linenos">588</span></a><span class="sd">        Returns:</span>
</span><span id="Session-589"><a href="#Session-589"><span class="linenos">589</span></a><span class="sd">            None</span>
</span><span id="Session-590"><a href="#Session-590"><span class="linenos">590</span></a>
</span><span id="Session-591"><a href="#Session-591"><span class="linenos">591</span></a><span class="sd">        Raises:</span>
</span><span id="Session-592"><a href="#Session-592"><span class="linenos">592</span></a><span class="sd">            UOError</span>
</span><span id="Session-593"><a href="#Session-593"><span class="linenos">593</span></a>
</span><span id="Session-594"><a href="#Session-594"><span class="linenos">594</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Session-595"><a href="#Session-595"><span class="linenos">595</span></a>
</span><span id="Session-596"><a href="#Session-596"><span class="linenos">596</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_transaction</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
</span><span id="Session-597"><a href="#Session-597"><span class="linenos">597</span></a>
</span><span id="Session-598"><a href="#Session-598"><span class="linenos">598</span></a>    <span class="k">def</span> <span class="nf">tx_level</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-599"><a href="#Session-599"><span class="linenos">599</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the current transaction level on the server</span>
</span><span id="Session-600"><a href="#Session-600"><span class="linenos">600</span></a>
</span><span id="Session-601"><a href="#Session-601"><span class="linenos">601</span></a><span class="sd">        Args:</span>
</span><span id="Session-602"><a href="#Session-602"><span class="linenos">602</span></a>
</span><span id="Session-603"><a href="#Session-603"><span class="linenos">603</span></a><span class="sd">        Returns:</span>
</span><span id="Session-604"><a href="#Session-604"><span class="linenos">604</span></a><span class="sd">            int: the current transaction level</span>
</span><span id="Session-605"><a href="#Session-605"><span class="linenos">605</span></a>
</span><span id="Session-606"><a href="#Session-606"><span class="linenos">606</span></a><span class="sd">        Raises:</span>
</span><span id="Session-607"><a href="#Session-607"><span class="linenos">607</span></a><span class="sd">             UOError</span>
</span><span id="Session-608"><a href="#Session-608"><span class="linenos">608</span></a>
</span><span id="Session-609"><a href="#Session-609"><span class="linenos">609</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Session-610"><a href="#Session-610"><span class="linenos">610</span></a>        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_atvar</span><span class="p">(</span><span class="n">AtVar</span><span class="o">.</span><span class="n">TRANSACTION_LEVEL</span><span class="p">)))</span>
</span><span id="Session-611"><a href="#Session-611"><span class="linenos">611</span></a>
</span><span id="Session-612"><a href="#Session-612"><span class="linenos">612</span></a>    <span class="k">def</span> <span class="nf">tx_is_active</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session-613"><a href="#Session-613"><span class="linenos">613</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if a transaction is active on the server.</span>
</span><span id="Session-614"><a href="#Session-614"><span class="linenos">614</span></a>
</span><span id="Session-615"><a href="#Session-615"><span class="linenos">615</span></a><span class="sd">        Args:</span>
</span><span id="Session-616"><a href="#Session-616"><span class="linenos">616</span></a>
</span><span id="Session-617"><a href="#Session-617"><span class="linenos">617</span></a><span class="sd">        Returns:</span>
</span><span id="Session-618"><a href="#Session-618"><span class="linenos">618</span></a><span class="sd">            True/False: in transaction or not</span>
</span><span id="Session-619"><a href="#Session-619"><span class="linenos">619</span></a>
</span><span id="Session-620"><a href="#Session-620"><span class="linenos">620</span></a><span class="sd">        Raises:</span>
</span><span id="Session-621"><a href="#Session-621"><span class="linenos">621</span></a><span class="sd">            UOError</span>
</span><span id="Session-622"><a href="#Session-622"><span class="linenos">622</span></a>
</span><span id="Session-623"><a href="#Session-623"><span class="linenos">623</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Session-624"><a href="#Session-624"><span class="linenos">624</span></a>        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_atvar</span><span class="p">(</span><span class="n">AtVar</span><span class="o">.</span><span class="n">TRANSACTION</span><span class="p">)</span>
</span><span id="Session-625"><a href="#Session-625"><span class="linenos">625</span></a>        <span class="k">if</span> <span class="n">resp</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="ow">or</span> <span class="n">resp</span> <span class="o">==</span> <span class="s2">&quot;0&quot;</span><span class="p">:</span>
</span><span id="Session-626"><a href="#Session-626"><span class="linenos">626</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Session-627"><a href="#Session-627"><span class="linenos">627</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Session-628"><a href="#Session-628"><span class="linenos">628</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="Session-629"><a href="#Session-629"><span class="linenos">629</span></a>
</span><span id="Session-630"><a href="#Session-630"><span class="linenos">630</span></a>    <span class="k">def</span> <span class="nf">_server_transaction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tx_key</span><span class="p">):</span>
</span><span id="Session-631"><a href="#Session-631"><span class="linenos">631</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">tx_key</span><span class="p">)</span>
</span><span id="Session-632"><a href="#Session-632"><span class="linenos">632</span></a>
</span><span id="Session-633"><a href="#Session-633"><span class="linenos">633</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
</span><span id="Session-634"><a href="#Session-634"><span class="linenos">634</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Session-635"><a href="#Session-635"><span class="linenos">635</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Session-636"><a href="#Session-636"><span class="linenos">636</span></a>
</span><span id="Session-637"><a href="#Session-637"><span class="linenos">637</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_TRANSACTION</span><span class="p">)</span>
</span><span id="Session-638"><a href="#Session-638"><span class="linenos">638</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">tx_key</span><span class="p">)</span>
</span><span id="Session-639"><a href="#Session-639"><span class="linenos">639</span></a>
</span><span id="Session-640"><a href="#Session-640"><span class="linenos">640</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="Session-641"><a href="#Session-641"><span class="linenos">641</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">encryption_type</span><span class="p">)</span>
</span><span id="Session-642"><a href="#Session-642"><span class="linenos">642</span></a>                <span class="n">ret_code</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Session-643"><a href="#Session-643"><span class="linenos">643</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Session-644"><a href="#Session-644"><span class="linenos">644</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</span><span id="Session-645"><a href="#Session-645"><span class="linenos">645</span></a>
</span><span id="Session-646"><a href="#Session-646"><span class="linenos">646</span></a>            <span class="k">if</span> <span class="n">ret_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Session-647"><a href="#Session-647"><span class="linenos">647</span></a>                <span class="k">pass</span>
</span><span id="Session-648"><a href="#Session-648"><span class="linenos">648</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Session-649"><a href="#Session-649"><span class="linenos">649</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">check_rpc_is_failed</span><span class="p">(</span><span class="n">ret_code</span><span class="p">)</span>
</span><span id="Session-650"><a href="#Session-650"><span class="linenos">650</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="Session-651"><a href="#Session-651"><span class="linenos">651</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ret_code</span><span class="p">)</span>
</span><span id="Session-652"><a href="#Session-652"><span class="linenos">652</span></a>
</span><span id="Session-653"><a href="#Session-653"><span class="linenos">653</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>A Session represents a MV database connection. It is the foundation for and embedded in other UOPY objects.</p>

<p>Session objects can be used in Python with statement so that whatever happens in the with statement block, they
are guaranteed to be closed upon exit.</p>

<p>Applications can also perform transactions on a Session, and get supported @var values from the server.</p>

<p>Note:
    Applications should call <a href="#connect">uopy.connect()</a> to get a Session object instead of directly instantiating a Session.</p>

<p>Examples:</p>

<pre><code>&gt;&gt;&gt; with <a href="#connect">uopy.connect</a>(user='test', password='test'):
&gt;&gt;&gt;     cmd = <a href="#Command">uopy.Command</a>("LIST VOC")
&gt;&gt;&gt;     cmd.run()
&gt;&gt;&gt;     print(cmd.response)


&gt;&gt;&gt; with <a href="#connect">uopy.connect</a>(user="test", password="test") as session:
&gt;&gt;&gt;     session.tx_start()
&gt;&gt;&gt;     print(session.tx_is_active())
...
&gt;&gt;&gt;     session.tx_commit()
</code></pre>
</div>


                            <div id="Session.__init__" class="classattr">
                                        <input id="Session.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Session</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">connect_config</span></span>)</span>

                <label class="view-source-button" for="Session.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.__init__-75"><a href="#Session.__init__-75"><span class="linenos"> 75</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connect_config</span><span class="p">):</span>
</span><span id="Session.__init__-76"><a href="#Session.__init__-76"><span class="linenos"> 76</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="Session.__init__-77"><a href="#Session.__init__-77"><span class="linenos"> 77</span></a>            <span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">connect_config</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">connect_config</span> <span class="k">if</span> <span class="n">k</span> <span class="o">!=</span> <span class="s2">&quot;password&quot;</span><span class="p">}</span>
</span><span id="Session.__init__-78"><a href="#Session.__init__-78"><span class="linenos"> 78</span></a>        <span class="p">)</span>
</span><span id="Session.__init__-79"><a href="#Session.__init__-79"><span class="linenos"> 79</span></a>
</span><span id="Session.__init__-80"><a href="#Session.__init__-80"><span class="linenos"> 80</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="n">connect_config</span>
</span><span id="Session.__init__-81"><a href="#Session.__init__-81"><span class="linenos"> 81</span></a>
</span><span id="Session.__init__-82"><a href="#Session.__init__-82"><span class="linenos"> 82</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>
</span><span id="Session.__init__-83"><a href="#Session.__init__-83"><span class="linenos"> 83</span></a>
</span><span id="Session.__init__-84"><a href="#Session.__init__-84"><span class="linenos"> 84</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Session.__init__-85"><a href="#Session.__init__-85"><span class="linenos"> 85</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_rpc_failed</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Session.__init__-86"><a href="#Session.__init__-86"><span class="linenos"> 86</span></a>
</span><span id="Session.__init__-87"><a href="#Session.__init__-87"><span class="linenos"> 87</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_nls_enabled</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Session.__init__-88"><a href="#Session.__init__-88"><span class="linenos"> 88</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_nls_locale_enabled</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Session.__init__-89"><a href="#Session.__init__-89"><span class="linenos"> 89</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_ud</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Session.__init__-90"><a href="#Session.__init__-90"><span class="linenos"> 90</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_d3</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Session.__init__-91"><a href="#Session.__init__-91"><span class="linenos"> 91</span></a>
</span><span id="Session.__init__-92"><a href="#Session.__init__-92"><span class="linenos"> 92</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__pool</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Session.__init__-93"><a href="#Session.__init__-93"><span class="linenos"> 93</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_idle_start_time</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Session.__init__-94"><a href="#Session.__init__-94"><span class="linenos"> 94</span></a>
</span><span id="Session.__init__-95"><a href="#Session.__init__-95"><span class="linenos"> 95</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mac_address</span> <span class="o">=</span> <span class="s2">&quot;JAVA&quot;</span>
</span><span id="Session.__init__-96"><a href="#Session.__init__-96"><span class="linenos"> 96</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_license_token</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="Session.__init__-97"><a href="#Session.__init__-97"><span class="linenos"> 97</span></a>
</span><span id="Session.__init__-98"><a href="#Session.__init__-98"><span class="linenos"> 98</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_host_type</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Session.__init__-99"><a href="#Session.__init__-99"><span class="linenos"> 99</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_command</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Session.__init__-100"><a href="#Session.__init__-100"><span class="linenos">100</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_transaction</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Session.__init__-101"><a href="#Session.__init__-101"><span class="linenos">101</span></a>
</span><span id="Session.__init__-102"><a href="#Session.__init__-102"><span class="linenos">102</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_active</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Session.__init__-103"><a href="#Session.__init__-103"><span class="linenos">103</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">marks</span> <span class="o">=</span> <span class="n">DEFAULT_MARKS</span>
</span><span id="Session.__init__-104"><a href="#Session.__init__-104"><span class="linenos">104</span></a>
</span><span id="Session.__init__-105"><a href="#Session.__init__-105"><span class="linenos">105</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_uoserver_timeout</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Session.__init__-106"><a href="#Session.__init__-106"><span class="linenos">106</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_uv_timeout_flag</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>


    

                            </div>
                            <div id="Session.is_active" class="classattr">
                                <div class="attr variable">
            <span class="name">is_active</span>

        
    </div>
    <a class="headerlink" href="#Session.is_active"></a>
    
    

                            </div>
                            <div id="Session.marks" class="classattr">
                                <div class="attr variable">
            <span class="name">marks</span>

        
    </div>
    <a class="headerlink" href="#Session.marks"></a>
    
    

                            </div>
                            <div id="Session.bind_pool" class="classattr">
                                        <input id="Session.bind_pool-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">bind_pool</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">pool</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.bind_pool-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.bind_pool"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.bind_pool-123"><a href="#Session.bind_pool-123"><span class="linenos">123</span></a>    <span class="k">def</span> <span class="nf">bind_pool</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pool</span><span class="p">):</span>
</span><span id="Session.bind_pool-124"><a href="#Session.bind_pool-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">__pool</span> <span class="o">=</span> <span class="n">pool</span>
</span></pre></div>


    

                            </div>
                            <div id="Session.config" class="classattr">
                                <div class="attr variable">
            <span class="name">config</span>

        
    </div>
    <a class="headerlink" href="#Session.config"></a>
    
            <div class="docstring"><p>A copy of all the configuration parameters for this session.</p>
</div>


                            </div>
                            <div id="Session.idle_start_time" class="classattr">
                                <div class="attr variable">
            <span class="name">idle_start_time</span>

        
    </div>
    <a class="headerlink" href="#Session.idle_start_time"></a>
    
    

                            </div>
                            <div id="Session.start_idle" class="classattr">
                                        <input id="Session.start_idle-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">start_idle</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.start_idle-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.start_idle"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.start_idle-135"><a href="#Session.start_idle-135"><span class="linenos">135</span></a>    <span class="k">def</span> <span class="nf">start_idle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session.start_idle-136"><a href="#Session.start_idle-136"><span class="linenos">136</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_idle_start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="Session.db_type" class="classattr">
                                <div class="attr variable">
            <span class="name">db_type</span>

        
    </div>
    <a class="headerlink" href="#Session.db_type"></a>
    
            <div class="docstring"><p>str: either "UD' for UniData,'UV' for UniVerse, or "D3" for D3.</p>
</div>


                            </div>
                            <div id="Session.is_nls_enabled" class="classattr">
                                <div class="attr variable">
            <span class="name">is_nls_enabled</span>

        
    </div>
    <a class="headerlink" href="#Session.is_nls_enabled"></a>
    
            <div class="docstring"><p>boolean: whether NLS is enabled on the server.</p>
</div>


                            </div>
                            <div id="Session.encoding" class="classattr">
                                <div class="attr variable">
            <span class="name">encoding</span>

        
    </div>
    <a class="headerlink" href="#Session.encoding"></a>
    
            <div class="docstring"><p>The name of the character encoding used for conversion between Python unicode strings and MV data.</p>

<p>By default it is set to the local system's preferred encoding when server NLS is off, and to UTF-8 when
server NLS is on. However it can be overridden by the application to what reflects the actual encoding of
the server data.</p>
</div>


                            </div>
                            <div id="Session.uoserver_timeout" class="classattr">
                                <div class="attr variable">
            <span class="name">uoserver_timeout</span>

        
    </div>
    <a class="headerlink" href="#Session.uoserver_timeout"></a>
    
            <div class="docstring"><p>The following code snippet retrieves the UO Server timeout value after connecting to the server:
ses = <a href="#connect">uopy.connect</a>(user=user,password=passwd)
uotimeout = ses.uoserver_timeout
On the server side, the timeout can be set in the unirpcservice file and passed as an argument when the uvapi_server process is started.</p>
</div>


                            </div>
                            <div id="Session.sync_marks" class="classattr">
                                        <input id="Session.sync_marks-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">sync_marks</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">mark_list</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.sync_marks-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.sync_marks"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.sync_marks-252"><a href="#Session.sync_marks-252"><span class="linenos">252</span></a>    <span class="k">def</span> <span class="nf">sync_marks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mark_list</span><span class="p">):</span>
</span><span id="Session.sync_marks-253"><a href="#Session.sync_marks-253"><span class="linenos">253</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">marks</span> <span class="o">=</span> <span class="n">MARKS_NAMED_TUPLE</span><span class="p">(</span><span class="o">*</span><span class="n">mark_list</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="Session.encode" class="classattr">
                                        <input id="Session.encode-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">encode</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">obj</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.encode-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.encode"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.encode-255"><a href="#Session.encode-255"><span class="linenos">255</span></a>    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
</span><span id="Session.encode-256"><a href="#Session.encode-256"><span class="linenos">256</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="Session.encode-257"><a href="#Session.encode-257"><span class="linenos">257</span></a>            <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">[</span><span class="n">ENCODING</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;replace&quot;</span><span class="p">)</span>
</span><span id="Session.encode-258"><a href="#Session.encode-258"><span class="linenos">258</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">):</span>
</span><span id="Session.encode-259"><a href="#Session.encode-259"><span class="linenos">259</span></a>            <span class="k">return</span> <span class="n">obj</span>
</span><span id="Session.encode-260"><a href="#Session.encode-260"><span class="linenos">260</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">MvDelimited</span><span class="p">):</span>
</span><span id="Session.encode-261"><a href="#Session.encode-261"><span class="linenos">261</span></a>            <span class="k">return</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="Session.encode-262"><a href="#Session.encode-262"><span class="linenos">262</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="Session.encode-263"><a href="#Session.encode-263"><span class="linenos">263</span></a>            <span class="k">return</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">MvDelimited</span><span class="p">(</span><span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="p">))</span>
</span><span id="Session.encode-264"><a href="#Session.encode-264"><span class="linenos">264</span></a>        <span class="k">elif</span> <span class="n">obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Session.encode-265"><a href="#Session.encode-265"><span class="linenos">265</span></a>            <span class="k">return</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span>
</span><span id="Session.encode-266"><a href="#Session.encode-266"><span class="linenos">266</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Session.encode-267"><a href="#Session.encode-267"><span class="linenos">267</span></a>            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">[</span><span class="n">ENCODING</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;replace&quot;</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="Session.decode" class="classattr">
                                        <input id="Session.decode-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">decode</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">obj</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.decode-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.decode"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.decode-269"><a href="#Session.decode-269"><span class="linenos">269</span></a>    <span class="k">def</span> <span class="nf">decode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
</span><span id="Session.decode-270"><a href="#Session.decode-270"><span class="linenos">270</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">):</span>
</span><span id="Session.decode-271"><a href="#Session.decode-271"><span class="linenos">271</span></a>            <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">[</span><span class="n">ENCODING</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;replace&quot;</span><span class="p">)</span>
</span><span id="Session.decode-272"><a href="#Session.decode-272"><span class="linenos">272</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Session.decode-273"><a href="#Session.decode-273"><span class="linenos">273</span></a>            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="Session.rpc_call" class="classattr">
                                        <input id="Session.rpc_call-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">rpc_call</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">in_packet</span>, </span><span class="param"><span class="n">out_packet</span>, </span><span class="param"><span class="n">in_exec</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.rpc_call-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.rpc_call"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.rpc_call-284"><a href="#Session.rpc_call-284"><span class="linenos">284</span></a>    <span class="k">def</span> <span class="nf">rpc_call</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">,</span> <span class="n">in_exec</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Session.rpc_call-285"><a href="#Session.rpc_call-285"><span class="linenos">285</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Session.rpc_call-286"><a href="#Session.rpc_call-286"><span class="linenos">286</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_check_callable</span><span class="p">(</span><span class="n">in_exec</span><span class="p">)</span>
</span><span id="Session.rpc_call-287"><a href="#Session.rpc_call-287"><span class="linenos">287</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="Session.read_packet4cmd" class="classattr">
                                        <input id="Session.read_packet4cmd-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">read_packet4cmd</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">packet</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.read_packet4cmd-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.read_packet4cmd"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.read_packet4cmd-289"><a href="#Session.read_packet4cmd-289"><span class="linenos">289</span></a>    <span class="k">def</span> <span class="nf">read_packet4cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">packet</span><span class="p">):</span>
</span><span id="Session.read_packet4cmd-290"><a href="#Session.read_packet4cmd-290"><span class="linenos">290</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Session.read_packet4cmd-291"><a href="#Session.read_packet4cmd-291"><span class="linenos">291</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span><span class="o">.</span><span class="n">read_packet</span><span class="p">(</span><span class="n">packet</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="Session.connect" class="classattr">
                                        <input id="Session.connect-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">connect</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.connect-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.connect"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.connect-293"><a href="#Session.connect-293"><span class="linenos">293</span></a>    <span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session.connect-294"><a href="#Session.connect-294"><span class="linenos">294</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Session.connect-295"><a href="#Session.connect-295"><span class="linenos">295</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_active</span><span class="p">:</span>
</span><span id="Session.connect-296"><a href="#Session.connect-296"><span class="linenos">296</span></a>                <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Session._connect: already connected.&quot;</span><span class="p">)</span>
</span><span id="Session.connect-297"><a href="#Session.connect-297"><span class="linenos">297</span></a>                <span class="k">return</span>
</span><span id="Session.connect-298"><a href="#Session.connect-298"><span class="linenos">298</span></a>
</span><span id="Session.connect-299"><a href="#Session.connect-299"><span class="linenos">299</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span> <span class="o">=</span> <span class="n">UniRPCConnection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">)</span>
</span><span id="Session.connect-300"><a href="#Session.connect-300"><span class="linenos">300</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span><span id="Session.connect-301"><a href="#Session.connect-301"><span class="linenos">301</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_login</span><span class="p">()</span>
</span><span id="Session.connect-302"><a href="#Session.connect-302"><span class="linenos">302</span></a>
</span><span id="Session.connect-303"><a href="#Session.connect-303"><span class="linenos">303</span></a>            <span class="c1"># TODO initialize the transaction object</span>
</span><span id="Session.connect-304"><a href="#Session.connect-304"><span class="linenos">304</span></a>            <span class="c1"># self._transaction = self.Transaction()</span>
</span><span id="Session.connect-305"><a href="#Session.connect-305"><span class="linenos">305</span></a>
</span><span id="Session.connect-306"><a href="#Session.connect-306"><span class="linenos">306</span></a>            <span class="n">thread_data</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="Session.connect-307"><a href="#Session.connect-307"><span class="linenos">307</span></a>            <span class="c1"># get server version</span>
</span><span id="Session.connect-308"><a href="#Session.connect-308"><span class="linenos">308</span></a>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">Command</span><span class="p">()</span>
</span><span id="Session.connect-309"><a href="#Session.connect-309"><span class="linenos">309</span></a>            <span class="n">suffix</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span>
</span><span id="Session.connect-310"><a href="#Session.connect-310"><span class="linenos">310</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">db_type</span> <span class="o">==</span> <span class="s2">&quot;UV&quot;</span><span class="p">:</span>
</span><span id="Session.connect-311"><a href="#Session.connect-311"><span class="linenos">311</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_host_type</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Session.connect-312"><a href="#Session.connect-312"><span class="linenos">312</span></a>                    <span class="c1"># Unix</span>
</span><span id="Session.connect-313"><a href="#Session.connect-313"><span class="linenos">313</span></a>                    <span class="n">cmd</span><span class="o">.</span><span class="n">command_text</span> <span class="o">=</span> <span class="s1">&#39;SH -c &quot;uv -version&quot;&#39;</span>
</span><span id="Session.connect-314"><a href="#Session.connect-314"><span class="linenos">314</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="Session.connect-315"><a href="#Session.connect-315"><span class="linenos">315</span></a>                    <span class="n">cmd</span><span class="o">.</span><span class="n">command_text</span> <span class="o">=</span> <span class="s1">&#39;DOS /c &quot;uv -version&quot;&#39;</span>
</span><span id="Session.connect-316"><a href="#Session.connect-316"><span class="linenos">316</span></a>                <span class="n">cmd</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span><span id="Session.connect-317"><a href="#Session.connect-317"><span class="linenos">317</span></a>                <span class="n">uv1135</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_uv_version</span><span class="p">(</span><span class="s2">&quot;UniVerse 11.3.5&quot;</span><span class="p">)</span>
</span><span id="Session.connect-318"><a href="#Session.connect-318"><span class="linenos">318</span></a>                <span class="n">uv_version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_uv_version</span><span class="p">(</span><span class="n">cmd</span><span class="o">.</span><span class="n">response</span><span class="o">.</span><span class="n">removesuffix</span><span class="p">(</span><span class="n">suffix</span><span class="p">))</span>
</span><span id="Session.connect-319"><a href="#Session.connect-319"><span class="linenos">319</span></a>                <span class="k">if</span> <span class="n">uv_version</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">uv1135</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Session.connect-320"><a href="#Session.connect-320"><span class="linenos">320</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_UNKNOWN_ERROR</span><span class="p">)</span>
</span><span id="Session.connect-321"><a href="#Session.connect-321"><span class="linenos">321</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_uv_timeout_flag</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compare_version</span><span class="p">(</span><span class="n">uv_version</span><span class="p">,</span> <span class="n">uv1135</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="Session.check_rpc_error" class="classattr">
                                        <input id="Session.check_rpc_error-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">check_rpc_error</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">e</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.check_rpc_error-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.check_rpc_error"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.check_rpc_error-412"><a href="#Session.check_rpc_error-412"><span class="linenos">412</span></a>    <span class="k">def</span> <span class="nf">check_rpc_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
</span><span id="Session.check_rpc_error-413"><a href="#Session.check_rpc_error-413"><span class="linenos">413</span></a>        <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">code</span> <span class="ow">in</span> <span class="n">_RPC_ERRORS</span><span class="p">:</span>
</span><span id="Session.check_rpc_error-414"><a href="#Session.check_rpc_error-414"><span class="linenos">414</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_is_rpc_failed</span> <span class="o">=</span> <span class="kc">True</span>
</span></pre></div>


    

                            </div>
                            <div id="Session.health_check" class="classattr">
                                        <input id="Session.health_check-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">health_check</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.health_check-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.health_check"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.health_check-416"><a href="#Session.health_check-416"><span class="linenos">416</span></a>    <span class="k">def</span> <span class="nf">health_check</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session.health_check-417"><a href="#Session.health_check-417"><span class="linenos">417</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Session.health_check-418"><a href="#Session.health_check-418"><span class="linenos">418</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_rpc_failed</span><span class="p">:</span>
</span><span id="Session.health_check-419"><a href="#Session.health_check-419"><span class="linenos">419</span></a>                <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;RPC failed&quot;</span><span class="p">)</span>
</span><span id="Session.health_check-420"><a href="#Session.health_check-420"><span class="linenos">420</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="Session.health_check-421"><a href="#Session.health_check-421"><span class="linenos">421</span></a>
</span><span id="Session.health_check-422"><a href="#Session.health_check-422"><span class="linenos">422</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span><span class="o">.</span><span class="n">health_check</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="Session.hard_close" class="classattr">
                                        <input id="Session.hard_close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">hard_close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.hard_close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.hard_close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.hard_close-424"><a href="#Session.hard_close-424"><span class="linenos">424</span></a>    <span class="k">def</span> <span class="nf">hard_close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session.hard_close-425"><a href="#Session.hard_close-425"><span class="linenos">425</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Session.hard_close-426"><a href="#Session.hard_close-426"><span class="linenos">426</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="Session.hard_close-427"><a href="#Session.hard_close-427"><span class="linenos">427</span></a>
</span><span id="Session.hard_close-428"><a href="#Session.hard_close-428"><span class="linenos">428</span></a>            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Session.hard_close-429"><a href="#Session.hard_close-429"><span class="linenos">429</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pool</span><span class="p">:</span>
</span><span id="Session.hard_close-430"><a href="#Session.hard_close-430"><span class="linenos">430</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">__pool</span><span class="o">.</span><span class="n">hard_free</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Session.hard_close-431"><a href="#Session.hard_close-431"><span class="linenos">431</span></a>
</span><span id="Session.hard_close-432"><a href="#Session.hard_close-432"><span class="linenos">432</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Session.hard_close-433"><a href="#Session.hard_close-433"><span class="linenos">433</span></a>            <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</span><span id="Session.hard_close-434"><a href="#Session.hard_close-434"><span class="linenos">434</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="Session.hard_close-435"><a href="#Session.hard_close-435"><span class="linenos">435</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">is_active</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Session.hard_close-436"><a href="#Session.hard_close-436"><span class="linenos">436</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Session.hard_close-437"><a href="#Session.hard_close-437"><span class="linenos">437</span></a>            <span class="n">thread_data</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Session.hard_close-438"><a href="#Session.hard_close-438"><span class="linenos">438</span></a>
</span><span id="Session.hard_close-439"><a href="#Session.hard_close-439"><span class="linenos">439</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="s2">&quot;is hard-closed &quot;</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="Session.get_atvar" class="classattr">
                                        <input id="Session.get_atvar-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_atvar</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">atvar</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.get_atvar-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.get_atvar"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.get_atvar-441"><a href="#Session.get_atvar-441"><span class="linenos">441</span></a>    <span class="k">def</span> <span class="nf">get_atvar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">atvar</span><span class="p">):</span>
</span><span id="Session.get_atvar-442"><a href="#Session.get_atvar-442"><span class="linenos">442</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a @var value from the server.</span>
</span><span id="Session.get_atvar-443"><a href="#Session.get_atvar-443"><span class="linenos">443</span></a>
</span><span id="Session.get_atvar-444"><a href="#Session.get_atvar-444"><span class="linenos">444</span></a><span class="sd">        Args:</span>
</span><span id="Session.get_atvar-445"><a href="#Session.get_atvar-445"><span class="linenos">445</span></a><span class="sd">            atvar: uopy.AtVar enum.</span>
</span><span id="Session.get_atvar-446"><a href="#Session.get_atvar-446"><span class="linenos">446</span></a>
</span><span id="Session.get_atvar-447"><a href="#Session.get_atvar-447"><span class="linenos">447</span></a><span class="sd">        Returns:</span>
</span><span id="Session.get_atvar-448"><a href="#Session.get_atvar-448"><span class="linenos">448</span></a><span class="sd">            DynArray: the value of the @var</span>
</span><span id="Session.get_atvar-449"><a href="#Session.get_atvar-449"><span class="linenos">449</span></a>
</span><span id="Session.get_atvar-450"><a href="#Session.get_atvar-450"><span class="linenos">450</span></a><span class="sd">        Raises:</span>
</span><span id="Session.get_atvar-451"><a href="#Session.get_atvar-451"><span class="linenos">451</span></a><span class="sd">            UOError</span>
</span><span id="Session.get_atvar-452"><a href="#Session.get_atvar-452"><span class="linenos">452</span></a>
</span><span id="Session.get_atvar-453"><a href="#Session.get_atvar-453"><span class="linenos">453</span></a><span class="sd">        Examples:</span>
</span><span id="Session.get_atvar-454"><a href="#Session.get_atvar-454"><span class="linenos">454</span></a><span class="sd">            &gt;&gt;&gt; import uopy</span>
</span><span id="Session.get_atvar-455"><a href="#Session.get_atvar-455"><span class="linenos">455</span></a><span class="sd">            &gt;&gt;&gt; for atvar in uopy.AtVar:</span>
</span><span id="Session.get_atvar-456"><a href="#Session.get_atvar-456"><span class="linenos">456</span></a><span class="sd">                    print(atvar.name, atvar.value)</span>
</span><span id="Session.get_atvar-457"><a href="#Session.get_atvar-457"><span class="linenos">457</span></a>
</span><span id="Session.get_atvar-458"><a href="#Session.get_atvar-458"><span class="linenos">458</span></a><span class="sd">            LOG_NAME 1</span>
</span><span id="Session.get_atvar-459"><a href="#Session.get_atvar-459"><span class="linenos">459</span></a><span class="sd">            PATH 2</span>
</span><span id="Session.get_atvar-460"><a href="#Session.get_atvar-460"><span class="linenos">460</span></a><span class="sd">            USER_NO 3</span>
</span><span id="Session.get_atvar-461"><a href="#Session.get_atvar-461"><span class="linenos">461</span></a><span class="sd">            WHO 4</span>
</span><span id="Session.get_atvar-462"><a href="#Session.get_atvar-462"><span class="linenos">462</span></a><span class="sd">            TRANSACTION 5</span>
</span><span id="Session.get_atvar-463"><a href="#Session.get_atvar-463"><span class="linenos">463</span></a><span class="sd">            DATA_PENDING 6</span>
</span><span id="Session.get_atvar-464"><a href="#Session.get_atvar-464"><span class="linenos">464</span></a><span class="sd">            USER_RETURN_CODE 7</span>
</span><span id="Session.get_atvar-465"><a href="#Session.get_atvar-465"><span class="linenos">465</span></a><span class="sd">            SYSTEM_RETURN_CODE 8</span>
</span><span id="Session.get_atvar-466"><a href="#Session.get_atvar-466"><span class="linenos">466</span></a><span class="sd">            NULL_STR 9</span>
</span><span id="Session.get_atvar-467"><a href="#Session.get_atvar-467"><span class="linenos">467</span></a><span class="sd">            SCHEMA 10</span>
</span><span id="Session.get_atvar-468"><a href="#Session.get_atvar-468"><span class="linenos">468</span></a><span class="sd">            TRANSACTION_LEVEL 11</span>
</span><span id="Session.get_atvar-469"><a href="#Session.get_atvar-469"><span class="linenos">469</span></a>
</span><span id="Session.get_atvar-470"><a href="#Session.get_atvar-470"><span class="linenos">470</span></a><span class="sd">            &gt;&gt;&gt;</span>
</span><span id="Session.get_atvar-471"><a href="#Session.get_atvar-471"><span class="linenos">471</span></a><span class="sd">            &gt;&gt;&gt; with uopy.connect(user=&#39;test_user&#39;, password=&#39;test_password&#39;) as session:</span>
</span><span id="Session.get_atvar-472"><a href="#Session.get_atvar-472"><span class="linenos">472</span></a><span class="sd">                    log_name = session.get_atvar(uopy.AtVar.LOG_NAME)</span>
</span><span id="Session.get_atvar-473"><a href="#Session.get_atvar-473"><span class="linenos">473</span></a><span class="sd">                    account_path = session.get_atvar(uopy.AtVar.PATH)</span>
</span><span id="Session.get_atvar-474"><a href="#Session.get_atvar-474"><span class="linenos">474</span></a><span class="sd">                    print(log_name)</span>
</span><span id="Session.get_atvar-475"><a href="#Session.get_atvar-475"><span class="linenos">475</span></a><span class="sd">                    print(account_path)</span>
</span><span id="Session.get_atvar-476"><a href="#Session.get_atvar-476"><span class="linenos">476</span></a>
</span><span id="Session.get_atvar-477"><a href="#Session.get_atvar-477"><span class="linenos">477</span></a><span class="sd">            test_user</span>
</span><span id="Session.get_atvar-478"><a href="#Session.get_atvar-478"><span class="linenos">478</span></a><span class="sd">            C:\\U2\\ud82\\XDEMO</span>
</span><span id="Session.get_atvar-479"><a href="#Session.get_atvar-479"><span class="linenos">479</span></a>
</span><span id="Session.get_atvar-480"><a href="#Session.get_atvar-480"><span class="linenos">480</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Session.get_atvar-481"><a href="#Session.get_atvar-481"><span class="linenos">481</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">atvar</span><span class="p">)</span>
</span><span id="Session.get_atvar-482"><a href="#Session.get_atvar-482"><span class="linenos">482</span></a>
</span><span id="Session.get_atvar-483"><a href="#Session.get_atvar-483"><span class="linenos">483</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_callable</span><span class="p">()</span>
</span><span id="Session.get_atvar-484"><a href="#Session.get_atvar-484"><span class="linenos">484</span></a>
</span><span id="Session.get_atvar-485"><a href="#Session.get_atvar-485"><span class="linenos">485</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Session.get_atvar-486"><a href="#Session.get_atvar-486"><span class="linenos">486</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Session.get_atvar-487"><a href="#Session.get_atvar-487"><span class="linenos">487</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Session.get_atvar-488"><a href="#Session.get_atvar-488"><span class="linenos">488</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_GETVALUE</span><span class="p">)</span>
</span><span id="Session.get_atvar-489"><a href="#Session.get_atvar-489"><span class="linenos">489</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">atvar</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</span><span id="Session.get_atvar-490"><a href="#Session.get_atvar-490"><span class="linenos">490</span></a>
</span><span id="Session.get_atvar-491"><a href="#Session.get_atvar-491"><span class="linenos">491</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_rpc_connection</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="Session.get_atvar-492"><a href="#Session.get_atvar-492"><span class="linenos">492</span></a>
</span><span id="Session.get_atvar-493"><a href="#Session.get_atvar-493"><span class="linenos">493</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Session.get_atvar-494"><a href="#Session.get_atvar-494"><span class="linenos">494</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Session.get_atvar-495"><a href="#Session.get_atvar-495"><span class="linenos">495</span></a>                <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="Session.get_atvar-496"><a href="#Session.get_atvar-496"><span class="linenos">496</span></a>                <span class="k">return</span> <span class="n">DynArray</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="Session.get_atvar-497"><a href="#Session.get_atvar-497"><span class="linenos">497</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Session.get_atvar-498"><a href="#Session.get_atvar-498"><span class="linenos">498</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get a @var value from the server.</p>

<p>Args:
    atvar: uopy.AtVar enum.</p>

<p>Returns:
    DynArray: the value of the @var</p>

<p>Raises:
    UOError</p>

<p>Examples:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>import uopy
      for atvar in uopy.AtVar:
                  print(atvar.name, atvar.value)</p>

<pre><code>LOG_NAME 1
PATH 2
USER_NO 3
WHO 4
TRANSACTION 5
DATA_PENDING 6
USER_RETURN_CODE 7
SYSTEM_RETURN_CODE 8
NULL_STR 9
SCHEMA 10
TRANSACTION_LEVEL 11

&gt;&gt;&gt;
&gt;&gt;&gt; with <a href="#connect">uopy.connect</a>(user='test_user', password='test_password') as session:
        log_name = session.get_atvar(uopy.AtVar.LOG_NAME)
        account_path = session.get_atvar(uopy.AtVar.PATH)
        print(log_name)
        print(account_path)

test_user
C:\U2\ud82\XDEMO
</code></pre>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            </div>
                            <div id="Session.reset" class="classattr">
                                        <input id="Session.reset-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">reset</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.reset-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.reset"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.reset-500"><a href="#Session.reset-500"><span class="linenos">500</span></a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session.reset-501"><a href="#Session.reset-501"><span class="linenos">501</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
</span><span id="Session.reset-502"><a href="#Session.reset-502"><span class="linenos">502</span></a>
</span><span id="Session.reset-503"><a href="#Session.reset-503"><span class="linenos">503</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_rpc_failed</span><span class="p">:</span>
</span><span id="Session.reset-504"><a href="#Session.reset-504"><span class="linenos">504</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Session.reset-505"><a href="#Session.reset-505"><span class="linenos">505</span></a>
</span><span id="Session.reset-506"><a href="#Session.reset-506"><span class="linenos">506</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_command</span><span class="p">:</span>
</span><span id="Session.reset-507"><a href="#Session.reset-507"><span class="linenos">507</span></a>            <span class="n">tmp_command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_command</span>
</span><span id="Session.reset-508"><a href="#Session.reset-508"><span class="linenos">508</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_command</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Session.reset-509"><a href="#Session.reset-509"><span class="linenos">509</span></a>
</span><span id="Session.reset-510"><a href="#Session.reset-510"><span class="linenos">510</span></a>            <span class="k">if</span> <span class="n">tmp_command</span><span class="o">.</span><span class="n">status</span> <span class="ow">in</span> <span class="p">{</span><span class="n">EXEC_MORE_OUTPUT</span><span class="p">,</span> <span class="n">EXEC_REPLY</span><span class="p">}:</span>
</span><span id="Session.reset-511"><a href="#Session.reset-511"><span class="linenos">511</span></a>                <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Session is in the middle of a command execution.&quot;</span><span class="p">)</span>
</span><span id="Session.reset-512"><a href="#Session.reset-512"><span class="linenos">512</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="Session.reset-513"><a href="#Session.reset-513"><span class="linenos">513</span></a>
</span><span id="Session.reset-514"><a href="#Session.reset-514"><span class="linenos">514</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tx_is_active</span><span class="p">():</span>
</span><span id="Session.reset-515"><a href="#Session.reset-515"><span class="linenos">515</span></a>            <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
</span><span id="Session.reset-516"><a href="#Session.reset-516"><span class="linenos">516</span></a>                <span class="s2">&quot;Session is in the middle of a transaction, will try to roll back.&quot;</span>
</span><span id="Session.reset-517"><a href="#Session.reset-517"><span class="linenos">517</span></a>            <span class="p">)</span>
</span><span id="Session.reset-518"><a href="#Session.reset-518"><span class="linenos">518</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="Session.reset-519"><a href="#Session.reset-519"><span class="linenos">519</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_transaction</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
</span><span id="Session.reset-520"><a href="#Session.reset-520"><span class="linenos">520</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Session.reset-521"><a href="#Session.reset-521"><span class="linenos">521</span></a>                <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Error occurred during transaction roll back.&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</span><span id="Session.reset-522"><a href="#Session.reset-522"><span class="linenos">522</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="Session.reset-523"><a href="#Session.reset-523"><span class="linenos">523</span></a>
</span><span id="Session.reset-524"><a href="#Session.reset-524"><span class="linenos">524</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="Session.reset-525"><a href="#Session.reset-525"><span class="linenos">525</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


    

                            </div>
                            <div id="Session.close" class="classattr">
                                        <input id="Session.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.close-527"><a href="#Session.close-527"><span class="linenos">527</span></a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session.close-528"><a href="#Session.close-528"><span class="linenos">528</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the session or return it to the connection pool.</span>
</span><span id="Session.close-529"><a href="#Session.close-529"><span class="linenos">529</span></a>
</span><span id="Session.close-530"><a href="#Session.close-530"><span class="linenos">530</span></a><span class="sd">        Raises:</span>
</span><span id="Session.close-531"><a href="#Session.close-531"><span class="linenos">531</span></a><span class="sd">            UOError</span>
</span><span id="Session.close-532"><a href="#Session.close-532"><span class="linenos">532</span></a>
</span><span id="Session.close-533"><a href="#Session.close-533"><span class="linenos">533</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Session.close-534"><a href="#Session.close-534"><span class="linenos">534</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
</span><span id="Session.close-535"><a href="#Session.close-535"><span class="linenos">535</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_active</span><span class="p">:</span>
</span><span id="Session.close-536"><a href="#Session.close-536"><span class="linenos">536</span></a>            <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Session::disconnect: session is inactive.&quot;</span><span class="p">)</span>
</span><span id="Session.close-537"><a href="#Session.close-537"><span class="linenos">537</span></a>            <span class="k">return</span>
</span><span id="Session.close-538"><a href="#Session.close-538"><span class="linenos">538</span></a>
</span><span id="Session.close-539"><a href="#Session.close-539"><span class="linenos">539</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Session.close-540"><a href="#Session.close-540"><span class="linenos">540</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pool</span><span class="p">:</span>
</span><span id="Session.close-541"><a href="#Session.close-541"><span class="linenos">541</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">__pool</span><span class="o">.</span><span class="n">free</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Session.close-542"><a href="#Session.close-542"><span class="linenos">542</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Session.close-543"><a href="#Session.close-543"><span class="linenos">543</span></a>                <span class="c1"># self.reset()</span>
</span><span id="Session.close-544"><a href="#Session.close-544"><span class="linenos">544</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">hard_close</span><span class="p">()</span>
</span><span id="Session.close-545"><a href="#Session.close-545"><span class="linenos">545</span></a>
</span><span id="Session.close-546"><a href="#Session.close-546"><span class="linenos">546</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Close the session or return it to the connection pool.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Session.bind_command" class="classattr">
                                        <input id="Session.bind_command-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">bind_command</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">command_obj</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.bind_command-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.bind_command"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.bind_command-548"><a href="#Session.bind_command-548"><span class="linenos">548</span></a>    <span class="k">def</span> <span class="nf">bind_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command_obj</span><span class="p">):</span>
</span><span id="Session.bind_command-549"><a href="#Session.bind_command-549"><span class="linenos">549</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_command</span><span class="p">:</span>
</span><span id="Session.bind_command-550"><a href="#Session.bind_command-550"><span class="linenos">550</span></a>            <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
</span><span id="Session.bind_command-551"><a href="#Session.bind_command-551"><span class="linenos">551</span></a>                <span class="s2">&quot;A session can only have one bound Command object, will replace the old one&quot;</span>
</span><span id="Session.bind_command-552"><a href="#Session.bind_command-552"><span class="linenos">552</span></a>            <span class="p">)</span>
</span><span id="Session.bind_command-553"><a href="#Session.bind_command-553"><span class="linenos">553</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_command</span> <span class="o">=</span> <span class="n">command_obj</span>
</span></pre></div>


    

                            </div>
                            <div id="Session.tx_start" class="classattr">
                                        <input id="Session.tx_start-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">tx_start</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.tx_start-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.tx_start"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.tx_start-555"><a href="#Session.tx_start-555"><span class="linenos">555</span></a>    <span class="k">def</span> <span class="nf">tx_start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session.tx_start-556"><a href="#Session.tx_start-556"><span class="linenos">556</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Start a transaction on the server.</span>
</span><span id="Session.tx_start-557"><a href="#Session.tx_start-557"><span class="linenos">557</span></a>
</span><span id="Session.tx_start-558"><a href="#Session.tx_start-558"><span class="linenos">558</span></a><span class="sd">        Args:</span>
</span><span id="Session.tx_start-559"><a href="#Session.tx_start-559"><span class="linenos">559</span></a>
</span><span id="Session.tx_start-560"><a href="#Session.tx_start-560"><span class="linenos">560</span></a><span class="sd">        Returns:</span>
</span><span id="Session.tx_start-561"><a href="#Session.tx_start-561"><span class="linenos">561</span></a><span class="sd">            None</span>
</span><span id="Session.tx_start-562"><a href="#Session.tx_start-562"><span class="linenos">562</span></a>
</span><span id="Session.tx_start-563"><a href="#Session.tx_start-563"><span class="linenos">563</span></a><span class="sd">        Raises:</span>
</span><span id="Session.tx_start-564"><a href="#Session.tx_start-564"><span class="linenos">564</span></a><span class="sd">            UOError</span>
</span><span id="Session.tx_start-565"><a href="#Session.tx_start-565"><span class="linenos">565</span></a>
</span><span id="Session.tx_start-566"><a href="#Session.tx_start-566"><span class="linenos">566</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Session.tx_start-567"><a href="#Session.tx_start-567"><span class="linenos">567</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_transaction</span><span class="o">.</span><span class="n">begin</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Start a transaction on the server.</p>

<p>Args:</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Session.tx_commit" class="classattr">
                                        <input id="Session.tx_commit-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">tx_commit</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.tx_commit-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.tx_commit"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.tx_commit-569"><a href="#Session.tx_commit-569"><span class="linenos">569</span></a>    <span class="k">def</span> <span class="nf">tx_commit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session.tx_commit-570"><a href="#Session.tx_commit-570"><span class="linenos">570</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Commit the current transaction on the server.</span>
</span><span id="Session.tx_commit-571"><a href="#Session.tx_commit-571"><span class="linenos">571</span></a>
</span><span id="Session.tx_commit-572"><a href="#Session.tx_commit-572"><span class="linenos">572</span></a><span class="sd">        Args:</span>
</span><span id="Session.tx_commit-573"><a href="#Session.tx_commit-573"><span class="linenos">573</span></a>
</span><span id="Session.tx_commit-574"><a href="#Session.tx_commit-574"><span class="linenos">574</span></a><span class="sd">        Returns:</span>
</span><span id="Session.tx_commit-575"><a href="#Session.tx_commit-575"><span class="linenos">575</span></a><span class="sd">            None</span>
</span><span id="Session.tx_commit-576"><a href="#Session.tx_commit-576"><span class="linenos">576</span></a>
</span><span id="Session.tx_commit-577"><a href="#Session.tx_commit-577"><span class="linenos">577</span></a><span class="sd">        Raises:</span>
</span><span id="Session.tx_commit-578"><a href="#Session.tx_commit-578"><span class="linenos">578</span></a><span class="sd">            UOError</span>
</span><span id="Session.tx_commit-579"><a href="#Session.tx_commit-579"><span class="linenos">579</span></a>
</span><span id="Session.tx_commit-580"><a href="#Session.tx_commit-580"><span class="linenos">580</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Session.tx_commit-581"><a href="#Session.tx_commit-581"><span class="linenos">581</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_transaction</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Commit the current transaction on the server.</p>

<p>Args:</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Session.tx_rollback" class="classattr">
                                        <input id="Session.tx_rollback-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">tx_rollback</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.tx_rollback-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.tx_rollback"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.tx_rollback-583"><a href="#Session.tx_rollback-583"><span class="linenos">583</span></a>    <span class="k">def</span> <span class="nf">tx_rollback</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session.tx_rollback-584"><a href="#Session.tx_rollback-584"><span class="linenos">584</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Roll back the current transaction on the server.</span>
</span><span id="Session.tx_rollback-585"><a href="#Session.tx_rollback-585"><span class="linenos">585</span></a>
</span><span id="Session.tx_rollback-586"><a href="#Session.tx_rollback-586"><span class="linenos">586</span></a><span class="sd">        Args:</span>
</span><span id="Session.tx_rollback-587"><a href="#Session.tx_rollback-587"><span class="linenos">587</span></a>
</span><span id="Session.tx_rollback-588"><a href="#Session.tx_rollback-588"><span class="linenos">588</span></a><span class="sd">        Returns:</span>
</span><span id="Session.tx_rollback-589"><a href="#Session.tx_rollback-589"><span class="linenos">589</span></a><span class="sd">            None</span>
</span><span id="Session.tx_rollback-590"><a href="#Session.tx_rollback-590"><span class="linenos">590</span></a>
</span><span id="Session.tx_rollback-591"><a href="#Session.tx_rollback-591"><span class="linenos">591</span></a><span class="sd">        Raises:</span>
</span><span id="Session.tx_rollback-592"><a href="#Session.tx_rollback-592"><span class="linenos">592</span></a><span class="sd">            UOError</span>
</span><span id="Session.tx_rollback-593"><a href="#Session.tx_rollback-593"><span class="linenos">593</span></a>
</span><span id="Session.tx_rollback-594"><a href="#Session.tx_rollback-594"><span class="linenos">594</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Session.tx_rollback-595"><a href="#Session.tx_rollback-595"><span class="linenos">595</span></a>
</span><span id="Session.tx_rollback-596"><a href="#Session.tx_rollback-596"><span class="linenos">596</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_transaction</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Roll back the current transaction on the server.</p>

<p>Args:</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Session.tx_level" class="classattr">
                                        <input id="Session.tx_level-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">tx_level</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.tx_level-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.tx_level"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.tx_level-598"><a href="#Session.tx_level-598"><span class="linenos">598</span></a>    <span class="k">def</span> <span class="nf">tx_level</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session.tx_level-599"><a href="#Session.tx_level-599"><span class="linenos">599</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the current transaction level on the server</span>
</span><span id="Session.tx_level-600"><a href="#Session.tx_level-600"><span class="linenos">600</span></a>
</span><span id="Session.tx_level-601"><a href="#Session.tx_level-601"><span class="linenos">601</span></a><span class="sd">        Args:</span>
</span><span id="Session.tx_level-602"><a href="#Session.tx_level-602"><span class="linenos">602</span></a>
</span><span id="Session.tx_level-603"><a href="#Session.tx_level-603"><span class="linenos">603</span></a><span class="sd">        Returns:</span>
</span><span id="Session.tx_level-604"><a href="#Session.tx_level-604"><span class="linenos">604</span></a><span class="sd">            int: the current transaction level</span>
</span><span id="Session.tx_level-605"><a href="#Session.tx_level-605"><span class="linenos">605</span></a>
</span><span id="Session.tx_level-606"><a href="#Session.tx_level-606"><span class="linenos">606</span></a><span class="sd">        Raises:</span>
</span><span id="Session.tx_level-607"><a href="#Session.tx_level-607"><span class="linenos">607</span></a><span class="sd">             UOError</span>
</span><span id="Session.tx_level-608"><a href="#Session.tx_level-608"><span class="linenos">608</span></a>
</span><span id="Session.tx_level-609"><a href="#Session.tx_level-609"><span class="linenos">609</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Session.tx_level-610"><a href="#Session.tx_level-610"><span class="linenos">610</span></a>        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_atvar</span><span class="p">(</span><span class="n">AtVar</span><span class="o">.</span><span class="n">TRANSACTION_LEVEL</span><span class="p">)))</span>
</span></pre></div>


            <div class="docstring"><p>Return the current transaction level on the server</p>

<p>Args:</p>

<p>Returns:
    int: the current transaction level</p>

<p>Raises:
     UOError</p>
</div>


                            </div>
                            <div id="Session.tx_is_active" class="classattr">
                                        <input id="Session.tx_is_active-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">tx_is_active</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Session.tx_is_active-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Session.tx_is_active"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Session.tx_is_active-612"><a href="#Session.tx_is_active-612"><span class="linenos">612</span></a>    <span class="k">def</span> <span class="nf">tx_is_active</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Session.tx_is_active-613"><a href="#Session.tx_is_active-613"><span class="linenos">613</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if a transaction is active on the server.</span>
</span><span id="Session.tx_is_active-614"><a href="#Session.tx_is_active-614"><span class="linenos">614</span></a>
</span><span id="Session.tx_is_active-615"><a href="#Session.tx_is_active-615"><span class="linenos">615</span></a><span class="sd">        Args:</span>
</span><span id="Session.tx_is_active-616"><a href="#Session.tx_is_active-616"><span class="linenos">616</span></a>
</span><span id="Session.tx_is_active-617"><a href="#Session.tx_is_active-617"><span class="linenos">617</span></a><span class="sd">        Returns:</span>
</span><span id="Session.tx_is_active-618"><a href="#Session.tx_is_active-618"><span class="linenos">618</span></a><span class="sd">            True/False: in transaction or not</span>
</span><span id="Session.tx_is_active-619"><a href="#Session.tx_is_active-619"><span class="linenos">619</span></a>
</span><span id="Session.tx_is_active-620"><a href="#Session.tx_is_active-620"><span class="linenos">620</span></a><span class="sd">        Raises:</span>
</span><span id="Session.tx_is_active-621"><a href="#Session.tx_is_active-621"><span class="linenos">621</span></a><span class="sd">            UOError</span>
</span><span id="Session.tx_is_active-622"><a href="#Session.tx_is_active-622"><span class="linenos">622</span></a>
</span><span id="Session.tx_is_active-623"><a href="#Session.tx_is_active-623"><span class="linenos">623</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Session.tx_is_active-624"><a href="#Session.tx_is_active-624"><span class="linenos">624</span></a>        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_atvar</span><span class="p">(</span><span class="n">AtVar</span><span class="o">.</span><span class="n">TRANSACTION</span><span class="p">)</span>
</span><span id="Session.tx_is_active-625"><a href="#Session.tx_is_active-625"><span class="linenos">625</span></a>        <span class="k">if</span> <span class="n">resp</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="ow">or</span> <span class="n">resp</span> <span class="o">==</span> <span class="s2">&quot;0&quot;</span><span class="p">:</span>
</span><span id="Session.tx_is_active-626"><a href="#Session.tx_is_active-626"><span class="linenos">626</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="Session.tx_is_active-627"><a href="#Session.tx_is_active-627"><span class="linenos">627</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Session.tx_is_active-628"><a href="#Session.tx_is_active-628"><span class="linenos">628</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Check if a transaction is active on the server.</p>

<p>Args:</p>

<p>Returns:
    True/False: in transaction or not</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                </section>
                <section id="Command">
                            <input id="Command-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Command</span><wbr>(<span class="base">uopy._uniobject.UniObject</span>):

                <label class="view-source-button" for="Command-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Command"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Command-21"><a href="#Command-21"><span class="linenos"> 21</span></a><span class="k">class</span> <span class="nc">Command</span><span class="p">(</span><span class="n">UniObject</span><span class="p">):</span>
</span><span id="Command-22"><a href="#Command-22"><span class="linenos"> 22</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Command allows applications to run MV ECL/TCL commands or stored procedures on the remote server.</span>
</span><span id="Command-23"><a href="#Command-23"><span class="linenos"> 23</span></a>
</span><span id="Command-24"><a href="#Command-24"><span class="linenos"> 24</span></a><span class="sd">    After a command is executed, it can have one of these three status:</span>
</span><span id="Command-25"><a href="#Command-25"><span class="linenos"> 25</span></a><span class="sd">        EXEC_COMPLETE: the command execution has completed.</span>
</span><span id="Command-26"><a href="#Command-26"><span class="linenos"> 26</span></a>
</span><span id="Command-27"><a href="#Command-27"><span class="linenos"> 27</span></a><span class="sd">        EXEC_REPLY: the command awaits user input - the reply() method can be called to provide an input.</span>
</span><span id="Command-28"><a href="#Command-28"><span class="linenos"> 28</span></a>
</span><span id="Command-29"><a href="#Command-29"><span class="linenos"> 29</span></a><span class="sd">        EXEC_MORE_OUTPUT: the command output buffer isn&#39;t big enough to hold all the results. In this case,</span>
</span><span id="Command-30"><a href="#Command-30"><span class="linenos"> 30</span></a><span class="sd">            the next_response() method can be called to get the next block of the response.</span>
</span><span id="Command-31"><a href="#Command-31"><span class="linenos"> 31</span></a>
</span><span id="Command-32"><a href="#Command-32"><span class="linenos"> 32</span></a><span class="sd">    When the status is either EXEC_REPLY or EXEC_MORE_OUTPUT, the cancel() method can be called to terminate</span>
</span><span id="Command-33"><a href="#Command-33"><span class="linenos"> 33</span></a><span class="sd">    the command execution.</span>
</span><span id="Command-34"><a href="#Command-34"><span class="linenos"> 34</span></a>
</span><span id="Command-35"><a href="#Command-35"><span class="linenos"> 35</span></a><span class="sd">    Attributes:</span>
</span><span id="Command-36"><a href="#Command-36"><span class="linenos"> 36</span></a><span class="sd">        command_text (str): the command text.</span>
</span><span id="Command-37"><a href="#Command-37"><span class="linenos"> 37</span></a><span class="sd">        at_system_return_code (int) : the value of the system variable @SYSTEM.RETURN.CODE on the server.</span>
</span><span id="Command-38"><a href="#Command-38"><span class="linenos"> 38</span></a><span class="sd">        at_selected (int): The value of the system variable @SELECTED on the server.</span>
</span><span id="Command-39"><a href="#Command-39"><span class="linenos"> 39</span></a>
</span><span id="Command-40"><a href="#Command-40"><span class="linenos"> 40</span></a><span class="sd">    Examples:</span>
</span><span id="Command-41"><a href="#Command-41"><span class="linenos"> 41</span></a>
</span><span id="Command-42"><a href="#Command-42"><span class="linenos"> 42</span></a><span class="sd">        &gt;&gt;&gt; with uopy.connect(user=&#39;test&#39;, password=&#39;test&#39;):</span>
</span><span id="Command-43"><a href="#Command-43"><span class="linenos"> 43</span></a><span class="sd">        &gt;&gt;&gt;     cmd = uopy.Command(&quot;LIST VOC&quot;)</span>
</span><span id="Command-44"><a href="#Command-44"><span class="linenos"> 44</span></a><span class="sd">        &gt;&gt;&gt;     cmd.run()</span>
</span><span id="Command-45"><a href="#Command-45"><span class="linenos"> 45</span></a><span class="sd">        &gt;&gt;&gt;     print(cmd.response)</span>
</span><span id="Command-46"><a href="#Command-46"><span class="linenos"> 46</span></a>
</span><span id="Command-47"><a href="#Command-47"><span class="linenos"> 47</span></a><span class="sd">        &gt;&gt;&gt; with uopy.connect(user=&#39;test&#39;, password=&#39;test&#39;):</span>
</span><span id="Command-48"><a href="#Command-48"><span class="linenos"> 48</span></a><span class="sd">        &gt;&gt;&gt;     cmd = uopy.Command(&quot;RUN BP SAYHELLOTO&quot;)</span>
</span><span id="Command-49"><a href="#Command-49"><span class="linenos"> 49</span></a><span class="sd">        &gt;&gt;&gt;     if cmd.status == uopy.EXEC_REPLY:</span>
</span><span id="Command-50"><a href="#Command-50"><span class="linenos"> 50</span></a><span class="sd">        &gt;&gt;&gt;         cmd.reply(&quot;MV loyal user&quot;)</span>
</span><span id="Command-51"><a href="#Command-51"><span class="linenos"> 51</span></a><span class="sd">        &gt;&gt;&gt;     print(cmd.response)</span>
</span><span id="Command-52"><a href="#Command-52"><span class="linenos"> 52</span></a>
</span><span id="Command-53"><a href="#Command-53"><span class="linenos"> 53</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Command-54"><a href="#Command-54"><span class="linenos"> 54</span></a>
</span><span id="Command-55"><a href="#Command-55"><span class="linenos"> 55</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command_text</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Command-56"><a href="#Command-56"><span class="linenos"> 56</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a Command object</span>
</span><span id="Command-57"><a href="#Command-57"><span class="linenos"> 57</span></a>
</span><span id="Command-58"><a href="#Command-58"><span class="linenos"> 58</span></a><span class="sd">        Args:</span>
</span><span id="Command-59"><a href="#Command-59"><span class="linenos"> 59</span></a><span class="sd">            command_text (str, optional): the TCL/ECL command to be executed on the remote server.</span>
</span><span id="Command-60"><a href="#Command-60"><span class="linenos"> 60</span></a><span class="sd">            session (Session, optional): the Session object that the Command object is bound to.</span>
</span><span id="Command-61"><a href="#Command-61"><span class="linenos"> 61</span></a><span class="sd">                If omitted, the last opened Session in the current thread will be used.</span>
</span><span id="Command-62"><a href="#Command-62"><span class="linenos"> 62</span></a>
</span><span id="Command-63"><a href="#Command-63"><span class="linenos"> 63</span></a><span class="sd">        Raises:</span>
</span><span id="Command-64"><a href="#Command-64"><span class="linenos"> 64</span></a><span class="sd">            UOError</span>
</span><span id="Command-65"><a href="#Command-65"><span class="linenos"> 65</span></a>
</span><span id="Command-66"><a href="#Command-66"><span class="linenos"> 66</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Command-67"><a href="#Command-67"><span class="linenos"> 67</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</span><span id="Command-68"><a href="#Command-68"><span class="linenos"> 68</span></a>
</span><span id="Command-69"><a href="#Command-69"><span class="linenos"> 69</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span> <span class="o">=</span> <span class="n">_EXEC_DEFAULT_BUFFER_SIZE</span>
</span><span id="Command-70"><a href="#Command-70"><span class="linenos"> 70</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">EXEC_COMPLETE</span>
</span><span id="Command-71"><a href="#Command-71"><span class="linenos"> 71</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_response</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="Command-72"><a href="#Command-72"><span class="linenos"> 72</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_next_block</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="Command-73"><a href="#Command-73"><span class="linenos"> 73</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">command_text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="k">if</span> <span class="n">command_text</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">command_text</span>
</span><span id="Command-74"><a href="#Command-74"><span class="linenos"> 74</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">at_system_return_code</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Command-75"><a href="#Command-75"><span class="linenos"> 75</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">at_selected</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Command-76"><a href="#Command-76"><span class="linenos"> 76</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_fetch_all</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Command-77"><a href="#Command-77"><span class="linenos"> 77</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">bind_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Command-78"><a href="#Command-78"><span class="linenos"> 78</span></a>
</span><span id="Command-79"><a href="#Command-79"><span class="linenos"> 79</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Command-80"><a href="#Command-80"><span class="linenos"> 80</span></a>        <span class="n">format_string</span> <span class="o">=</span> <span class="s2">&quot;&lt;</span><span class="si">{}</span><span class="s2"> object </span><span class="si">{}</span><span class="s2"> at 0x</span><span class="si">{:016X}</span><span class="s2">&gt;&quot;</span>
</span><span id="Command-81"><a href="#Command-81"><span class="linenos"> 81</span></a>        <span class="n">details</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;command_text&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">command_text</span><span class="p">}</span>
</span><span id="Command-82"><a href="#Command-82"><span class="linenos"> 82</span></a>        <span class="k">return</span> <span class="n">format_string</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
</span><span id="Command-83"><a href="#Command-83"><span class="linenos"> 83</span></a>            <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">Command</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span> <span class="n">Command</span><span class="o">.</span><span class="vm">__qualname__</span><span class="p">]),</span> <span class="n">details</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Command-84"><a href="#Command-84"><span class="linenos"> 84</span></a>        <span class="p">)</span>
</span><span id="Command-85"><a href="#Command-85"><span class="linenos"> 85</span></a>
</span><span id="Command-86"><a href="#Command-86"><span class="linenos"> 86</span></a>    <span class="nd">@property</span>
</span><span id="Command-87"><a href="#Command-87"><span class="linenos"> 87</span></a>    <span class="k">def</span> <span class="nf">status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Command-88"><a href="#Command-88"><span class="linenos"> 88</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;int: The current status of the Command object.&quot;&quot;&quot;</span>
</span><span id="Command-89"><a href="#Command-89"><span class="linenos"> 89</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span>
</span><span id="Command-90"><a href="#Command-90"><span class="linenos"> 90</span></a>
</span><span id="Command-91"><a href="#Command-91"><span class="linenos"> 91</span></a>    <span class="nd">@property</span>
</span><span id="Command-92"><a href="#Command-92"><span class="linenos"> 92</span></a>    <span class="k">def</span> <span class="nf">response</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Command-93"><a href="#Command-93"><span class="linenos"> 93</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;str: The current response of the Command object from the server.&quot;&quot;&quot;</span>
</span><span id="Command-94"><a href="#Command-94"><span class="linenos"> 94</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_response</span>
</span><span id="Command-95"><a href="#Command-95"><span class="linenos"> 95</span></a>
</span><span id="Command-96"><a href="#Command-96"><span class="linenos"> 96</span></a>    <span class="nd">@property</span>
</span><span id="Command-97"><a href="#Command-97"><span class="linenos"> 97</span></a>    <span class="k">def</span> <span class="nf">buffer_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Command-98"><a href="#Command-98"><span class="linenos"> 98</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;int: The size of the output buffer for the Command object.</span>
</span><span id="Command-99"><a href="#Command-99"><span class="linenos"> 99</span></a>
</span><span id="Command-100"><a href="#Command-100"><span class="linenos">100</span></a><span class="sd">        If left unset, all the output of the command execution will be brought back at once.</span>
</span><span id="Command-101"><a href="#Command-101"><span class="linenos">101</span></a><span class="sd">        If set explicitly, only the output of the specified size will be returned.</span>
</span><span id="Command-102"><a href="#Command-102"><span class="linenos">102</span></a>
</span><span id="Command-103"><a href="#Command-103"><span class="linenos">103</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Command-104"><a href="#Command-104"><span class="linenos">104</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span>
</span><span id="Command-105"><a href="#Command-105"><span class="linenos">105</span></a>
</span><span id="Command-106"><a href="#Command-106"><span class="linenos">106</span></a>    <span class="nd">@buffer_size</span><span class="o">.</span><span class="n">setter</span>
</span><span id="Command-107"><a href="#Command-107"><span class="linenos">107</span></a>    <span class="k">def</span> <span class="nf">buffer_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="Command-108"><a href="#Command-108"><span class="linenos">108</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="Command-109"><a href="#Command-109"><span class="linenos">109</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;output buffer size must be an integer!&quot;</span><span class="p">)</span>
</span><span id="Command-110"><a href="#Command-110"><span class="linenos">110</span></a>        <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Command-111"><a href="#Command-111"><span class="linenos">111</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;output buffer size must between greater than 0!&quot;</span><span class="p">)</span>
</span><span id="Command-112"><a href="#Command-112"><span class="linenos">112</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Command-113"><a href="#Command-113"><span class="linenos">113</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_fetch_all</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Command-114"><a href="#Command-114"><span class="linenos">114</span></a>
</span><span id="Command-115"><a href="#Command-115"><span class="linenos">115</span></a>    <span class="k">def</span> <span class="nf">_exec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_command</span><span class="p">,</span> <span class="n">input_reply</span><span class="p">):</span>
</span><span id="Command-116"><a href="#Command-116"><span class="linenos">116</span></a>        <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Command-117"><a href="#Command-117"><span class="linenos">117</span></a>        <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Command-118"><a href="#Command-118"><span class="linenos">118</span></a>
</span><span id="Command-119"><a href="#Command-119"><span class="linenos">119</span></a>        <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">server_command</span><span class="p">)</span>
</span><span id="Command-120"><a href="#Command-120"><span class="linenos">120</span></a>
</span><span id="Command-121"><a href="#Command-121"><span class="linenos">121</span></a>        <span class="k">if</span> <span class="n">server_command</span> <span class="o">==</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_EXECUTE</span><span class="p">:</span>
</span><span id="Command-122"><a href="#Command-122"><span class="linenos">122</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">)</span>
</span><span id="Command-123"><a href="#Command-123"><span class="linenos">123</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">command_text</span><span class="p">))</span>
</span><span id="Command-124"><a href="#Command-124"><span class="linenos">124</span></a>        <span class="k">elif</span> <span class="n">server_command</span> <span class="o">==</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_EXECUTECONTINUE</span><span class="p">:</span>
</span><span id="Command-125"><a href="#Command-125"><span class="linenos">125</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">)</span>
</span><span id="Command-126"><a href="#Command-126"><span class="linenos">126</span></a>        <span class="k">elif</span> <span class="n">server_command</span> <span class="o">==</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_INPUTREPLY</span><span class="p">:</span>
</span><span id="Command-127"><a href="#Command-127"><span class="linenos">127</span></a>            <span class="n">reply_str</span> <span class="o">=</span> <span class="n">input_reply</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Command-128"><a href="#Command-128"><span class="linenos">128</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">reply_str</span><span class="p">))</span>
</span><span id="Command-129"><a href="#Command-129"><span class="linenos">129</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">)</span>
</span><span id="Command-130"><a href="#Command-130"><span class="linenos">130</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Command-131"><a href="#Command-131"><span class="linenos">131</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_EINVAL</span><span class="p">)</span>
</span><span id="Command-132"><a href="#Command-132"><span class="linenos">132</span></a>
</span><span id="Command-133"><a href="#Command-133"><span class="linenos">133</span></a>        <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">,</span> <span class="n">in_exec</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="Command-134"><a href="#Command-134"><span class="linenos">134</span></a>
</span><span id="Command-135"><a href="#Command-135"><span class="linenos">135</span></a>        <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">_EXEC_END</span><span class="p">:</span>
</span><span id="Command-136"><a href="#Command-136"><span class="linenos">136</span></a>            <span class="n">tmp_resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</span><span id="Command-137"><a href="#Command-137"><span class="linenos">137</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">read_packet4cmd</span><span class="p">(</span><span class="n">in_packet</span><span class="p">)</span>
</span><span id="Command-138"><a href="#Command-138"><span class="linenos">138</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">at_system_return_code</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="Command-139"><a href="#Command-139"><span class="linenos">139</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">at_selected</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="Command-140"><a href="#Command-140"><span class="linenos">140</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="n">EXEC_COMPLETE</span>
</span><span id="Command-141"><a href="#Command-141"><span class="linenos">141</span></a>        <span class="k">elif</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">_EXEC_BTS</span><span class="p">:</span>
</span><span id="Command-142"><a href="#Command-142"><span class="linenos">142</span></a>            <span class="n">tmp_resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</span><span id="Command-143"><a href="#Command-143"><span class="linenos">143</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="n">EXEC_MORE_OUTPUT</span>
</span><span id="Command-144"><a href="#Command-144"><span class="linenos">144</span></a>        <span class="k">elif</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">_EXEC_AT_INPUT</span><span class="p">:</span>
</span><span id="Command-145"><a href="#Command-145"><span class="linenos">145</span></a>            <span class="n">tmp_resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</span><span id="Command-146"><a href="#Command-146"><span class="linenos">146</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="n">EXEC_REPLY</span>
</span><span id="Command-147"><a href="#Command-147"><span class="linenos">147</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Command-148"><a href="#Command-148"><span class="linenos">148</span></a>            <span class="n">e</span> <span class="o">=</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="Command-149"><a href="#Command-149"><span class="linenos">149</span></a>            <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="Command-150"><a href="#Command-150"><span class="linenos">150</span></a>            <span class="k">raise</span> <span class="n">e</span>
</span><span id="Command-151"><a href="#Command-151"><span class="linenos">151</span></a>
</span><span id="Command-152"><a href="#Command-152"><span class="linenos">152</span></a>        <span class="k">if</span> <span class="n">server_command</span> <span class="o">==</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_EXECUTECONTINUE</span><span class="p">:</span>
</span><span id="Command-153"><a href="#Command-153"><span class="linenos">153</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_next_block</span> <span class="o">=</span> <span class="n">tmp_resp</span>
</span><span id="Command-154"><a href="#Command-154"><span class="linenos">154</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Command-155"><a href="#Command-155"><span class="linenos">155</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_response</span> <span class="o">=</span> <span class="n">tmp_resp</span>
</span><span id="Command-156"><a href="#Command-156"><span class="linenos">156</span></a>
</span><span id="Command-157"><a href="#Command-157"><span class="linenos">157</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Response&quot;</span><span class="p">,</span> <span class="n">tmp_resp</span><span class="p">,</span> <span class="n">resp_code</span><span class="p">)</span>
</span><span id="Command-158"><a href="#Command-158"><span class="linenos">158</span></a>        <span class="k">return</span> <span class="n">resp_code</span>
</span><span id="Command-159"><a href="#Command-159"><span class="linenos">159</span></a>
</span><span id="Command-160"><a href="#Command-160"><span class="linenos">160</span></a>    <span class="k">def</span> <span class="nf">_fetch_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resp_code</span><span class="p">):</span>
</span><span id="Command-161"><a href="#Command-161"><span class="linenos">161</span></a>        <span class="k">while</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">EXEC_MORE_OUTPUT</span><span class="p">:</span>
</span><span id="Command-162"><a href="#Command-162"><span class="linenos">162</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exec</span><span class="p">(</span><span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_EXECUTECONTINUE</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="Command-163"><a href="#Command-163"><span class="linenos">163</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="ow">in</span> <span class="p">[</span><span class="n">EXEC_MORE_OUTPUT</span><span class="p">,</span> <span class="n">EXEC_COMPLETE</span><span class="p">]:</span>
</span><span id="Command-164"><a href="#Command-164"><span class="linenos">164</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_response</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_next_block</span>
</span><span id="Command-165"><a href="#Command-165"><span class="linenos">165</span></a>        <span class="k">return</span> <span class="n">resp_code</span>
</span><span id="Command-166"><a href="#Command-166"><span class="linenos">166</span></a>
</span><span id="Command-167"><a href="#Command-167"><span class="linenos">167</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Command-168"><a href="#Command-168"><span class="linenos">168</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute the command on the remote server.</span>
</span><span id="Command-169"><a href="#Command-169"><span class="linenos">169</span></a>
</span><span id="Command-170"><a href="#Command-170"><span class="linenos">170</span></a><span class="sd">        Args:</span>
</span><span id="Command-171"><a href="#Command-171"><span class="linenos">171</span></a>
</span><span id="Command-172"><a href="#Command-172"><span class="linenos">172</span></a><span class="sd">        Returns:</span>
</span><span id="Command-173"><a href="#Command-173"><span class="linenos">173</span></a><span class="sd">            None</span>
</span><span id="Command-174"><a href="#Command-174"><span class="linenos">174</span></a>
</span><span id="Command-175"><a href="#Command-175"><span class="linenos">175</span></a><span class="sd">        Raises:</span>
</span><span id="Command-176"><a href="#Command-176"><span class="linenos">176</span></a><span class="sd">            UOError</span>
</span><span id="Command-177"><a href="#Command-177"><span class="linenos">177</span></a>
</span><span id="Command-178"><a href="#Command-178"><span class="linenos">178</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Command-179"><a href="#Command-179"><span class="linenos">179</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">command_text</span><span class="p">)</span>
</span><span id="Command-180"><a href="#Command-180"><span class="linenos">180</span></a>
</span><span id="Command-181"><a href="#Command-181"><span class="linenos">181</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Command-182"><a href="#Command-182"><span class="linenos">182</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="ow">in</span> <span class="p">{</span><span class="n">EXEC_MORE_OUTPUT</span><span class="p">,</span> <span class="n">EXEC_REPLY</span><span class="p">}:</span>
</span><span id="Command-183"><a href="#Command-183"><span class="linenos">183</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_EXECUTEISACTIVE</span><span class="p">)</span>
</span><span id="Command-184"><a href="#Command-184"><span class="linenos">184</span></a>
</span><span id="Command-185"><a href="#Command-185"><span class="linenos">185</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">command_text</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">command_text</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="Command-186"><a href="#Command-186"><span class="linenos">186</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span>
</span><span id="Command-187"><a href="#Command-187"><span class="linenos">187</span></a>                    <span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_USAGE_ERROR</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;invalid command_text&quot;</span>
</span><span id="Command-188"><a href="#Command-188"><span class="linenos">188</span></a>                <span class="p">)</span>
</span><span id="Command-189"><a href="#Command-189"><span class="linenos">189</span></a>
</span><span id="Command-190"><a href="#Command-190"><span class="linenos">190</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">at_system_return_code</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Command-191"><a href="#Command-191"><span class="linenos">191</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">at_selected</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Command-192"><a href="#Command-192"><span class="linenos">192</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_response</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="Command-193"><a href="#Command-193"><span class="linenos">193</span></a>
</span><span id="Command-194"><a href="#Command-194"><span class="linenos">194</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exec</span><span class="p">(</span><span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_EXECUTE</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="Command-195"><a href="#Command-195"><span class="linenos">195</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">resp_code</span>
</span><span id="Command-196"><a href="#Command-196"><span class="linenos">196</span></a>
</span><span id="Command-197"><a href="#Command-197"><span class="linenos">197</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_fetch_all</span> <span class="ow">and</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">EXEC_MORE_OUTPUT</span><span class="p">:</span>
</span><span id="Command-198"><a href="#Command-198"><span class="linenos">198</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_all</span><span class="p">(</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="Command-199"><a href="#Command-199"><span class="linenos">199</span></a>
</span><span id="Command-200"><a href="#Command-200"><span class="linenos">200</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_response</span><span class="p">)</span>
</span><span id="Command-201"><a href="#Command-201"><span class="linenos">201</span></a>
</span><span id="Command-202"><a href="#Command-202"><span class="linenos">202</span></a>    <span class="k">def</span> <span class="nf">cancel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Command-203"><a href="#Command-203"><span class="linenos">203</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Cancel the execution of the command.</span>
</span><span id="Command-204"><a href="#Command-204"><span class="linenos">204</span></a>
</span><span id="Command-205"><a href="#Command-205"><span class="linenos">205</span></a><span class="sd">        Args:</span>
</span><span id="Command-206"><a href="#Command-206"><span class="linenos">206</span></a>
</span><span id="Command-207"><a href="#Command-207"><span class="linenos">207</span></a><span class="sd">        Returns:</span>
</span><span id="Command-208"><a href="#Command-208"><span class="linenos">208</span></a><span class="sd">            None</span>
</span><span id="Command-209"><a href="#Command-209"><span class="linenos">209</span></a>
</span><span id="Command-210"><a href="#Command-210"><span class="linenos">210</span></a><span class="sd">        Raises:</span>
</span><span id="Command-211"><a href="#Command-211"><span class="linenos">211</span></a><span class="sd">            UOError</span>
</span><span id="Command-212"><a href="#Command-212"><span class="linenos">212</span></a>
</span><span id="Command-213"><a href="#Command-213"><span class="linenos">213</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Command-214"><a href="#Command-214"><span class="linenos">214</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">)</span>
</span><span id="Command-215"><a href="#Command-215"><span class="linenos">215</span></a>
</span><span id="Command-216"><a href="#Command-216"><span class="linenos">216</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Command-217"><a href="#Command-217"><span class="linenos">217</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Command-218"><a href="#Command-218"><span class="linenos">218</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Command-219"><a href="#Command-219"><span class="linenos">219</span></a>
</span><span id="Command-220"><a href="#Command-220"><span class="linenos">220</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="ow">in</span> <span class="p">{</span><span class="n">EXEC_REPLY</span><span class="p">,</span> <span class="n">EXEC_MORE_OUTPUT</span><span class="p">}:</span>
</span><span id="Command-221"><a href="#Command-221"><span class="linenos">221</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">EXEC_COMPLETE</span>
</span><span id="Command-222"><a href="#Command-222"><span class="linenos">222</span></a>
</span><span id="Command-223"><a href="#Command-223"><span class="linenos">223</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_CANCEL</span><span class="p">)</span>
</span><span id="Command-224"><a href="#Command-224"><span class="linenos">224</span></a>
</span><span id="Command-225"><a href="#Command-225"><span class="linenos">225</span></a>                <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="Command-226"><a href="#Command-226"><span class="linenos">226</span></a>
</span><span id="Command-227"><a href="#Command-227"><span class="linenos">227</span></a>                <span class="n">resp_code</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Command-228"><a href="#Command-228"><span class="linenos">228</span></a>                <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Command-229"><a href="#Command-229"><span class="linenos">229</span></a>                    <span class="n">e</span> <span class="o">=</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="Command-230"><a href="#Command-230"><span class="linenos">230</span></a>                    <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="Command-231"><a href="#Command-231"><span class="linenos">231</span></a>                    <span class="k">raise</span> <span class="n">e</span>
</span><span id="Command-232"><a href="#Command-232"><span class="linenos">232</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Command-233"><a href="#Command-233"><span class="linenos">233</span></a>                <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;execution already finished&quot;</span><span class="p">)</span>
</span><span id="Command-234"><a href="#Command-234"><span class="linenos">234</span></a>
</span><span id="Command-235"><a href="#Command-235"><span class="linenos">235</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="Command-236"><a href="#Command-236"><span class="linenos">236</span></a>
</span><span id="Command-237"><a href="#Command-237"><span class="linenos">237</span></a>    <span class="k">def</span> <span class="nf">reply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reply_data</span><span class="p">):</span>
</span><span id="Command-238"><a href="#Command-238"><span class="linenos">238</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a reply to the server to continue the command execution.</span>
</span><span id="Command-239"><a href="#Command-239"><span class="linenos">239</span></a>
</span><span id="Command-240"><a href="#Command-240"><span class="linenos">240</span></a><span class="sd">        Args:</span>
</span><span id="Command-241"><a href="#Command-241"><span class="linenos">241</span></a><span class="sd">            reply_data: the input for the command.</span>
</span><span id="Command-242"><a href="#Command-242"><span class="linenos">242</span></a>
</span><span id="Command-243"><a href="#Command-243"><span class="linenos">243</span></a><span class="sd">        Returns:</span>
</span><span id="Command-244"><a href="#Command-244"><span class="linenos">244</span></a><span class="sd">            None</span>
</span><span id="Command-245"><a href="#Command-245"><span class="linenos">245</span></a>
</span><span id="Command-246"><a href="#Command-246"><span class="linenos">246</span></a><span class="sd">        Raises:</span>
</span><span id="Command-247"><a href="#Command-247"><span class="linenos">247</span></a><span class="sd">            UOError</span>
</span><span id="Command-248"><a href="#Command-248"><span class="linenos">248</span></a>
</span><span id="Command-249"><a href="#Command-249"><span class="linenos">249</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Command-250"><a href="#Command-250"><span class="linenos">250</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">reply_data</span><span class="p">)</span>
</span><span id="Command-251"><a href="#Command-251"><span class="linenos">251</span></a>
</span><span id="Command-252"><a href="#Command-252"><span class="linenos">252</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Command-253"><a href="#Command-253"><span class="linenos">253</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">!=</span> <span class="n">EXEC_REPLY</span><span class="p">:</span>
</span><span id="Command-254"><a href="#Command-254"><span class="linenos">254</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_NOTATINPUT</span><span class="p">)</span>
</span><span id="Command-255"><a href="#Command-255"><span class="linenos">255</span></a>
</span><span id="Command-256"><a href="#Command-256"><span class="linenos">256</span></a>            <span class="c1"># reply_data += &quot;\n&quot;</span>
</span><span id="Command-257"><a href="#Command-257"><span class="linenos">257</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exec</span><span class="p">(</span><span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_INPUTREPLY</span><span class="p">,</span> <span class="n">reply_data</span><span class="p">)</span>
</span><span id="Command-258"><a href="#Command-258"><span class="linenos">258</span></a>
</span><span id="Command-259"><a href="#Command-259"><span class="linenos">259</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">resp_code</span>
</span><span id="Command-260"><a href="#Command-260"><span class="linenos">260</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_fetch_all</span> <span class="ow">and</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">EXEC_MORE_OUTPUT</span><span class="p">:</span>
</span><span id="Command-261"><a href="#Command-261"><span class="linenos">261</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_all</span><span class="p">(</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="Command-262"><a href="#Command-262"><span class="linenos">262</span></a>
</span><span id="Command-263"><a href="#Command-263"><span class="linenos">263</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span><span class="p">)</span>
</span><span id="Command-264"><a href="#Command-264"><span class="linenos">264</span></a>
</span><span id="Command-265"><a href="#Command-265"><span class="linenos">265</span></a>    <span class="k">def</span> <span class="nf">next_response</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Command-266"><a href="#Command-266"><span class="linenos">266</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the next block of output from the server.</span>
</span><span id="Command-267"><a href="#Command-267"><span class="linenos">267</span></a>
</span><span id="Command-268"><a href="#Command-268"><span class="linenos">268</span></a><span class="sd">        Args:</span>
</span><span id="Command-269"><a href="#Command-269"><span class="linenos">269</span></a>
</span><span id="Command-270"><a href="#Command-270"><span class="linenos">270</span></a><span class="sd">        Returns:</span>
</span><span id="Command-271"><a href="#Command-271"><span class="linenos">271</span></a><span class="sd">            None</span>
</span><span id="Command-272"><a href="#Command-272"><span class="linenos">272</span></a>
</span><span id="Command-273"><a href="#Command-273"><span class="linenos">273</span></a><span class="sd">        Raises:</span>
</span><span id="Command-274"><a href="#Command-274"><span class="linenos">274</span></a><span class="sd">            UOError</span>
</span><span id="Command-275"><a href="#Command-275"><span class="linenos">275</span></a>
</span><span id="Command-276"><a href="#Command-276"><span class="linenos">276</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Command-277"><a href="#Command-277"><span class="linenos">277</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">)</span>
</span><span id="Command-278"><a href="#Command-278"><span class="linenos">278</span></a>
</span><span id="Command-279"><a href="#Command-279"><span class="linenos">279</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Command-280"><a href="#Command-280"><span class="linenos">280</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">!=</span> <span class="n">EXEC_MORE_OUTPUT</span><span class="p">:</span>
</span><span id="Command-281"><a href="#Command-281"><span class="linenos">281</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_NOMORE</span><span class="p">)</span>
</span><span id="Command-282"><a href="#Command-282"><span class="linenos">282</span></a>
</span><span id="Command-283"><a href="#Command-283"><span class="linenos">283</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_response</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Command-284"><a href="#Command-284"><span class="linenos">284</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exec</span><span class="p">(</span><span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_EXECUTECONTINUE</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="Command-285"><a href="#Command-285"><span class="linenos">285</span></a>
</span><span id="Command-286"><a href="#Command-286"><span class="linenos">286</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_next_block</span>
</span><span id="Command-287"><a href="#Command-287"><span class="linenos">287</span></a>
</span><span id="Command-288"><a href="#Command-288"><span class="linenos">288</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">resp_code</span>
</span><span id="Command-289"><a href="#Command-289"><span class="linenos">289</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_fetch_all</span> <span class="ow">and</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">EXEC_MORE_OUTPUT</span><span class="p">:</span>
</span><span id="Command-290"><a href="#Command-290"><span class="linenos">290</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_all</span><span class="p">(</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="Command-291"><a href="#Command-291"><span class="linenos">291</span></a>
</span><span id="Command-292"><a href="#Command-292"><span class="linenos">292</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_response</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Command allows applications to run MV ECL/TCL commands or stored procedures on the remote server.</p>

<p>After a command is executed, it can have one of these three status:
    EXEC_COMPLETE: the command execution has completed.</p>

<pre><code>EXEC_REPLY: the command awaits user input - the reply() method can be called to provide an input.

EXEC_MORE_OUTPUT: the command output buffer isn't big enough to hold all the results. In this case,
    the next_response() method can be called to get the next block of the response.
</code></pre>

<p>When the status is either EXEC_REPLY or EXEC_MORE_OUTPUT, the cancel() method can be called to terminate
the command execution.</p>

<p>Attributes:
    command_text (str): the command text.
    at_system_return_code (int) : the value of the system variable @SYSTEM.RETURN.CODE on the server.
    at_selected (int): The value of the system variable @SELECTED on the server.</p>

<p>Examples:</p>

<pre><code>&gt;&gt;&gt; with <a href="#connect">uopy.connect</a>(user='test', password='test'):
&gt;&gt;&gt;     cmd = <a href="#Command">uopy.Command</a>("LIST VOC")
&gt;&gt;&gt;     cmd.run()
&gt;&gt;&gt;     print(cmd.response)

&gt;&gt;&gt; with <a href="#connect">uopy.connect</a>(user='test', password='test'):
&gt;&gt;&gt;     cmd = <a href="#Command">uopy.Command</a>("RUN BP SAYHELLOTO")
&gt;&gt;&gt;     if cmd.status == uopy.EXEC_REPLY:
&gt;&gt;&gt;         cmd.reply("MV loyal user")
&gt;&gt;&gt;     print(cmd.response)
</code></pre>
</div>


                            <div id="Command.__init__" class="classattr">
                                        <input id="Command.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Command</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">command_text</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">session</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="Command.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Command.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Command.__init__-55"><a href="#Command.__init__-55"><span class="linenos">55</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command_text</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Command.__init__-56"><a href="#Command.__init__-56"><span class="linenos">56</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a Command object</span>
</span><span id="Command.__init__-57"><a href="#Command.__init__-57"><span class="linenos">57</span></a>
</span><span id="Command.__init__-58"><a href="#Command.__init__-58"><span class="linenos">58</span></a><span class="sd">        Args:</span>
</span><span id="Command.__init__-59"><a href="#Command.__init__-59"><span class="linenos">59</span></a><span class="sd">            command_text (str, optional): the TCL/ECL command to be executed on the remote server.</span>
</span><span id="Command.__init__-60"><a href="#Command.__init__-60"><span class="linenos">60</span></a><span class="sd">            session (Session, optional): the Session object that the Command object is bound to.</span>
</span><span id="Command.__init__-61"><a href="#Command.__init__-61"><span class="linenos">61</span></a><span class="sd">                If omitted, the last opened Session in the current thread will be used.</span>
</span><span id="Command.__init__-62"><a href="#Command.__init__-62"><span class="linenos">62</span></a>
</span><span id="Command.__init__-63"><a href="#Command.__init__-63"><span class="linenos">63</span></a><span class="sd">        Raises:</span>
</span><span id="Command.__init__-64"><a href="#Command.__init__-64"><span class="linenos">64</span></a><span class="sd">            UOError</span>
</span><span id="Command.__init__-65"><a href="#Command.__init__-65"><span class="linenos">65</span></a>
</span><span id="Command.__init__-66"><a href="#Command.__init__-66"><span class="linenos">66</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Command.__init__-67"><a href="#Command.__init__-67"><span class="linenos">67</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</span><span id="Command.__init__-68"><a href="#Command.__init__-68"><span class="linenos">68</span></a>
</span><span id="Command.__init__-69"><a href="#Command.__init__-69"><span class="linenos">69</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span> <span class="o">=</span> <span class="n">_EXEC_DEFAULT_BUFFER_SIZE</span>
</span><span id="Command.__init__-70"><a href="#Command.__init__-70"><span class="linenos">70</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">EXEC_COMPLETE</span>
</span><span id="Command.__init__-71"><a href="#Command.__init__-71"><span class="linenos">71</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_response</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="Command.__init__-72"><a href="#Command.__init__-72"><span class="linenos">72</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_next_block</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="Command.__init__-73"><a href="#Command.__init__-73"><span class="linenos">73</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">command_text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="k">if</span> <span class="n">command_text</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">command_text</span>
</span><span id="Command.__init__-74"><a href="#Command.__init__-74"><span class="linenos">74</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">at_system_return_code</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Command.__init__-75"><a href="#Command.__init__-75"><span class="linenos">75</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">at_selected</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Command.__init__-76"><a href="#Command.__init__-76"><span class="linenos">76</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_fetch_all</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Command.__init__-77"><a href="#Command.__init__-77"><span class="linenos">77</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">bind_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Initialize a Command object</p>

<p>Args:
    command_text (str, optional): the TCL/ECL command to be executed on the remote server.
    session (Session, optional): the Session object that the Command object is bound to.
        If omitted, the last opened Session in the current thread will be used.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Command.command_text" class="classattr">
                                <div class="attr variable">
            <span class="name">command_text</span>

        
    </div>
    <a class="headerlink" href="#Command.command_text"></a>
    
    

                            </div>
                            <div id="Command.at_system_return_code" class="classattr">
                                <div class="attr variable">
            <span class="name">at_system_return_code</span>

        
    </div>
    <a class="headerlink" href="#Command.at_system_return_code"></a>
    
    

                            </div>
                            <div id="Command.at_selected" class="classattr">
                                <div class="attr variable">
            <span class="name">at_selected</span>

        
    </div>
    <a class="headerlink" href="#Command.at_selected"></a>
    
    

                            </div>
                            <div id="Command.status" class="classattr">
                                <div class="attr variable">
            <span class="name">status</span>

        
    </div>
    <a class="headerlink" href="#Command.status"></a>
    
            <div class="docstring"><p>int: The current status of the Command object.</p>
</div>


                            </div>
                            <div id="Command.response" class="classattr">
                                <div class="attr variable">
            <span class="name">response</span>

        
    </div>
    <a class="headerlink" href="#Command.response"></a>
    
            <div class="docstring"><p>str: The current response of the Command object from the server.</p>
</div>


                            </div>
                            <div id="Command.buffer_size" class="classattr">
                                <div class="attr variable">
            <span class="name">buffer_size</span>

        
    </div>
    <a class="headerlink" href="#Command.buffer_size"></a>
    
            <div class="docstring"><p>int: The size of the output buffer for the Command object.</p>

<p>If left unset, all the output of the command execution will be brought back at once.
If set explicitly, only the output of the specified size will be returned.</p>
</div>


                            </div>
                            <div id="Command.run" class="classattr">
                                        <input id="Command.run-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">run</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Command.run-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Command.run"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Command.run-167"><a href="#Command.run-167"><span class="linenos">167</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Command.run-168"><a href="#Command.run-168"><span class="linenos">168</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute the command on the remote server.</span>
</span><span id="Command.run-169"><a href="#Command.run-169"><span class="linenos">169</span></a>
</span><span id="Command.run-170"><a href="#Command.run-170"><span class="linenos">170</span></a><span class="sd">        Args:</span>
</span><span id="Command.run-171"><a href="#Command.run-171"><span class="linenos">171</span></a>
</span><span id="Command.run-172"><a href="#Command.run-172"><span class="linenos">172</span></a><span class="sd">        Returns:</span>
</span><span id="Command.run-173"><a href="#Command.run-173"><span class="linenos">173</span></a><span class="sd">            None</span>
</span><span id="Command.run-174"><a href="#Command.run-174"><span class="linenos">174</span></a>
</span><span id="Command.run-175"><a href="#Command.run-175"><span class="linenos">175</span></a><span class="sd">        Raises:</span>
</span><span id="Command.run-176"><a href="#Command.run-176"><span class="linenos">176</span></a><span class="sd">            UOError</span>
</span><span id="Command.run-177"><a href="#Command.run-177"><span class="linenos">177</span></a>
</span><span id="Command.run-178"><a href="#Command.run-178"><span class="linenos">178</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Command.run-179"><a href="#Command.run-179"><span class="linenos">179</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">command_text</span><span class="p">)</span>
</span><span id="Command.run-180"><a href="#Command.run-180"><span class="linenos">180</span></a>
</span><span id="Command.run-181"><a href="#Command.run-181"><span class="linenos">181</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Command.run-182"><a href="#Command.run-182"><span class="linenos">182</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="ow">in</span> <span class="p">{</span><span class="n">EXEC_MORE_OUTPUT</span><span class="p">,</span> <span class="n">EXEC_REPLY</span><span class="p">}:</span>
</span><span id="Command.run-183"><a href="#Command.run-183"><span class="linenos">183</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_EXECUTEISACTIVE</span><span class="p">)</span>
</span><span id="Command.run-184"><a href="#Command.run-184"><span class="linenos">184</span></a>
</span><span id="Command.run-185"><a href="#Command.run-185"><span class="linenos">185</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">command_text</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">command_text</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="Command.run-186"><a href="#Command.run-186"><span class="linenos">186</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span>
</span><span id="Command.run-187"><a href="#Command.run-187"><span class="linenos">187</span></a>                    <span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_USAGE_ERROR</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;invalid command_text&quot;</span>
</span><span id="Command.run-188"><a href="#Command.run-188"><span class="linenos">188</span></a>                <span class="p">)</span>
</span><span id="Command.run-189"><a href="#Command.run-189"><span class="linenos">189</span></a>
</span><span id="Command.run-190"><a href="#Command.run-190"><span class="linenos">190</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">at_system_return_code</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Command.run-191"><a href="#Command.run-191"><span class="linenos">191</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">at_selected</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Command.run-192"><a href="#Command.run-192"><span class="linenos">192</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_response</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="Command.run-193"><a href="#Command.run-193"><span class="linenos">193</span></a>
</span><span id="Command.run-194"><a href="#Command.run-194"><span class="linenos">194</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exec</span><span class="p">(</span><span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_EXECUTE</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="Command.run-195"><a href="#Command.run-195"><span class="linenos">195</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">resp_code</span>
</span><span id="Command.run-196"><a href="#Command.run-196"><span class="linenos">196</span></a>
</span><span id="Command.run-197"><a href="#Command.run-197"><span class="linenos">197</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_fetch_all</span> <span class="ow">and</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">EXEC_MORE_OUTPUT</span><span class="p">:</span>
</span><span id="Command.run-198"><a href="#Command.run-198"><span class="linenos">198</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_all</span><span class="p">(</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="Command.run-199"><a href="#Command.run-199"><span class="linenos">199</span></a>
</span><span id="Command.run-200"><a href="#Command.run-200"><span class="linenos">200</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_response</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Execute the command on the remote server.</p>

<p>Args:</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Command.cancel" class="classattr">
                                        <input id="Command.cancel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">cancel</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Command.cancel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Command.cancel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Command.cancel-202"><a href="#Command.cancel-202"><span class="linenos">202</span></a>    <span class="k">def</span> <span class="nf">cancel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Command.cancel-203"><a href="#Command.cancel-203"><span class="linenos">203</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Cancel the execution of the command.</span>
</span><span id="Command.cancel-204"><a href="#Command.cancel-204"><span class="linenos">204</span></a>
</span><span id="Command.cancel-205"><a href="#Command.cancel-205"><span class="linenos">205</span></a><span class="sd">        Args:</span>
</span><span id="Command.cancel-206"><a href="#Command.cancel-206"><span class="linenos">206</span></a>
</span><span id="Command.cancel-207"><a href="#Command.cancel-207"><span class="linenos">207</span></a><span class="sd">        Returns:</span>
</span><span id="Command.cancel-208"><a href="#Command.cancel-208"><span class="linenos">208</span></a><span class="sd">            None</span>
</span><span id="Command.cancel-209"><a href="#Command.cancel-209"><span class="linenos">209</span></a>
</span><span id="Command.cancel-210"><a href="#Command.cancel-210"><span class="linenos">210</span></a><span class="sd">        Raises:</span>
</span><span id="Command.cancel-211"><a href="#Command.cancel-211"><span class="linenos">211</span></a><span class="sd">            UOError</span>
</span><span id="Command.cancel-212"><a href="#Command.cancel-212"><span class="linenos">212</span></a>
</span><span id="Command.cancel-213"><a href="#Command.cancel-213"><span class="linenos">213</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Command.cancel-214"><a href="#Command.cancel-214"><span class="linenos">214</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">)</span>
</span><span id="Command.cancel-215"><a href="#Command.cancel-215"><span class="linenos">215</span></a>
</span><span id="Command.cancel-216"><a href="#Command.cancel-216"><span class="linenos">216</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Command.cancel-217"><a href="#Command.cancel-217"><span class="linenos">217</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Command.cancel-218"><a href="#Command.cancel-218"><span class="linenos">218</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Command.cancel-219"><a href="#Command.cancel-219"><span class="linenos">219</span></a>
</span><span id="Command.cancel-220"><a href="#Command.cancel-220"><span class="linenos">220</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="ow">in</span> <span class="p">{</span><span class="n">EXEC_REPLY</span><span class="p">,</span> <span class="n">EXEC_MORE_OUTPUT</span><span class="p">}:</span>
</span><span id="Command.cancel-221"><a href="#Command.cancel-221"><span class="linenos">221</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">EXEC_COMPLETE</span>
</span><span id="Command.cancel-222"><a href="#Command.cancel-222"><span class="linenos">222</span></a>
</span><span id="Command.cancel-223"><a href="#Command.cancel-223"><span class="linenos">223</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_CANCEL</span><span class="p">)</span>
</span><span id="Command.cancel-224"><a href="#Command.cancel-224"><span class="linenos">224</span></a>
</span><span id="Command.cancel-225"><a href="#Command.cancel-225"><span class="linenos">225</span></a>                <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="Command.cancel-226"><a href="#Command.cancel-226"><span class="linenos">226</span></a>
</span><span id="Command.cancel-227"><a href="#Command.cancel-227"><span class="linenos">227</span></a>                <span class="n">resp_code</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Command.cancel-228"><a href="#Command.cancel-228"><span class="linenos">228</span></a>                <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Command.cancel-229"><a href="#Command.cancel-229"><span class="linenos">229</span></a>                    <span class="n">e</span> <span class="o">=</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="Command.cancel-230"><a href="#Command.cancel-230"><span class="linenos">230</span></a>                    <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="Command.cancel-231"><a href="#Command.cancel-231"><span class="linenos">231</span></a>                    <span class="k">raise</span> <span class="n">e</span>
</span><span id="Command.cancel-232"><a href="#Command.cancel-232"><span class="linenos">232</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Command.cancel-233"><a href="#Command.cancel-233"><span class="linenos">233</span></a>                <span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;execution already finished&quot;</span><span class="p">)</span>
</span><span id="Command.cancel-234"><a href="#Command.cancel-234"><span class="linenos">234</span></a>
</span><span id="Command.cancel-235"><a href="#Command.cancel-235"><span class="linenos">235</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Cancel the execution of the command.</p>

<p>Args:</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Command.reply" class="classattr">
                                        <input id="Command.reply-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">reply</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">reply_data</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Command.reply-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Command.reply"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Command.reply-237"><a href="#Command.reply-237"><span class="linenos">237</span></a>    <span class="k">def</span> <span class="nf">reply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reply_data</span><span class="p">):</span>
</span><span id="Command.reply-238"><a href="#Command.reply-238"><span class="linenos">238</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a reply to the server to continue the command execution.</span>
</span><span id="Command.reply-239"><a href="#Command.reply-239"><span class="linenos">239</span></a>
</span><span id="Command.reply-240"><a href="#Command.reply-240"><span class="linenos">240</span></a><span class="sd">        Args:</span>
</span><span id="Command.reply-241"><a href="#Command.reply-241"><span class="linenos">241</span></a><span class="sd">            reply_data: the input for the command.</span>
</span><span id="Command.reply-242"><a href="#Command.reply-242"><span class="linenos">242</span></a>
</span><span id="Command.reply-243"><a href="#Command.reply-243"><span class="linenos">243</span></a><span class="sd">        Returns:</span>
</span><span id="Command.reply-244"><a href="#Command.reply-244"><span class="linenos">244</span></a><span class="sd">            None</span>
</span><span id="Command.reply-245"><a href="#Command.reply-245"><span class="linenos">245</span></a>
</span><span id="Command.reply-246"><a href="#Command.reply-246"><span class="linenos">246</span></a><span class="sd">        Raises:</span>
</span><span id="Command.reply-247"><a href="#Command.reply-247"><span class="linenos">247</span></a><span class="sd">            UOError</span>
</span><span id="Command.reply-248"><a href="#Command.reply-248"><span class="linenos">248</span></a>
</span><span id="Command.reply-249"><a href="#Command.reply-249"><span class="linenos">249</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Command.reply-250"><a href="#Command.reply-250"><span class="linenos">250</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">reply_data</span><span class="p">)</span>
</span><span id="Command.reply-251"><a href="#Command.reply-251"><span class="linenos">251</span></a>
</span><span id="Command.reply-252"><a href="#Command.reply-252"><span class="linenos">252</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Command.reply-253"><a href="#Command.reply-253"><span class="linenos">253</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">!=</span> <span class="n">EXEC_REPLY</span><span class="p">:</span>
</span><span id="Command.reply-254"><a href="#Command.reply-254"><span class="linenos">254</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_NOTATINPUT</span><span class="p">)</span>
</span><span id="Command.reply-255"><a href="#Command.reply-255"><span class="linenos">255</span></a>
</span><span id="Command.reply-256"><a href="#Command.reply-256"><span class="linenos">256</span></a>            <span class="c1"># reply_data += &quot;\n&quot;</span>
</span><span id="Command.reply-257"><a href="#Command.reply-257"><span class="linenos">257</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exec</span><span class="p">(</span><span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_INPUTREPLY</span><span class="p">,</span> <span class="n">reply_data</span><span class="p">)</span>
</span><span id="Command.reply-258"><a href="#Command.reply-258"><span class="linenos">258</span></a>
</span><span id="Command.reply-259"><a href="#Command.reply-259"><span class="linenos">259</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">resp_code</span>
</span><span id="Command.reply-260"><a href="#Command.reply-260"><span class="linenos">260</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_fetch_all</span> <span class="ow">and</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">EXEC_MORE_OUTPUT</span><span class="p">:</span>
</span><span id="Command.reply-261"><a href="#Command.reply-261"><span class="linenos">261</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_all</span><span class="p">(</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="Command.reply-262"><a href="#Command.reply-262"><span class="linenos">262</span></a>
</span><span id="Command.reply-263"><a href="#Command.reply-263"><span class="linenos">263</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Send a reply to the server to continue the command execution.</p>

<p>Args:
    reply_data: the input for the command.</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Command.next_response" class="classattr">
                                        <input id="Command.next_response-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next_response</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Command.next_response-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Command.next_response"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Command.next_response-265"><a href="#Command.next_response-265"><span class="linenos">265</span></a>    <span class="k">def</span> <span class="nf">next_response</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Command.next_response-266"><a href="#Command.next_response-266"><span class="linenos">266</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the next block of output from the server.</span>
</span><span id="Command.next_response-267"><a href="#Command.next_response-267"><span class="linenos">267</span></a>
</span><span id="Command.next_response-268"><a href="#Command.next_response-268"><span class="linenos">268</span></a><span class="sd">        Args:</span>
</span><span id="Command.next_response-269"><a href="#Command.next_response-269"><span class="linenos">269</span></a>
</span><span id="Command.next_response-270"><a href="#Command.next_response-270"><span class="linenos">270</span></a><span class="sd">        Returns:</span>
</span><span id="Command.next_response-271"><a href="#Command.next_response-271"><span class="linenos">271</span></a><span class="sd">            None</span>
</span><span id="Command.next_response-272"><a href="#Command.next_response-272"><span class="linenos">272</span></a>
</span><span id="Command.next_response-273"><a href="#Command.next_response-273"><span class="linenos">273</span></a><span class="sd">        Raises:</span>
</span><span id="Command.next_response-274"><a href="#Command.next_response-274"><span class="linenos">274</span></a><span class="sd">            UOError</span>
</span><span id="Command.next_response-275"><a href="#Command.next_response-275"><span class="linenos">275</span></a>
</span><span id="Command.next_response-276"><a href="#Command.next_response-276"><span class="linenos">276</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Command.next_response-277"><a href="#Command.next_response-277"><span class="linenos">277</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">)</span>
</span><span id="Command.next_response-278"><a href="#Command.next_response-278"><span class="linenos">278</span></a>
</span><span id="Command.next_response-279"><a href="#Command.next_response-279"><span class="linenos">279</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Command.next_response-280"><a href="#Command.next_response-280"><span class="linenos">280</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">!=</span> <span class="n">EXEC_MORE_OUTPUT</span><span class="p">:</span>
</span><span id="Command.next_response-281"><a href="#Command.next_response-281"><span class="linenos">281</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_NOMORE</span><span class="p">)</span>
</span><span id="Command.next_response-282"><a href="#Command.next_response-282"><span class="linenos">282</span></a>
</span><span id="Command.next_response-283"><a href="#Command.next_response-283"><span class="linenos">283</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_response</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Command.next_response-284"><a href="#Command.next_response-284"><span class="linenos">284</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exec</span><span class="p">(</span><span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_EXECUTECONTINUE</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="Command.next_response-285"><a href="#Command.next_response-285"><span class="linenos">285</span></a>
</span><span id="Command.next_response-286"><a href="#Command.next_response-286"><span class="linenos">286</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_next_block</span>
</span><span id="Command.next_response-287"><a href="#Command.next_response-287"><span class="linenos">287</span></a>
</span><span id="Command.next_response-288"><a href="#Command.next_response-288"><span class="linenos">288</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">resp_code</span>
</span><span id="Command.next_response-289"><a href="#Command.next_response-289"><span class="linenos">289</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_fetch_all</span> <span class="ow">and</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">EXEC_MORE_OUTPUT</span><span class="p">:</span>
</span><span id="Command.next_response-290"><a href="#Command.next_response-290"><span class="linenos">290</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_all</span><span class="p">(</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="Command.next_response-291"><a href="#Command.next_response-291"><span class="linenos">291</span></a>
</span><span id="Command.next_response-292"><a href="#Command.next_response-292"><span class="linenos">292</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_response</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the next block of output from the server.</p>

<p>Args:</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                </section>
                <section id="DynArray">
                            <input id="DynArray-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DynArray</span><wbr>(<span class="base">uopy._mvdelimited.MvDelimited</span>):

                <label class="view-source-button" for="DynArray-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DynArray"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DynArray-15"><a href="#DynArray-15"><span class="linenos"> 15</span></a><span class="k">class</span> <span class="nc">DynArray</span><span class="p">(</span><span class="n">MvDelimited</span><span class="p">):</span>
</span><span id="DynArray-16"><a href="#DynArray-16"><span class="linenos"> 16</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;DynArray represents MV delimited data as nested lists and supports most common Python list methods.</span>
</span><span id="DynArray-17"><a href="#DynArray-17"><span class="linenos"> 17</span></a>
</span><span id="DynArray-18"><a href="#DynArray-18"><span class="linenos"> 18</span></a><span class="sd">    Specifically, a DynArray works with MV delimiters automatically and transparently. It can be used just like a Python</span>
</span><span id="DynArray-19"><a href="#DynArray-19"><span class="linenos"> 19</span></a><span class="sd">    list and should only be used in that manner. It is a best practice that applications do not use MV delimiters</span>
</span><span id="DynArray-20"><a href="#DynArray-20"><span class="linenos"> 20</span></a><span class="sd">    directly for internationalization reasons. Please remember that a DynArray can be passed directly to any UOPY method</span>
</span><span id="DynArray-21"><a href="#DynArray-21"><span class="linenos"> 21</span></a><span class="sd">    where MV delimited data is expected, such as file.write(), the application doesn&#39;t need to convert it first.</span>
</span><span id="DynArray-22"><a href="#DynArray-22"><span class="linenos"> 22</span></a>
</span><span id="DynArray-23"><a href="#DynArray-23"><span class="linenos"> 23</span></a><span class="sd">    Two convenience methods: make_list and make_nested_list are provided to convert a field itself into a list or nested</span>
</span><span id="DynArray-24"><a href="#DynArray-24"><span class="linenos"> 24</span></a><span class="sd">    list. They are useful if the original field is multivalued or multi-sub-valued, but may contain scalar values.</span>
</span><span id="DynArray-25"><a href="#DynArray-25"><span class="linenos"> 25</span></a><span class="sd">    Calling them first on a field will ensure that you can safely treat the field as a list or nested list.</span>
</span><span id="DynArray-26"><a href="#DynArray-26"><span class="linenos"> 26</span></a>
</span><span id="DynArray-27"><a href="#DynArray-27"><span class="linenos"> 27</span></a><span class="sd">    In addition, DynArray also supports two unique MV conversion functions: iconv and oconv. The details of these</span>
</span><span id="DynArray-28"><a href="#DynArray-28"><span class="linenos"> 28</span></a><span class="sd">    conversion functions are documented under each method. Because they call the remote server to do the conversion,</span>
</span><span id="DynArray-29"><a href="#DynArray-29"><span class="linenos"> 29</span></a><span class="sd">    it is strongly recommended that applications use File.read_named_fields() and File.write_named_fields() instead</span>
</span><span id="DynArray-30"><a href="#DynArray-30"><span class="linenos"> 30</span></a><span class="sd">    when reading data from or writing data to the server. They automatically perform the iconv and oconv on the</span>
</span><span id="DynArray-31"><a href="#DynArray-31"><span class="linenos"> 31</span></a><span class="sd">    specified fields on the server, and thus save a rpc call across the network.</span>
</span><span id="DynArray-32"><a href="#DynArray-32"><span class="linenos"> 32</span></a>
</span><span id="DynArray-33"><a href="#DynArray-33"><span class="linenos"> 33</span></a><span class="sd">    Two DynArray objects can perform the mathematical operations of + and += the same way in which a python list does.</span>
</span><span id="DynArray-34"><a href="#DynArray-34"><span class="linenos"> 34</span></a><span class="sd">    However, if one of the two objects are not the DynArray type, it will throw the TypeError.</span>
</span><span id="DynArray-35"><a href="#DynArray-35"><span class="linenos"> 35</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="DynArray-36"><a href="#DynArray-36"><span class="linenos"> 36</span></a>
</span><span id="DynArray-37"><a href="#DynArray-37"><span class="linenos"> 37</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="DynArray-38"><a href="#DynArray-38"><span class="linenos"> 38</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a DynArray object.</span>
</span><span id="DynArray-39"><a href="#DynArray-39"><span class="linenos"> 39</span></a>
</span><span id="DynArray-40"><a href="#DynArray-40"><span class="linenos"> 40</span></a><span class="sd">        Args:</span>
</span><span id="DynArray-41"><a href="#DynArray-41"><span class="linenos"> 41</span></a><span class="sd">            obj (any, optional): can be a Python list, a string, a byte object, or another DynArray.</span>
</span><span id="DynArray-42"><a href="#DynArray-42"><span class="linenos"> 42</span></a><span class="sd">            session (Session, optional): the Session object that the DynArray object is bound to.</span>
</span><span id="DynArray-43"><a href="#DynArray-43"><span class="linenos"> 43</span></a><span class="sd">                If omitted, the last opened Session in the current thread will be used.</span>
</span><span id="DynArray-44"><a href="#DynArray-44"><span class="linenos"> 44</span></a>
</span><span id="DynArray-45"><a href="#DynArray-45"><span class="linenos"> 45</span></a><span class="sd">        Raises:</span>
</span><span id="DynArray-46"><a href="#DynArray-46"><span class="linenos"> 46</span></a><span class="sd">            UOError</span>
</span><span id="DynArray-47"><a href="#DynArray-47"><span class="linenos"> 47</span></a>
</span><span id="DynArray-48"><a href="#DynArray-48"><span class="linenos"> 48</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DynArray-49"><a href="#DynArray-49"><span class="linenos"> 49</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">session</span><span class="p">)</span>
</span><span id="DynArray-50"><a href="#DynArray-50"><span class="linenos"> 50</span></a>
</span><span id="DynArray-51"><a href="#DynArray-51"><span class="linenos"> 51</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DynArray-52"><a href="#DynArray-52"><span class="linenos"> 52</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_build_list</span><span class="p">()</span>
</span><span id="DynArray-53"><a href="#DynArray-53"><span class="linenos"> 53</span></a>        <span class="n">format_string</span> <span class="o">=</span> <span class="s2">&quot;&lt;</span><span class="si">{}</span><span class="s2"> object </span><span class="si">{}</span><span class="s2"> at 0x</span><span class="si">{:016X}</span><span class="s2">&gt;&quot;</span>
</span><span id="DynArray-54"><a href="#DynArray-54"><span class="linenos"> 54</span></a>        <span class="n">details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list</span>
</span><span id="DynArray-55"><a href="#DynArray-55"><span class="linenos"> 55</span></a>        <span class="k">return</span> <span class="n">format_string</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
</span><span id="DynArray-56"><a href="#DynArray-56"><span class="linenos"> 56</span></a>            <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">DynArray</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span> <span class="n">DynArray</span><span class="o">.</span><span class="vm">__qualname__</span><span class="p">]),</span> <span class="n">details</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="DynArray-57"><a href="#DynArray-57"><span class="linenos"> 57</span></a>        <span class="p">)</span>
</span><span id="DynArray-58"><a href="#DynArray-58"><span class="linenos"> 58</span></a>
</span><span id="DynArray-59"><a href="#DynArray-59"><span class="linenos"> 59</span></a>    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="DynArray-60"><a href="#DynArray-60"><span class="linenos"> 60</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">DynArray</span><span class="p">):</span>
</span><span id="DynArray-61"><a href="#DynArray-61"><span class="linenos"> 61</span></a>            <span class="k">return</span> <span class="n">DynArray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_list</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">_list</span><span class="p">)</span>
</span><span id="DynArray-62"><a href="#DynArray-62"><span class="linenos"> 62</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DynArray-63"><a href="#DynArray-63"><span class="linenos"> 63</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;can only concatenate DynArray to DynArray&quot;</span><span class="p">)</span>
</span><span id="DynArray-64"><a href="#DynArray-64"><span class="linenos"> 64</span></a>
</span><span id="DynArray-65"><a href="#DynArray-65"><span class="linenos"> 65</span></a>    <span class="k">def</span> <span class="fm">__iadd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="DynArray-66"><a href="#DynArray-66"><span class="linenos"> 66</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">DynArray</span><span class="p">):</span>
</span><span id="DynArray-67"><a href="#DynArray-67"><span class="linenos"> 67</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_list</span> <span class="o">+=</span> <span class="n">other</span><span class="o">.</span><span class="n">_list</span>
</span><span id="DynArray-68"><a href="#DynArray-68"><span class="linenos"> 68</span></a>            <span class="k">return</span> <span class="bp">self</span>
</span><span id="DynArray-69"><a href="#DynArray-69"><span class="linenos"> 69</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DynArray-70"><a href="#DynArray-70"><span class="linenos"> 70</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;can only concatenate DynArray to DynArray&quot;</span><span class="p">)</span>
</span><span id="DynArray-71"><a href="#DynArray-71"><span class="linenos"> 71</span></a>
</span><span id="DynArray-72"><a href="#DynArray-72"><span class="linenos"> 72</span></a>    <span class="k">def</span> <span class="nf">make_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
</span><span id="DynArray-73"><a href="#DynArray-73"><span class="linenos"> 73</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the list item is a list itself - if not, make it as such.</span>
</span><span id="DynArray-74"><a href="#DynArray-74"><span class="linenos"> 74</span></a>
</span><span id="DynArray-75"><a href="#DynArray-75"><span class="linenos"> 75</span></a><span class="sd">        Args:</span>
</span><span id="DynArray-76"><a href="#DynArray-76"><span class="linenos"> 76</span></a><span class="sd">            index (int): the index of the list item.</span>
</span><span id="DynArray-77"><a href="#DynArray-77"><span class="linenos"> 77</span></a>
</span><span id="DynArray-78"><a href="#DynArray-78"><span class="linenos"> 78</span></a><span class="sd">        Returns:</span>
</span><span id="DynArray-79"><a href="#DynArray-79"><span class="linenos"> 79</span></a><span class="sd">            None</span>
</span><span id="DynArray-80"><a href="#DynArray-80"><span class="linenos"> 80</span></a>
</span><span id="DynArray-81"><a href="#DynArray-81"><span class="linenos"> 81</span></a><span class="sd">        Examples:</span>
</span><span id="DynArray-82"><a href="#DynArray-82"><span class="linenos"> 82</span></a><span class="sd">            &gt;&gt;&gt; d = uopy.DynArray([1, 2])</span>
</span><span id="DynArray-83"><a href="#DynArray-83"><span class="linenos"> 83</span></a><span class="sd">            &gt;&gt;&gt; d.make_list(1)</span>
</span><span id="DynArray-84"><a href="#DynArray-84"><span class="linenos"> 84</span></a><span class="sd">            &gt;&gt;&gt; d[1].append(3)</span>
</span><span id="DynArray-85"><a href="#DynArray-85"><span class="linenos"> 85</span></a><span class="sd">            &gt;&gt;&gt; print(d.list)</span>
</span><span id="DynArray-86"><a href="#DynArray-86"><span class="linenos"> 86</span></a><span class="sd">            [1, [2, 3]]</span>
</span><span id="DynArray-87"><a href="#DynArray-87"><span class="linenos"> 87</span></a>
</span><span id="DynArray-88"><a href="#DynArray-88"><span class="linenos"> 88</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DynArray-89"><a href="#DynArray-89"><span class="linenos"> 89</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_build_list</span><span class="p">()</span>
</span><span id="DynArray-90"><a href="#DynArray-90"><span class="linenos"> 90</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_list</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="DynArray-91"><a href="#DynArray-91"><span class="linenos"> 91</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_list</span><span class="p">[</span><span class="n">index</span><span class="p">]]</span>
</span><span id="DynArray-92"><a href="#DynArray-92"><span class="linenos"> 92</span></a>
</span><span id="DynArray-93"><a href="#DynArray-93"><span class="linenos"> 93</span></a>    <span class="k">def</span> <span class="nf">make_nested_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
</span><span id="DynArray-94"><a href="#DynArray-94"><span class="linenos"> 94</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the list item is a nested list itself - if not, make it as such.</span>
</span><span id="DynArray-95"><a href="#DynArray-95"><span class="linenos"> 95</span></a>
</span><span id="DynArray-96"><a href="#DynArray-96"><span class="linenos"> 96</span></a><span class="sd">        Args:</span>
</span><span id="DynArray-97"><a href="#DynArray-97"><span class="linenos"> 97</span></a><span class="sd">            index (int): the index of the list item.</span>
</span><span id="DynArray-98"><a href="#DynArray-98"><span class="linenos"> 98</span></a>
</span><span id="DynArray-99"><a href="#DynArray-99"><span class="linenos"> 99</span></a><span class="sd">        Returns:</span>
</span><span id="DynArray-100"><a href="#DynArray-100"><span class="linenos">100</span></a><span class="sd">            None</span>
</span><span id="DynArray-101"><a href="#DynArray-101"><span class="linenos">101</span></a>
</span><span id="DynArray-102"><a href="#DynArray-102"><span class="linenos">102</span></a><span class="sd">        Examples:</span>
</span><span id="DynArray-103"><a href="#DynArray-103"><span class="linenos">103</span></a><span class="sd">            &gt;&gt;&gt; d = uopy.DynArray([1, 2])</span>
</span><span id="DynArray-104"><a href="#DynArray-104"><span class="linenos">104</span></a><span class="sd">            &gt;&gt;&gt; d.make_nested_list(1)</span>
</span><span id="DynArray-105"><a href="#DynArray-105"><span class="linenos">105</span></a><span class="sd">            &gt;&gt;&gt; d[1][0].append(3)</span>
</span><span id="DynArray-106"><a href="#DynArray-106"><span class="linenos">106</span></a><span class="sd">            &gt;&gt;&gt; print(d.list)</span>
</span><span id="DynArray-107"><a href="#DynArray-107"><span class="linenos">107</span></a><span class="sd">            [1, [[2, 3]]]</span>
</span><span id="DynArray-108"><a href="#DynArray-108"><span class="linenos">108</span></a>
</span><span id="DynArray-109"><a href="#DynArray-109"><span class="linenos">109</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DynArray-110"><a href="#DynArray-110"><span class="linenos">110</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_build_list</span><span class="p">()</span>
</span><span id="DynArray-111"><a href="#DynArray-111"><span class="linenos">111</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_list</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="DynArray-112"><a href="#DynArray-112"><span class="linenos">112</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">_list</span><span class="p">[</span><span class="n">index</span><span class="p">]]]</span>
</span><span id="DynArray-113"><a href="#DynArray-113"><span class="linenos">113</span></a>            <span class="k">return</span>
</span><span id="DynArray-114"><a href="#DynArray-114"><span class="linenos">114</span></a>
</span><span id="DynArray-115"><a href="#DynArray-115"><span class="linenos">115</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_list</span><span class="p">[</span><span class="n">index</span><span class="p">]):</span>
</span><span id="DynArray-116"><a href="#DynArray-116"><span class="linenos">116</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="DynArray-117"><a href="#DynArray-117"><span class="linenos">117</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_list</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="p">]</span>
</span><span id="DynArray-118"><a href="#DynArray-118"><span class="linenos">118</span></a>
</span><span id="DynArray-119"><a href="#DynArray-119"><span class="linenos">119</span></a>    <span class="k">def</span> <span class="nf">iconv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">conversion_code</span><span class="p">):</span>
</span><span id="DynArray-120"><a href="#DynArray-120"><span class="linenos">120</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the internal storage value of the DynArray based on the conversion code.</span>
</span><span id="DynArray-121"><a href="#DynArray-121"><span class="linenos">121</span></a>
</span><span id="DynArray-122"><a href="#DynArray-122"><span class="linenos">122</span></a><span class="sd">        Args:</span>
</span><span id="DynArray-123"><a href="#DynArray-123"><span class="linenos">123</span></a><span class="sd">            conversion_code (str):  the MV conversion code.</span>
</span><span id="DynArray-124"><a href="#DynArray-124"><span class="linenos">124</span></a>
</span><span id="DynArray-125"><a href="#DynArray-125"><span class="linenos">125</span></a><span class="sd">        Returns:</span>
</span><span id="DynArray-126"><a href="#DynArray-126"><span class="linenos">126</span></a><span class="sd">            DynArray: the internal storage value.</span>
</span><span id="DynArray-127"><a href="#DynArray-127"><span class="linenos">127</span></a>
</span><span id="DynArray-128"><a href="#DynArray-128"><span class="linenos">128</span></a><span class="sd">        Raises:</span>
</span><span id="DynArray-129"><a href="#DynArray-129"><span class="linenos">129</span></a><span class="sd">            UOError</span>
</span><span id="DynArray-130"><a href="#DynArray-130"><span class="linenos">130</span></a>
</span><span id="DynArray-131"><a href="#DynArray-131"><span class="linenos">131</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DynArray-132"><a href="#DynArray-132"><span class="linenos">132</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_server_conv</span><span class="p">(</span><span class="n">conversion_code</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_ICONV</span><span class="p">)</span>
</span><span id="DynArray-133"><a href="#DynArray-133"><span class="linenos">133</span></a>
</span><span id="DynArray-134"><a href="#DynArray-134"><span class="linenos">134</span></a>    <span class="k">def</span> <span class="nf">oconv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">conversion_code</span><span class="p">):</span>
</span><span id="DynArray-135"><a href="#DynArray-135"><span class="linenos">135</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the output format of the DynArray based on the conversion code.</span>
</span><span id="DynArray-136"><a href="#DynArray-136"><span class="linenos">136</span></a>
</span><span id="DynArray-137"><a href="#DynArray-137"><span class="linenos">137</span></a><span class="sd">        Args:</span>
</span><span id="DynArray-138"><a href="#DynArray-138"><span class="linenos">138</span></a><span class="sd">            conversion_code (str): the MV conversion code.</span>
</span><span id="DynArray-139"><a href="#DynArray-139"><span class="linenos">139</span></a>
</span><span id="DynArray-140"><a href="#DynArray-140"><span class="linenos">140</span></a><span class="sd">        Returns:</span>
</span><span id="DynArray-141"><a href="#DynArray-141"><span class="linenos">141</span></a><span class="sd">            DynArray: the output format.</span>
</span><span id="DynArray-142"><a href="#DynArray-142"><span class="linenos">142</span></a>
</span><span id="DynArray-143"><a href="#DynArray-143"><span class="linenos">143</span></a><span class="sd">        Raises:</span>
</span><span id="DynArray-144"><a href="#DynArray-144"><span class="linenos">144</span></a><span class="sd">            UOError</span>
</span><span id="DynArray-145"><a href="#DynArray-145"><span class="linenos">145</span></a>
</span><span id="DynArray-146"><a href="#DynArray-146"><span class="linenos">146</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DynArray-147"><a href="#DynArray-147"><span class="linenos">147</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_server_conv</span><span class="p">(</span><span class="n">conversion_code</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_OCONV</span><span class="p">)</span>
</span><span id="DynArray-148"><a href="#DynArray-148"><span class="linenos">148</span></a>
</span><span id="DynArray-149"><a href="#DynArray-149"><span class="linenos">149</span></a>    <span class="k">def</span> <span class="nf">format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format_code</span><span class="p">):</span>
</span><span id="DynArray-150"><a href="#DynArray-150"><span class="linenos">150</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the formatted value of the DynArray based on the format code.</span>
</span><span id="DynArray-151"><a href="#DynArray-151"><span class="linenos">151</span></a>
</span><span id="DynArray-152"><a href="#DynArray-152"><span class="linenos">152</span></a><span class="sd">        Args:</span>
</span><span id="DynArray-153"><a href="#DynArray-153"><span class="linenos">153</span></a><span class="sd">            format_code (str): the format code.</span>
</span><span id="DynArray-154"><a href="#DynArray-154"><span class="linenos">154</span></a>
</span><span id="DynArray-155"><a href="#DynArray-155"><span class="linenos">155</span></a><span class="sd">        Returns:</span>
</span><span id="DynArray-156"><a href="#DynArray-156"><span class="linenos">156</span></a><span class="sd">            DynArray: the formatted value.</span>
</span><span id="DynArray-157"><a href="#DynArray-157"><span class="linenos">157</span></a>
</span><span id="DynArray-158"><a href="#DynArray-158"><span class="linenos">158</span></a><span class="sd">        Raises:</span>
</span><span id="DynArray-159"><a href="#DynArray-159"><span class="linenos">159</span></a><span class="sd">            UOError</span>
</span><span id="DynArray-160"><a href="#DynArray-160"><span class="linenos">160</span></a>
</span><span id="DynArray-161"><a href="#DynArray-161"><span class="linenos">161</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DynArray-162"><a href="#DynArray-162"><span class="linenos">162</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_server_conv</span><span class="p">(</span><span class="n">format_code</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_FMT</span><span class="p">)</span>
</span><span id="DynArray-163"><a href="#DynArray-163"><span class="linenos">163</span></a>
</span><span id="DynArray-164"><a href="#DynArray-164"><span class="linenos">164</span></a>    <span class="k">def</span> <span class="nf">_server_conv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">conversion_code</span><span class="p">,</span> <span class="n">func_code</span><span class="p">):</span>
</span><span id="DynArray-165"><a href="#DynArray-165"><span class="linenos">165</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">conversion_code</span><span class="p">,</span> <span class="n">func_code</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__bytes__</span><span class="p">())</span>
</span><span id="DynArray-166"><a href="#DynArray-166"><span class="linenos">166</span></a>
</span><span id="DynArray-167"><a href="#DynArray-167"><span class="linenos">167</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="DynArray-168"><a href="#DynArray-168"><span class="linenos">168</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="DynArray-169"><a href="#DynArray-169"><span class="linenos">169</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="DynArray-170"><a href="#DynArray-170"><span class="linenos">170</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">func_code</span><span class="p">)</span>
</span><span id="DynArray-171"><a href="#DynArray-171"><span class="linenos">171</span></a>            <span class="k">if</span> <span class="n">func_code</span> <span class="o">==</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_FMT</span><span class="p">:</span>
</span><span id="DynArray-172"><a href="#DynArray-172"><span class="linenos">172</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">conversion_code</span><span class="p">))</span>
</span><span id="DynArray-173"><a href="#DynArray-173"><span class="linenos">173</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__bytes__</span><span class="p">())</span>
</span><span id="DynArray-174"><a href="#DynArray-174"><span class="linenos">174</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DynArray-175"><a href="#DynArray-175"><span class="linenos">175</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__bytes__</span><span class="p">())</span>
</span><span id="DynArray-176"><a href="#DynArray-176"><span class="linenos">176</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">conversion_code</span><span class="p">))</span>
</span><span id="DynArray-177"><a href="#DynArray-177"><span class="linenos">177</span></a>
</span><span id="DynArray-178"><a href="#DynArray-178"><span class="linenos">178</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="DynArray-179"><a href="#DynArray-179"><span class="linenos">179</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DynArray-180"><a href="#DynArray-180"><span class="linenos">180</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="DynArray-181"><a href="#DynArray-181"><span class="linenos">181</span></a>
</span><span id="DynArray-182"><a href="#DynArray-182"><span class="linenos">182</span></a>        <span class="n">status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="DynArray-183"><a href="#DynArray-183"><span class="linenos">183</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">status</span><span class="p">:</span>
</span><span id="DynArray-184"><a href="#DynArray-184"><span class="linenos">184</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="DynArray-185"><a href="#DynArray-185"><span class="linenos">185</span></a>            <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</span><span id="DynArray-186"><a href="#DynArray-186"><span class="linenos">186</span></a>            <span class="k">return</span> <span class="n">result</span>
</span><span id="DynArray-187"><a href="#DynArray-187"><span class="linenos">187</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DynArray-188"><a href="#DynArray-188"><span class="linenos">188</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_BAD_CONVERSION_DATA</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>DynArray represents MV delimited data as nested lists and supports most common Python list methods.</p>

<p>Specifically, a DynArray works with MV delimiters automatically and transparently. It can be used just like a Python
list and should only be used in that manner. It is a best practice that applications do not use MV delimiters
directly for internationalization reasons. Please remember that a DynArray can be passed directly to any UOPY method
where MV delimited data is expected, such as file.write(), the application doesn't need to convert it first.</p>

<p>Two convenience methods: make_list and make_nested_list are provided to convert a field itself into a list or nested
list. They are useful if the original field is multivalued or multi-sub-valued, but may contain scalar values.
Calling them first on a field will ensure that you can safely treat the field as a list or nested list.</p>

<p>In addition, DynArray also supports two unique MV conversion functions: iconv and oconv. The details of these
conversion functions are documented under each method. Because they call the remote server to do the conversion,
it is strongly recommended that applications use <a href="#File.read_named_fields">File.read_named_fields()</a> and <a href="#File.write_named_fields">File.write_named_fields()</a> instead
when reading data from or writing data to the server. They automatically perform the iconv and oconv on the
specified fields on the server, and thus save a rpc call across the network.</p>

<p>Two DynArray objects can perform the mathematical operations of + and += the same way in which a python list does.
However, if one of the two objects are not the DynArray type, it will throw the TypeError.</p>
</div>


                            <div id="DynArray.__init__" class="classattr">
                                        <input id="DynArray.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">DynArray</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">obj</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">session</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="DynArray.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DynArray.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DynArray.__init__-37"><a href="#DynArray.__init__-37"><span class="linenos">37</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="DynArray.__init__-38"><a href="#DynArray.__init__-38"><span class="linenos">38</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a DynArray object.</span>
</span><span id="DynArray.__init__-39"><a href="#DynArray.__init__-39"><span class="linenos">39</span></a>
</span><span id="DynArray.__init__-40"><a href="#DynArray.__init__-40"><span class="linenos">40</span></a><span class="sd">        Args:</span>
</span><span id="DynArray.__init__-41"><a href="#DynArray.__init__-41"><span class="linenos">41</span></a><span class="sd">            obj (any, optional): can be a Python list, a string, a byte object, or another DynArray.</span>
</span><span id="DynArray.__init__-42"><a href="#DynArray.__init__-42"><span class="linenos">42</span></a><span class="sd">            session (Session, optional): the Session object that the DynArray object is bound to.</span>
</span><span id="DynArray.__init__-43"><a href="#DynArray.__init__-43"><span class="linenos">43</span></a><span class="sd">                If omitted, the last opened Session in the current thread will be used.</span>
</span><span id="DynArray.__init__-44"><a href="#DynArray.__init__-44"><span class="linenos">44</span></a>
</span><span id="DynArray.__init__-45"><a href="#DynArray.__init__-45"><span class="linenos">45</span></a><span class="sd">        Raises:</span>
</span><span id="DynArray.__init__-46"><a href="#DynArray.__init__-46"><span class="linenos">46</span></a><span class="sd">            UOError</span>
</span><span id="DynArray.__init__-47"><a href="#DynArray.__init__-47"><span class="linenos">47</span></a>
</span><span id="DynArray.__init__-48"><a href="#DynArray.__init__-48"><span class="linenos">48</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DynArray.__init__-49"><a href="#DynArray.__init__-49"><span class="linenos">49</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">session</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Initialize a DynArray object.</p>

<p>Args:
    obj (any, optional): can be a Python list, a string, a byte object, or another DynArray.
    session (Session, optional): the Session object that the DynArray object is bound to.
        If omitted, the last opened Session in the current thread will be used.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="DynArray.make_list" class="classattr">
                                        <input id="DynArray.make_list-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">make_list</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">index</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DynArray.make_list-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DynArray.make_list"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DynArray.make_list-72"><a href="#DynArray.make_list-72"><span class="linenos">72</span></a>    <span class="k">def</span> <span class="nf">make_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
</span><span id="DynArray.make_list-73"><a href="#DynArray.make_list-73"><span class="linenos">73</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the list item is a list itself - if not, make it as such.</span>
</span><span id="DynArray.make_list-74"><a href="#DynArray.make_list-74"><span class="linenos">74</span></a>
</span><span id="DynArray.make_list-75"><a href="#DynArray.make_list-75"><span class="linenos">75</span></a><span class="sd">        Args:</span>
</span><span id="DynArray.make_list-76"><a href="#DynArray.make_list-76"><span class="linenos">76</span></a><span class="sd">            index (int): the index of the list item.</span>
</span><span id="DynArray.make_list-77"><a href="#DynArray.make_list-77"><span class="linenos">77</span></a>
</span><span id="DynArray.make_list-78"><a href="#DynArray.make_list-78"><span class="linenos">78</span></a><span class="sd">        Returns:</span>
</span><span id="DynArray.make_list-79"><a href="#DynArray.make_list-79"><span class="linenos">79</span></a><span class="sd">            None</span>
</span><span id="DynArray.make_list-80"><a href="#DynArray.make_list-80"><span class="linenos">80</span></a>
</span><span id="DynArray.make_list-81"><a href="#DynArray.make_list-81"><span class="linenos">81</span></a><span class="sd">        Examples:</span>
</span><span id="DynArray.make_list-82"><a href="#DynArray.make_list-82"><span class="linenos">82</span></a><span class="sd">            &gt;&gt;&gt; d = uopy.DynArray([1, 2])</span>
</span><span id="DynArray.make_list-83"><a href="#DynArray.make_list-83"><span class="linenos">83</span></a><span class="sd">            &gt;&gt;&gt; d.make_list(1)</span>
</span><span id="DynArray.make_list-84"><a href="#DynArray.make_list-84"><span class="linenos">84</span></a><span class="sd">            &gt;&gt;&gt; d[1].append(3)</span>
</span><span id="DynArray.make_list-85"><a href="#DynArray.make_list-85"><span class="linenos">85</span></a><span class="sd">            &gt;&gt;&gt; print(d.list)</span>
</span><span id="DynArray.make_list-86"><a href="#DynArray.make_list-86"><span class="linenos">86</span></a><span class="sd">            [1, [2, 3]]</span>
</span><span id="DynArray.make_list-87"><a href="#DynArray.make_list-87"><span class="linenos">87</span></a>
</span><span id="DynArray.make_list-88"><a href="#DynArray.make_list-88"><span class="linenos">88</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DynArray.make_list-89"><a href="#DynArray.make_list-89"><span class="linenos">89</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_build_list</span><span class="p">()</span>
</span><span id="DynArray.make_list-90"><a href="#DynArray.make_list-90"><span class="linenos">90</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_list</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="DynArray.make_list-91"><a href="#DynArray.make_list-91"><span class="linenos">91</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_list</span><span class="p">[</span><span class="n">index</span><span class="p">]]</span>
</span></pre></div>


            <div class="docstring"><p>Check if the list item is a list itself - if not, make it as such.</p>

<p>Args:
    index (int): the index of the list item.</p>

<p>Returns:
    None</p>

<p>Examples:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>d = <a href="#DynArray">uopy.DynArray</a>([1, 2])
      d.make_list(1)
      d[1].append(3)
      print(d.list)
          [1, [2, 3]]</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            </div>
                            <div id="DynArray.make_nested_list" class="classattr">
                                        <input id="DynArray.make_nested_list-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">make_nested_list</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">index</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DynArray.make_nested_list-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DynArray.make_nested_list"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DynArray.make_nested_list-93"><a href="#DynArray.make_nested_list-93"><span class="linenos"> 93</span></a>    <span class="k">def</span> <span class="nf">make_nested_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
</span><span id="DynArray.make_nested_list-94"><a href="#DynArray.make_nested_list-94"><span class="linenos"> 94</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the list item is a nested list itself - if not, make it as such.</span>
</span><span id="DynArray.make_nested_list-95"><a href="#DynArray.make_nested_list-95"><span class="linenos"> 95</span></a>
</span><span id="DynArray.make_nested_list-96"><a href="#DynArray.make_nested_list-96"><span class="linenos"> 96</span></a><span class="sd">        Args:</span>
</span><span id="DynArray.make_nested_list-97"><a href="#DynArray.make_nested_list-97"><span class="linenos"> 97</span></a><span class="sd">            index (int): the index of the list item.</span>
</span><span id="DynArray.make_nested_list-98"><a href="#DynArray.make_nested_list-98"><span class="linenos"> 98</span></a>
</span><span id="DynArray.make_nested_list-99"><a href="#DynArray.make_nested_list-99"><span class="linenos"> 99</span></a><span class="sd">        Returns:</span>
</span><span id="DynArray.make_nested_list-100"><a href="#DynArray.make_nested_list-100"><span class="linenos">100</span></a><span class="sd">            None</span>
</span><span id="DynArray.make_nested_list-101"><a href="#DynArray.make_nested_list-101"><span class="linenos">101</span></a>
</span><span id="DynArray.make_nested_list-102"><a href="#DynArray.make_nested_list-102"><span class="linenos">102</span></a><span class="sd">        Examples:</span>
</span><span id="DynArray.make_nested_list-103"><a href="#DynArray.make_nested_list-103"><span class="linenos">103</span></a><span class="sd">            &gt;&gt;&gt; d = uopy.DynArray([1, 2])</span>
</span><span id="DynArray.make_nested_list-104"><a href="#DynArray.make_nested_list-104"><span class="linenos">104</span></a><span class="sd">            &gt;&gt;&gt; d.make_nested_list(1)</span>
</span><span id="DynArray.make_nested_list-105"><a href="#DynArray.make_nested_list-105"><span class="linenos">105</span></a><span class="sd">            &gt;&gt;&gt; d[1][0].append(3)</span>
</span><span id="DynArray.make_nested_list-106"><a href="#DynArray.make_nested_list-106"><span class="linenos">106</span></a><span class="sd">            &gt;&gt;&gt; print(d.list)</span>
</span><span id="DynArray.make_nested_list-107"><a href="#DynArray.make_nested_list-107"><span class="linenos">107</span></a><span class="sd">            [1, [[2, 3]]]</span>
</span><span id="DynArray.make_nested_list-108"><a href="#DynArray.make_nested_list-108"><span class="linenos">108</span></a>
</span><span id="DynArray.make_nested_list-109"><a href="#DynArray.make_nested_list-109"><span class="linenos">109</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DynArray.make_nested_list-110"><a href="#DynArray.make_nested_list-110"><span class="linenos">110</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_build_list</span><span class="p">()</span>
</span><span id="DynArray.make_nested_list-111"><a href="#DynArray.make_nested_list-111"><span class="linenos">111</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_list</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="DynArray.make_nested_list-112"><a href="#DynArray.make_nested_list-112"><span class="linenos">112</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">_list</span><span class="p">[</span><span class="n">index</span><span class="p">]]]</span>
</span><span id="DynArray.make_nested_list-113"><a href="#DynArray.make_nested_list-113"><span class="linenos">113</span></a>            <span class="k">return</span>
</span><span id="DynArray.make_nested_list-114"><a href="#DynArray.make_nested_list-114"><span class="linenos">114</span></a>
</span><span id="DynArray.make_nested_list-115"><a href="#DynArray.make_nested_list-115"><span class="linenos">115</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_list</span><span class="p">[</span><span class="n">index</span><span class="p">]):</span>
</span><span id="DynArray.make_nested_list-116"><a href="#DynArray.make_nested_list-116"><span class="linenos">116</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="DynArray.make_nested_list-117"><a href="#DynArray.make_nested_list-117"><span class="linenos">117</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_list</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Check if the list item is a nested list itself - if not, make it as such.</p>

<p>Args:
    index (int): the index of the list item.</p>

<p>Returns:
    None</p>

<p>Examples:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>d = <a href="#DynArray">uopy.DynArray</a>([1, 2])
      d.make_nested_list(1)
      d[1][0].append(3)
      print(d.list)
          [1, [[2, 3]]]</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            </div>
                            <div id="DynArray.iconv" class="classattr">
                                        <input id="DynArray.iconv-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">iconv</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">conversion_code</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DynArray.iconv-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DynArray.iconv"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DynArray.iconv-119"><a href="#DynArray.iconv-119"><span class="linenos">119</span></a>    <span class="k">def</span> <span class="nf">iconv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">conversion_code</span><span class="p">):</span>
</span><span id="DynArray.iconv-120"><a href="#DynArray.iconv-120"><span class="linenos">120</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the internal storage value of the DynArray based on the conversion code.</span>
</span><span id="DynArray.iconv-121"><a href="#DynArray.iconv-121"><span class="linenos">121</span></a>
</span><span id="DynArray.iconv-122"><a href="#DynArray.iconv-122"><span class="linenos">122</span></a><span class="sd">        Args:</span>
</span><span id="DynArray.iconv-123"><a href="#DynArray.iconv-123"><span class="linenos">123</span></a><span class="sd">            conversion_code (str):  the MV conversion code.</span>
</span><span id="DynArray.iconv-124"><a href="#DynArray.iconv-124"><span class="linenos">124</span></a>
</span><span id="DynArray.iconv-125"><a href="#DynArray.iconv-125"><span class="linenos">125</span></a><span class="sd">        Returns:</span>
</span><span id="DynArray.iconv-126"><a href="#DynArray.iconv-126"><span class="linenos">126</span></a><span class="sd">            DynArray: the internal storage value.</span>
</span><span id="DynArray.iconv-127"><a href="#DynArray.iconv-127"><span class="linenos">127</span></a>
</span><span id="DynArray.iconv-128"><a href="#DynArray.iconv-128"><span class="linenos">128</span></a><span class="sd">        Raises:</span>
</span><span id="DynArray.iconv-129"><a href="#DynArray.iconv-129"><span class="linenos">129</span></a><span class="sd">            UOError</span>
</span><span id="DynArray.iconv-130"><a href="#DynArray.iconv-130"><span class="linenos">130</span></a>
</span><span id="DynArray.iconv-131"><a href="#DynArray.iconv-131"><span class="linenos">131</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DynArray.iconv-132"><a href="#DynArray.iconv-132"><span class="linenos">132</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_server_conv</span><span class="p">(</span><span class="n">conversion_code</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_ICONV</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return the internal storage value of the DynArray based on the conversion code.</p>

<p>Args:
    conversion_code (str):  the MV conversion code.</p>

<p>Returns:
    DynArray: the internal storage value.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="DynArray.oconv" class="classattr">
                                        <input id="DynArray.oconv-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">oconv</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">conversion_code</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DynArray.oconv-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DynArray.oconv"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DynArray.oconv-134"><a href="#DynArray.oconv-134"><span class="linenos">134</span></a>    <span class="k">def</span> <span class="nf">oconv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">conversion_code</span><span class="p">):</span>
</span><span id="DynArray.oconv-135"><a href="#DynArray.oconv-135"><span class="linenos">135</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the output format of the DynArray based on the conversion code.</span>
</span><span id="DynArray.oconv-136"><a href="#DynArray.oconv-136"><span class="linenos">136</span></a>
</span><span id="DynArray.oconv-137"><a href="#DynArray.oconv-137"><span class="linenos">137</span></a><span class="sd">        Args:</span>
</span><span id="DynArray.oconv-138"><a href="#DynArray.oconv-138"><span class="linenos">138</span></a><span class="sd">            conversion_code (str): the MV conversion code.</span>
</span><span id="DynArray.oconv-139"><a href="#DynArray.oconv-139"><span class="linenos">139</span></a>
</span><span id="DynArray.oconv-140"><a href="#DynArray.oconv-140"><span class="linenos">140</span></a><span class="sd">        Returns:</span>
</span><span id="DynArray.oconv-141"><a href="#DynArray.oconv-141"><span class="linenos">141</span></a><span class="sd">            DynArray: the output format.</span>
</span><span id="DynArray.oconv-142"><a href="#DynArray.oconv-142"><span class="linenos">142</span></a>
</span><span id="DynArray.oconv-143"><a href="#DynArray.oconv-143"><span class="linenos">143</span></a><span class="sd">        Raises:</span>
</span><span id="DynArray.oconv-144"><a href="#DynArray.oconv-144"><span class="linenos">144</span></a><span class="sd">            UOError</span>
</span><span id="DynArray.oconv-145"><a href="#DynArray.oconv-145"><span class="linenos">145</span></a>
</span><span id="DynArray.oconv-146"><a href="#DynArray.oconv-146"><span class="linenos">146</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DynArray.oconv-147"><a href="#DynArray.oconv-147"><span class="linenos">147</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_server_conv</span><span class="p">(</span><span class="n">conversion_code</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_OCONV</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return the output format of the DynArray based on the conversion code.</p>

<p>Args:
    conversion_code (str): the MV conversion code.</p>

<p>Returns:
    DynArray: the output format.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="DynArray.format" class="classattr">
                                        <input id="DynArray.format-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">format</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">format_code</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DynArray.format-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DynArray.format"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DynArray.format-149"><a href="#DynArray.format-149"><span class="linenos">149</span></a>    <span class="k">def</span> <span class="nf">format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format_code</span><span class="p">):</span>
</span><span id="DynArray.format-150"><a href="#DynArray.format-150"><span class="linenos">150</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the formatted value of the DynArray based on the format code.</span>
</span><span id="DynArray.format-151"><a href="#DynArray.format-151"><span class="linenos">151</span></a>
</span><span id="DynArray.format-152"><a href="#DynArray.format-152"><span class="linenos">152</span></a><span class="sd">        Args:</span>
</span><span id="DynArray.format-153"><a href="#DynArray.format-153"><span class="linenos">153</span></a><span class="sd">            format_code (str): the format code.</span>
</span><span id="DynArray.format-154"><a href="#DynArray.format-154"><span class="linenos">154</span></a>
</span><span id="DynArray.format-155"><a href="#DynArray.format-155"><span class="linenos">155</span></a><span class="sd">        Returns:</span>
</span><span id="DynArray.format-156"><a href="#DynArray.format-156"><span class="linenos">156</span></a><span class="sd">            DynArray: the formatted value.</span>
</span><span id="DynArray.format-157"><a href="#DynArray.format-157"><span class="linenos">157</span></a>
</span><span id="DynArray.format-158"><a href="#DynArray.format-158"><span class="linenos">158</span></a><span class="sd">        Raises:</span>
</span><span id="DynArray.format-159"><a href="#DynArray.format-159"><span class="linenos">159</span></a><span class="sd">            UOError</span>
</span><span id="DynArray.format-160"><a href="#DynArray.format-160"><span class="linenos">160</span></a>
</span><span id="DynArray.format-161"><a href="#DynArray.format-161"><span class="linenos">161</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DynArray.format-162"><a href="#DynArray.format-162"><span class="linenos">162</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_server_conv</span><span class="p">(</span><span class="n">format_code</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_FMT</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return the formatted value of the DynArray based on the format code.</p>

<p>Args:
    format_code (str): the format code.</p>

<p>Returns:
    DynArray: the formatted value.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>uopy._mvdelimited.MvDelimited</dt>
                                <dd id="DynArray.list" class="variable">list</dd>
                <dd id="DynArray.append" class="function">append</dd>
                <dd id="DynArray.clear" class="function">clear</dd>
                <dd id="DynArray.copy" class="function">copy</dd>
                <dd id="DynArray.count" class="function">count</dd>
                <dd id="DynArray.extend" class="function">extend</dd>
                <dd id="DynArray.index" class="function">index</dd>
                <dd id="DynArray.insert" class="function">insert</dd>
                <dd id="DynArray.pop" class="function">pop</dd>
                <dd id="DynArray.remove" class="function">remove</dd>
                <dd id="DynArray.reverse" class="function">reverse</dd>
                <dd id="DynArray.sort" class="function">sort</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="UOError">
                            <input id="UOError-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">UOError</span><wbr>(<span class="base">builtins.Exception</span>):

                <label class="view-source-button" for="UOError-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UOError"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UOError-108"><a href="#UOError-108"><span class="linenos">108</span></a><span class="k">class</span> <span class="nc">UOError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
</span><span id="UOError-109"><a href="#UOError-109"><span class="linenos">109</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;UOError represents error conditions detected in UOPY.</span>
</span><span id="UOError-110"><a href="#UOError-110"><span class="linenos">110</span></a>
</span><span id="UOError-111"><a href="#UOError-111"><span class="linenos">111</span></a><span class="sd">    It is recommended that Applications always use a try/catch block when calling any UOPY function and should rely on</span>
</span><span id="UOError-112"><a href="#UOError-112"><span class="linenos">112</span></a><span class="sd">    the code and message in UOError exception for proper error handling and reporting.</span>
</span><span id="UOError-113"><a href="#UOError-113"><span class="linenos">113</span></a>
</span><span id="UOError-114"><a href="#UOError-114"><span class="linenos">114</span></a><span class="sd">    Attributes:</span>
</span><span id="UOError-115"><a href="#UOError-115"><span class="linenos">115</span></a><span class="sd">        message (str): the error message.</span>
</span><span id="UOError-116"><a href="#UOError-116"><span class="linenos">116</span></a><span class="sd">        code (int): the error code; if the error is reported by the server, it is the server error code.</span>
</span><span id="UOError-117"><a href="#UOError-117"><span class="linenos">117</span></a>
</span><span id="UOError-118"><a href="#UOError-118"><span class="linenos">118</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="UOError-119"><a href="#UOError-119"><span class="linenos">119</span></a>
</span><span id="UOError-120"><a href="#UOError-120"><span class="linenos">120</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_UNKNOWN_ERROR</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="UOError-121"><a href="#UOError-121"><span class="linenos">121</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="UOError-122"><a href="#UOError-122"><span class="linenos">122</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">code</span>
</span><span id="UOError-123"><a href="#UOError-123"><span class="linenos">123</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">_ERROR_MESSAGES</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="s2">&quot;Unknown Error Code&quot;</span><span class="p">)</span>
</span><span id="UOError-124"><a href="#UOError-124"><span class="linenos">124</span></a>        <span class="k">if</span> <span class="n">message</span><span class="p">:</span>
</span><span id="UOError-125"><a href="#UOError-125"><span class="linenos">125</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">+=</span> <span class="s2">&quot; : &quot;</span> <span class="o">+</span> <span class="n">message</span>
</span><span id="UOError-126"><a href="#UOError-126"><span class="linenos">126</span></a>        <span class="k">if</span> <span class="n">obj</span><span class="p">:</span>
</span><span id="UOError-127"><a href="#UOError-127"><span class="linenos">127</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="UOError-128"><a href="#UOError-128"><span class="linenos">128</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="UOError-129"><a href="#UOError-129"><span class="linenos">129</span></a>            <span class="k">except</span><span class="p">:</span>
</span><span id="UOError-130"><a href="#UOError-130"><span class="linenos">130</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">+=</span> <span class="s2">&quot;on &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="UOError-131"><a href="#UOError-131"><span class="linenos">131</span></a>
</span><span id="UOError-132"><a href="#UOError-132"><span class="linenos">132</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="UOError-133"><a href="#UOError-133"><span class="linenos">133</span></a>        <span class="k">return</span> <span class="s2">&quot;Error [</span><span class="si">{0}</span><span class="s2">] : </span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>UOError represents error conditions detected in UOPY.</p>

<p>It is recommended that Applications always use a try/catch block when calling any UOPY function and should rely on
the code and message in UOError exception for proper error handling and reporting.</p>

<p>Attributes:
    message (str): the error message.
    code (int): the error code; if the error is reported by the server, it is the server error code.</p>
</div>


                            <div id="UOError.__init__" class="classattr">
                                        <input id="UOError.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">UOError</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">code</span><span class="o">=-</span><span class="mi">1</span>, </span><span class="param"><span class="n">message</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">obj</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="UOError.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UOError.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UOError.__init__-120"><a href="#UOError.__init__-120"><span class="linenos">120</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_UNKNOWN_ERROR</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="UOError.__init__-121"><a href="#UOError.__init__-121"><span class="linenos">121</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="UOError.__init__-122"><a href="#UOError.__init__-122"><span class="linenos">122</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">code</span>
</span><span id="UOError.__init__-123"><a href="#UOError.__init__-123"><span class="linenos">123</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">_ERROR_MESSAGES</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="s2">&quot;Unknown Error Code&quot;</span><span class="p">)</span>
</span><span id="UOError.__init__-124"><a href="#UOError.__init__-124"><span class="linenos">124</span></a>        <span class="k">if</span> <span class="n">message</span><span class="p">:</span>
</span><span id="UOError.__init__-125"><a href="#UOError.__init__-125"><span class="linenos">125</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">+=</span> <span class="s2">&quot; : &quot;</span> <span class="o">+</span> <span class="n">message</span>
</span><span id="UOError.__init__-126"><a href="#UOError.__init__-126"><span class="linenos">126</span></a>        <span class="k">if</span> <span class="n">obj</span><span class="p">:</span>
</span><span id="UOError.__init__-127"><a href="#UOError.__init__-127"><span class="linenos">127</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="UOError.__init__-128"><a href="#UOError.__init__-128"><span class="linenos">128</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="UOError.__init__-129"><a href="#UOError.__init__-129"><span class="linenos">129</span></a>            <span class="k">except</span><span class="p">:</span>
</span><span id="UOError.__init__-130"><a href="#UOError.__init__-130"><span class="linenos">130</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">+=</span> <span class="s2">&quot;on &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="UOError.code" class="classattr">
                                <div class="attr variable">
            <span class="name">code</span>

        
    </div>
    <a class="headerlink" href="#UOError.code"></a>
    
    

                            </div>
                            <div id="UOError.message" class="classattr">
                                <div class="attr variable">
            <span class="name">message</span>

        
    </div>
    <a class="headerlink" href="#UOError.message"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.BaseException</dt>
                                <dd id="UOError.with_traceback" class="function">with_traceback</dd>
                <dd id="UOError.add_note" class="function">add_note</dd>
                <dd id="UOError.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="File">
                            <input id="File-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">File</span><wbr>(<span class="base">uopy._uniobject.UniObject</span>):

                <label class="view-source-button" for="File-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File-70"><a href="#File-70"><span class="linenos">  70</span></a><span class="k">class</span> <span class="nc">File</span><span class="p">(</span><span class="n">UniObject</span><span class="p">):</span>
</span><span id="File-71"><a href="#File-71"><span class="linenos">  71</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;File object represents a MV hashed file on the remote server. It is the main mechanism for applications to</span>
</span><span id="File-72"><a href="#File-72"><span class="linenos">  72</span></a><span class="sd">    access MV data remotely.</span>
</span><span id="File-73"><a href="#File-73"><span class="linenos">  73</span></a>
</span><span id="File-74"><a href="#File-74"><span class="linenos">  74</span></a><span class="sd">    File objects can be used in Python with statement so that whatever occurs in the with statement block, they</span>
</span><span id="File-75"><a href="#File-75"><span class="linenos">  75</span></a><span class="sd">    are guaranteed to be closed upon exit.</span>
</span><span id="File-76"><a href="#File-76"><span class="linenos">  76</span></a>
</span><span id="File-77"><a href="#File-77"><span class="linenos">  77</span></a><span class="sd">    Examples:</span>
</span><span id="File-78"><a href="#File-78"><span class="linenos">  78</span></a>
</span><span id="File-79"><a href="#File-79"><span class="linenos">  79</span></a><span class="sd">        &gt;&gt;&gt; with uopy.File(&quot;VOC&quot;) as voc_file:</span>
</span><span id="File-80"><a href="#File-80"><span class="linenos">  80</span></a><span class="sd">        &gt;&gt;&gt;     rec = voc_file.read(&quot;LIST&quot;)</span>
</span><span id="File-81"><a href="#File-81"><span class="linenos">  81</span></a><span class="sd">        &gt;&gt;&gt;     print(rec.list)</span>
</span><span id="File-82"><a href="#File-82"><span class="linenos">  82</span></a>
</span><span id="File-83"><a href="#File-83"><span class="linenos">  83</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="File-84"><a href="#File-84"><span class="linenos">  84</span></a>
</span><span id="File-85"><a href="#File-85"><span class="linenos">  85</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">dict_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="File-86"><a href="#File-86"><span class="linenos">  86</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes a File object.</span>
</span><span id="File-87"><a href="#File-87"><span class="linenos">  87</span></a><span class="sd">        Args:</span>
</span><span id="File-88"><a href="#File-88"><span class="linenos">  88</span></a><span class="sd">            name (str): the name of the MV File to be opened.</span>
</span><span id="File-89"><a href="#File-89"><span class="linenos">  89</span></a><span class="sd">            dict_flag (int, optional): when it is uopy.DICT_FILE, then the File object points to the dictionary file.</span>
</span><span id="File-90"><a href="#File-90"><span class="linenos">  90</span></a><span class="sd">                Otherwise, the target is the data file.</span>
</span><span id="File-91"><a href="#File-91"><span class="linenos">  91</span></a><span class="sd">            session (Session, optional): the Session object that the File object is bound to.</span>
</span><span id="File-92"><a href="#File-92"><span class="linenos">  92</span></a><span class="sd">                If omitted, the last opened Session in the current thread will be used.</span>
</span><span id="File-93"><a href="#File-93"><span class="linenos">  93</span></a>
</span><span id="File-94"><a href="#File-94"><span class="linenos">  94</span></a><span class="sd">        Raises:</span>
</span><span id="File-95"><a href="#File-95"><span class="linenos">  95</span></a><span class="sd">            UOError</span>
</span><span id="File-96"><a href="#File-96"><span class="linenos">  96</span></a>
</span><span id="File-97"><a href="#File-97"><span class="linenos">  97</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-98"><a href="#File-98"><span class="linenos">  98</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</span><span id="File-99"><a href="#File-99"><span class="linenos">  99</span></a>
</span><span id="File-100"><a href="#File-100"><span class="linenos"> 100</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File-101"><a href="#File-101"><span class="linenos"> 101</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_INVALIDFILENAME</span><span class="p">)</span>
</span><span id="File-102"><a href="#File-102"><span class="linenos"> 102</span></a>
</span><span id="File-103"><a href="#File-103"><span class="linenos"> 103</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_command</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="File-104"><a href="#File-104"><span class="linenos"> 104</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_dict_flag</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">dict_flag</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="File-105"><a href="#File-105"><span class="linenos"> 105</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="File-106"><a href="#File-106"><span class="linenos"> 106</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="File-107"><a href="#File-107"><span class="linenos"> 107</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_type</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="File-108"><a href="#File-108"><span class="linenos"> 108</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="File-109"><a href="#File-109"><span class="linenos"> 109</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="File-110"><a href="#File-110"><span class="linenos"> 110</span></a>
</span><span id="File-111"><a href="#File-111"><span class="linenos"> 111</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
</span><span id="File-112"><a href="#File-112"><span class="linenos"> 112</span></a>
</span><span id="File-113"><a href="#File-113"><span class="linenos"> 113</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="File-114"><a href="#File-114"><span class="linenos"> 114</span></a>        <span class="n">format_string</span> <span class="o">=</span> <span class="s2">&quot;&lt;</span><span class="si">{}</span><span class="s2"> object </span><span class="si">{}</span><span class="s2"> at 0x</span><span class="si">{:016X}</span><span class="s2">&gt;&quot;</span>
</span><span id="File-115"><a href="#File-115"><span class="linenos"> 115</span></a>        <span class="n">details</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;DICT&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dict_flag</span> <span class="k">else</span> <span class="s2">&quot;DATA&quot;</span><span class="p">}</span>
</span><span id="File-116"><a href="#File-116"><span class="linenos"> 116</span></a>        <span class="k">return</span> <span class="n">format_string</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
</span><span id="File-117"><a href="#File-117"><span class="linenos"> 117</span></a>            <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">File</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span> <span class="n">File</span><span class="o">.</span><span class="vm">__qualname__</span><span class="p">]),</span> <span class="n">details</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="File-118"><a href="#File-118"><span class="linenos"> 118</span></a>        <span class="p">)</span>
</span><span id="File-119"><a href="#File-119"><span class="linenos"> 119</span></a>
</span><span id="File-120"><a href="#File-120"><span class="linenos"> 120</span></a>    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="File-121"><a href="#File-121"><span class="linenos"> 121</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span><span class="p">:</span>
</span><span id="File-122"><a href="#File-122"><span class="linenos"> 122</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
</span><span id="File-123"><a href="#File-123"><span class="linenos"> 123</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="File-124"><a href="#File-124"><span class="linenos"> 124</span></a>
</span><span id="File-125"><a href="#File-125"><span class="linenos"> 125</span></a>    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exec_type</span><span class="p">,</span> <span class="n">exec_value</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
</span><span id="File-126"><a href="#File-126"><span class="linenos"> 126</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="File-127"><a href="#File-127"><span class="linenos"> 127</span></a>
</span><span id="File-128"><a href="#File-128"><span class="linenos"> 128</span></a>    <span class="nd">@property</span>
</span><span id="File-129"><a href="#File-129"><span class="linenos"> 129</span></a>    <span class="k">def</span> <span class="nf">handle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="File-130"><a href="#File-130"><span class="linenos"> 130</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span>
</span><span id="File-131"><a href="#File-131"><span class="linenos"> 131</span></a>
</span><span id="File-132"><a href="#File-132"><span class="linenos"> 132</span></a>    <span class="nd">@property</span>
</span><span id="File-133"><a href="#File-133"><span class="linenos"> 133</span></a>    <span class="k">def</span> <span class="nf">status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="File-134"><a href="#File-134"><span class="linenos"> 134</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The status code set by the remote server after a file operation.&quot;&quot;&quot;</span>
</span><span id="File-135"><a href="#File-135"><span class="linenos"> 135</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span>
</span><span id="File-136"><a href="#File-136"><span class="linenos"> 136</span></a>
</span><span id="File-137"><a href="#File-137"><span class="linenos"> 137</span></a>    <span class="nd">@property</span>
</span><span id="File-138"><a href="#File-138"><span class="linenos"> 138</span></a>    <span class="k">def</span> <span class="nf">is_opened</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="File-139"><a href="#File-139"><span class="linenos"> 139</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;boolean: True if the File object is opened on the remote server, otherwise False.&quot;&quot;&quot;</span>
</span><span id="File-140"><a href="#File-140"><span class="linenos"> 140</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span>
</span><span id="File-141"><a href="#File-141"><span class="linenos"> 141</span></a>
</span><span id="File-142"><a href="#File-142"><span class="linenos"> 142</span></a>    <span class="k">def</span> <span class="nf">_check_opened</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="File-143"><a href="#File-143"><span class="linenos"> 143</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span><span class="p">:</span>
</span><span id="File-144"><a href="#File-144"><span class="linenos"> 144</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_FILE_NOT_OPEN</span><span class="p">)</span>
</span><span id="File-145"><a href="#File-145"><span class="linenos"> 145</span></a>
</span><span id="File-146"><a href="#File-146"><span class="linenos"> 146</span></a>    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="File-147"><a href="#File-147"><span class="linenos"> 147</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Open the named file on the remote server.</span>
</span><span id="File-148"><a href="#File-148"><span class="linenos"> 148</span></a>
</span><span id="File-149"><a href="#File-149"><span class="linenos"> 149</span></a><span class="sd">        Args:</span>
</span><span id="File-150"><a href="#File-150"><span class="linenos"> 150</span></a>
</span><span id="File-151"><a href="#File-151"><span class="linenos"> 151</span></a><span class="sd">        Returns:</span>
</span><span id="File-152"><a href="#File-152"><span class="linenos"> 152</span></a><span class="sd">            None</span>
</span><span id="File-153"><a href="#File-153"><span class="linenos"> 153</span></a>
</span><span id="File-154"><a href="#File-154"><span class="linenos"> 154</span></a><span class="sd">        Raises:</span>
</span><span id="File-155"><a href="#File-155"><span class="linenos"> 155</span></a><span class="sd">            UOError</span>
</span><span id="File-156"><a href="#File-156"><span class="linenos"> 156</span></a>
</span><span id="File-157"><a href="#File-157"><span class="linenos"> 157</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-158"><a href="#File-158"><span class="linenos"> 158</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
</span><span id="File-159"><a href="#File-159"><span class="linenos"> 159</span></a>
</span><span id="File-160"><a href="#File-160"><span class="linenos"> 160</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span><span class="p">:</span>
</span><span id="File-161"><a href="#File-161"><span class="linenos"> 161</span></a>            <span class="k">return</span>
</span><span id="File-162"><a href="#File-162"><span class="linenos"> 162</span></a>
</span><span id="File-163"><a href="#File-163"><span class="linenos"> 163</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-164"><a href="#File-164"><span class="linenos"> 164</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-165"><a href="#File-165"><span class="linenos"> 165</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-166"><a href="#File-166"><span class="linenos"> 166</span></a>
</span><span id="File-167"><a href="#File-167"><span class="linenos"> 167</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_OPEN</span><span class="p">)</span>
</span><span id="File-168"><a href="#File-168"><span class="linenos"> 168</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dict_flag</span><span class="p">)</span>
</span><span id="File-169"><a href="#File-169"><span class="linenos"> 169</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">))</span>
</span><span id="File-170"><a href="#File-170"><span class="linenos"> 170</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="File-171"><a href="#File-171"><span class="linenos"> 171</span></a>
</span><span id="File-172"><a href="#File-172"><span class="linenos"> 172</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-173"><a href="#File-173"><span class="linenos"> 173</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File-174"><a href="#File-174"><span class="linenos"> 174</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
</span><span id="File-175"><a href="#File-175"><span class="linenos"> 175</span></a>
</span><span id="File-176"><a href="#File-176"><span class="linenos"> 176</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File-177"><a href="#File-177"><span class="linenos"> 177</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="File-178"><a href="#File-178"><span class="linenos"> 178</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span>
</span><span id="File-179"><a href="#File-179"><span class="linenos"> 179</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="File-180"><a href="#File-180"><span class="linenos"> 180</span></a>
</span><span id="File-181"><a href="#File-181"><span class="linenos"> 181</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="File-182"><a href="#File-182"><span class="linenos"> 182</span></a>
</span><span id="File-183"><a href="#File-183"><span class="linenos"> 183</span></a>    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="File-184"><a href="#File-184"><span class="linenos"> 184</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Clear the content of the file on the remote server.</span>
</span><span id="File-185"><a href="#File-185"><span class="linenos"> 185</span></a>
</span><span id="File-186"><a href="#File-186"><span class="linenos"> 186</span></a><span class="sd">        Args:</span>
</span><span id="File-187"><a href="#File-187"><span class="linenos"> 187</span></a>
</span><span id="File-188"><a href="#File-188"><span class="linenos"> 188</span></a><span class="sd">        Returns:</span>
</span><span id="File-189"><a href="#File-189"><span class="linenos"> 189</span></a><span class="sd">            None</span>
</span><span id="File-190"><a href="#File-190"><span class="linenos"> 190</span></a>
</span><span id="File-191"><a href="#File-191"><span class="linenos"> 191</span></a><span class="sd">        Raises:</span>
</span><span id="File-192"><a href="#File-192"><span class="linenos"> 192</span></a><span class="sd">            UOError</span>
</span><span id="File-193"><a href="#File-193"><span class="linenos"> 193</span></a>
</span><span id="File-194"><a href="#File-194"><span class="linenos"> 194</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-195"><a href="#File-195"><span class="linenos"> 195</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
</span><span id="File-196"><a href="#File-196"><span class="linenos"> 196</span></a>
</span><span id="File-197"><a href="#File-197"><span class="linenos"> 197</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-198"><a href="#File-198"><span class="linenos"> 198</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-199"><a href="#File-199"><span class="linenos"> 199</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-200"><a href="#File-200"><span class="linenos"> 200</span></a>
</span><span id="File-201"><a href="#File-201"><span class="linenos"> 201</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_CLEARFILE</span><span class="p">)</span>
</span><span id="File-202"><a href="#File-202"><span class="linenos"> 202</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File-203"><a href="#File-203"><span class="linenos"> 203</span></a>
</span><span id="File-204"><a href="#File-204"><span class="linenos"> 204</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="File-205"><a href="#File-205"><span class="linenos"> 205</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-206"><a href="#File-206"><span class="linenos"> 206</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File-207"><a href="#File-207"><span class="linenos"> 207</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File-208"><a href="#File-208"><span class="linenos"> 208</span></a>
</span><span id="File-209"><a href="#File-209"><span class="linenos"> 209</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="File-210"><a href="#File-210"><span class="linenos"> 210</span></a>
</span><span id="File-211"><a href="#File-211"><span class="linenos"> 211</span></a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="File-212"><a href="#File-212"><span class="linenos"> 212</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the opened file on the remote server - all file and record locks are released.</span>
</span><span id="File-213"><a href="#File-213"><span class="linenos"> 213</span></a>
</span><span id="File-214"><a href="#File-214"><span class="linenos"> 214</span></a><span class="sd">        Args:</span>
</span><span id="File-215"><a href="#File-215"><span class="linenos"> 215</span></a>
</span><span id="File-216"><a href="#File-216"><span class="linenos"> 216</span></a><span class="sd">        Returns:</span>
</span><span id="File-217"><a href="#File-217"><span class="linenos"> 217</span></a><span class="sd">            None</span>
</span><span id="File-218"><a href="#File-218"><span class="linenos"> 218</span></a>
</span><span id="File-219"><a href="#File-219"><span class="linenos"> 219</span></a><span class="sd">        Raises:</span>
</span><span id="File-220"><a href="#File-220"><span class="linenos"> 220</span></a><span class="sd">            UOError</span>
</span><span id="File-221"><a href="#File-221"><span class="linenos"> 221</span></a>
</span><span id="File-222"><a href="#File-222"><span class="linenos"> 222</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-223"><a href="#File-223"><span class="linenos"> 223</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
</span><span id="File-224"><a href="#File-224"><span class="linenos"> 224</span></a>
</span><span id="File-225"><a href="#File-225"><span class="linenos"> 225</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span><span class="p">:</span>
</span><span id="File-226"><a href="#File-226"><span class="linenos"> 226</span></a>            <span class="k">return</span>
</span><span id="File-227"><a href="#File-227"><span class="linenos"> 227</span></a>
</span><span id="File-228"><a href="#File-228"><span class="linenos"> 228</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-229"><a href="#File-229"><span class="linenos"> 229</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-230"><a href="#File-230"><span class="linenos"> 230</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-231"><a href="#File-231"><span class="linenos"> 231</span></a>
</span><span id="File-232"><a href="#File-232"><span class="linenos"> 232</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_CLOSE</span><span class="p">)</span>
</span><span id="File-233"><a href="#File-233"><span class="linenos"> 233</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File-234"><a href="#File-234"><span class="linenos"> 234</span></a>
</span><span id="File-235"><a href="#File-235"><span class="linenos"> 235</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="File-236"><a href="#File-236"><span class="linenos"> 236</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="File-237"><a href="#File-237"><span class="linenos"> 237</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-238"><a href="#File-238"><span class="linenos"> 238</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File-239"><a href="#File-239"><span class="linenos"> 239</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File-240"><a href="#File-240"><span class="linenos"> 240</span></a>
</span><span id="File-241"><a href="#File-241"><span class="linenos"> 241</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="File-242"><a href="#File-242"><span class="linenos"> 242</span></a>
</span><span id="File-243"><a href="#File-243"><span class="linenos"> 243</span></a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="File-244"><a href="#File-244"><span class="linenos"> 244</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a record in the file.</span>
</span><span id="File-245"><a href="#File-245"><span class="linenos"> 245</span></a>
</span><span id="File-246"><a href="#File-246"><span class="linenos"> 246</span></a><span class="sd">        Args:</span>
</span><span id="File-247"><a href="#File-247"><span class="linenos"> 247</span></a><span class="sd">            record_id (any ): the record id - can be str, bytes, or DynArray.</span>
</span><span id="File-248"><a href="#File-248"><span class="linenos"> 248</span></a><span class="sd">            lock_flag (int, optional): 0 (default), LOCK_RETAIN, LOCK_WAIT, or LOCK_RETAIN + LOCK_WAIT</span>
</span><span id="File-249"><a href="#File-249"><span class="linenos"> 249</span></a>
</span><span id="File-250"><a href="#File-250"><span class="linenos"> 250</span></a><span class="sd">        Returns:</span>
</span><span id="File-251"><a href="#File-251"><span class="linenos"> 251</span></a><span class="sd">            None</span>
</span><span id="File-252"><a href="#File-252"><span class="linenos"> 252</span></a>
</span><span id="File-253"><a href="#File-253"><span class="linenos"> 253</span></a><span class="sd">        Raises:</span>
</span><span id="File-254"><a href="#File-254"><span class="linenos"> 254</span></a><span class="sd">            UOError</span>
</span><span id="File-255"><a href="#File-255"><span class="linenos"> 255</span></a>
</span><span id="File-256"><a href="#File-256"><span class="linenos"> 256</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-257"><a href="#File-257"><span class="linenos"> 257</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">record_id</span><span class="p">)</span>
</span><span id="File-258"><a href="#File-258"><span class="linenos"> 258</span></a>
</span><span id="File-259"><a href="#File-259"><span class="linenos"> 259</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File-260"><a href="#File-260"><span class="linenos"> 260</span></a>
</span><span id="File-261"><a href="#File-261"><span class="linenos"> 261</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-262"><a href="#File-262"><span class="linenos"> 262</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-263"><a href="#File-263"><span class="linenos"> 263</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-264"><a href="#File-264"><span class="linenos"> 264</span></a>
</span><span id="File-265"><a href="#File-265"><span class="linenos"> 265</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_DELETE</span><span class="p">)</span>
</span><span id="File-266"><a href="#File-266"><span class="linenos"> 266</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File-267"><a href="#File-267"><span class="linenos"> 267</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_delete_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File-268"><a href="#File-268"><span class="linenos"> 268</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record_id</span><span class="p">))</span>
</span><span id="File-269"><a href="#File-269"><span class="linenos"> 269</span></a>
</span><span id="File-270"><a href="#File-270"><span class="linenos"> 270</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="File-271"><a href="#File-271"><span class="linenos"> 271</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-272"><a href="#File-272"><span class="linenos"> 272</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File-273"><a href="#File-273"><span class="linenos"> 273</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File-274"><a href="#File-274"><span class="linenos"> 274</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File-275"><a href="#File-275"><span class="linenos"> 275</span></a>
</span><span id="File-276"><a href="#File-276"><span class="linenos"> 276</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="File-277"><a href="#File-277"><span class="linenos"> 277</span></a>
</span><span id="File-278"><a href="#File-278"><span class="linenos"> 278</span></a>    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="File-279"><a href="#File-279"><span class="linenos"> 279</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Read a record in the file.</span>
</span><span id="File-280"><a href="#File-280"><span class="linenos"> 280</span></a>
</span><span id="File-281"><a href="#File-281"><span class="linenos"> 281</span></a><span class="sd">        Args:</span>
</span><span id="File-282"><a href="#File-282"><span class="linenos"> 282</span></a><span class="sd">            record_id (any): the record id - can be str, bytes, or DynArray.</span>
</span><span id="File-283"><a href="#File-283"><span class="linenos"> 283</span></a><span class="sd">            lock_flag (int, optional): 0 (default, no lock), or [LOCK_EXCLUSIVE or LOCK_SHARED] [+ LOCK_WAIT]</span>
</span><span id="File-284"><a href="#File-284"><span class="linenos"> 284</span></a>
</span><span id="File-285"><a href="#File-285"><span class="linenos"> 285</span></a><span class="sd">        Returns:</span>
</span><span id="File-286"><a href="#File-286"><span class="linenos"> 286</span></a><span class="sd">            DynArray: the content of the record.</span>
</span><span id="File-287"><a href="#File-287"><span class="linenos"> 287</span></a>
</span><span id="File-288"><a href="#File-288"><span class="linenos"> 288</span></a><span class="sd">        Raises:</span>
</span><span id="File-289"><a href="#File-289"><span class="linenos"> 289</span></a><span class="sd">            UOError</span>
</span><span id="File-290"><a href="#File-290"><span class="linenos"> 290</span></a>
</span><span id="File-291"><a href="#File-291"><span class="linenos"> 291</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-292"><a href="#File-292"><span class="linenos"> 292</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">lock_flag</span><span class="p">)</span>
</span><span id="File-293"><a href="#File-293"><span class="linenos"> 293</span></a>
</span><span id="File-294"><a href="#File-294"><span class="linenos"> 294</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File-295"><a href="#File-295"><span class="linenos"> 295</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-296"><a href="#File-296"><span class="linenos"> 296</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-297"><a href="#File-297"><span class="linenos"> 297</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-298"><a href="#File-298"><span class="linenos"> 298</span></a>
</span><span id="File-299"><a href="#File-299"><span class="linenos"> 299</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_READ</span><span class="p">)</span>
</span><span id="File-300"><a href="#File-300"><span class="linenos"> 300</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File-301"><a href="#File-301"><span class="linenos"> 301</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_read_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File-302"><a href="#File-302"><span class="linenos"> 302</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record_id</span><span class="p">))</span>
</span><span id="File-303"><a href="#File-303"><span class="linenos"> 303</span></a>
</span><span id="File-304"><a href="#File-304"><span class="linenos"> 304</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-305"><a href="#File-305"><span class="linenos"> 305</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File-306"><a href="#File-306"><span class="linenos"> 306</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File-307"><a href="#File-307"><span class="linenos"> 307</span></a>                <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_EIO</span><span class="p">:</span>
</span><span id="File-308"><a href="#File-308"><span class="linenos"> 308</span></a>                    <span class="n">tmp_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span>
</span><span id="File-309"><a href="#File-309"><span class="linenos"> 309</span></a>                    <span class="k">if</span> <span class="n">tmp_status</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_EIO_MSG_DICT</span><span class="p">:</span>
</span><span id="File-310"><a href="#File-310"><span class="linenos"> 310</span></a>                        <span class="n">tmp_status</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="File-311"><a href="#File-311"><span class="linenos"> 311</span></a>                    <span class="n">msg</span> <span class="o">=</span> <span class="n">_EIO_MSG_DICT</span><span class="p">[</span><span class="n">tmp_status</span><span class="p">]</span>
</span><span id="File-312"><a href="#File-312"><span class="linenos"> 312</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
</span><span id="File-313"><a href="#File-313"><span class="linenos"> 313</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="File-314"><a href="#File-314"><span class="linenos"> 314</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File-315"><a href="#File-315"><span class="linenos"> 315</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="File-316"><a href="#File-316"><span class="linenos"> 316</span></a>                <span class="n">record</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-317"><a href="#File-317"><span class="linenos"> 317</span></a>
</span><span id="File-318"><a href="#File-318"><span class="linenos"> 318</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">record</span><span class="p">)</span>
</span><span id="File-319"><a href="#File-319"><span class="linenos"> 319</span></a>        <span class="k">return</span> <span class="n">record</span>
</span><span id="File-320"><a href="#File-320"><span class="linenos"> 320</span></a>
</span><span id="File-321"><a href="#File-321"><span class="linenos"> 321</span></a>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">record</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="File-322"><a href="#File-322"><span class="linenos"> 322</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Write a record into the file.</span>
</span><span id="File-323"><a href="#File-323"><span class="linenos"> 323</span></a>
</span><span id="File-324"><a href="#File-324"><span class="linenos"> 324</span></a><span class="sd">        Args:</span>
</span><span id="File-325"><a href="#File-325"><span class="linenos"> 325</span></a><span class="sd">            record_id (any): the record id - can be str, bytes, or DynArray.</span>
</span><span id="File-326"><a href="#File-326"><span class="linenos"> 326</span></a><span class="sd">            record (any): the record to be written - can be DynArray, str, bytes.</span>
</span><span id="File-327"><a href="#File-327"><span class="linenos"> 327</span></a><span class="sd">            lock_flag (int, optional): 0 (default), LOCK_RETAIN, LOCK_WAIT, or LOCK_RETAIN + LOCK_WAIT</span>
</span><span id="File-328"><a href="#File-328"><span class="linenos"> 328</span></a>
</span><span id="File-329"><a href="#File-329"><span class="linenos"> 329</span></a><span class="sd">        Returns:</span>
</span><span id="File-330"><a href="#File-330"><span class="linenos"> 330</span></a><span class="sd">            None</span>
</span><span id="File-331"><a href="#File-331"><span class="linenos"> 331</span></a>
</span><span id="File-332"><a href="#File-332"><span class="linenos"> 332</span></a><span class="sd">        Raises:</span>
</span><span id="File-333"><a href="#File-333"><span class="linenos"> 333</span></a><span class="sd">            UOError</span>
</span><span id="File-334"><a href="#File-334"><span class="linenos"> 334</span></a>
</span><span id="File-335"><a href="#File-335"><span class="linenos"> 335</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-336"><a href="#File-336"><span class="linenos"> 336</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">record</span><span class="p">,</span> <span class="n">lock_flag</span><span class="p">)</span>
</span><span id="File-337"><a href="#File-337"><span class="linenos"> 337</span></a>
</span><span id="File-338"><a href="#File-338"><span class="linenos"> 338</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File-339"><a href="#File-339"><span class="linenos"> 339</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-340"><a href="#File-340"><span class="linenos"> 340</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-341"><a href="#File-341"><span class="linenos"> 341</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-342"><a href="#File-342"><span class="linenos"> 342</span></a>
</span><span id="File-343"><a href="#File-343"><span class="linenos"> 343</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_WRITE</span><span class="p">)</span>
</span><span id="File-344"><a href="#File-344"><span class="linenos"> 344</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File-345"><a href="#File-345"><span class="linenos"> 345</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_write_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File-346"><a href="#File-346"><span class="linenos"> 346</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record_id</span><span class="p">))</span>
</span><span id="File-347"><a href="#File-347"><span class="linenos"> 347</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record</span><span class="p">))</span>
</span><span id="File-348"><a href="#File-348"><span class="linenos"> 348</span></a>
</span><span id="File-349"><a href="#File-349"><span class="linenos"> 349</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-350"><a href="#File-350"><span class="linenos"> 350</span></a>
</span><span id="File-351"><a href="#File-351"><span class="linenos"> 351</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File-352"><a href="#File-352"><span class="linenos"> 352</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File-353"><a href="#File-353"><span class="linenos"> 353</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="File-354"><a href="#File-354"><span class="linenos"> 354</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File-355"><a href="#File-355"><span class="linenos"> 355</span></a>
</span><span id="File-356"><a href="#File-356"><span class="linenos"> 356</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="File-357"><a href="#File-357"><span class="linenos"> 357</span></a>
</span><span id="File-358"><a href="#File-358"><span class="linenos"> 358</span></a>    <span class="k">def</span> <span class="nf">read_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">field_num</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="File-359"><a href="#File-359"><span class="linenos"> 359</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Read a single field of a record in the file.</span>
</span><span id="File-360"><a href="#File-360"><span class="linenos"> 360</span></a>
</span><span id="File-361"><a href="#File-361"><span class="linenos"> 361</span></a><span class="sd">        Args:</span>
</span><span id="File-362"><a href="#File-362"><span class="linenos"> 362</span></a><span class="sd">            record_id (any ): the record id - can be str, bytes, or DynArray</span>
</span><span id="File-363"><a href="#File-363"><span class="linenos"> 363</span></a><span class="sd">            field_num (int): the field number</span>
</span><span id="File-364"><a href="#File-364"><span class="linenos"> 364</span></a><span class="sd">            lock_flag (int, optional): 0 (default), or [LOCK_EXCLUSIVE or LOCK_SHARED] [+ LOCK_WAIT]</span>
</span><span id="File-365"><a href="#File-365"><span class="linenos"> 365</span></a>
</span><span id="File-366"><a href="#File-366"><span class="linenos"> 366</span></a><span class="sd">        Returns:</span>
</span><span id="File-367"><a href="#File-367"><span class="linenos"> 367</span></a><span class="sd">            DynArray: the value of the field.</span>
</span><span id="File-368"><a href="#File-368"><span class="linenos"> 368</span></a>
</span><span id="File-369"><a href="#File-369"><span class="linenos"> 369</span></a><span class="sd">        Raises:</span>
</span><span id="File-370"><a href="#File-370"><span class="linenos"> 370</span></a><span class="sd">            UOError</span>
</span><span id="File-371"><a href="#File-371"><span class="linenos"> 371</span></a>
</span><span id="File-372"><a href="#File-372"><span class="linenos"> 372</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-373"><a href="#File-373"><span class="linenos"> 373</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">field_num</span><span class="p">,</span> <span class="n">lock_flag</span><span class="p">)</span>
</span><span id="File-374"><a href="#File-374"><span class="linenos"> 374</span></a>
</span><span id="File-375"><a href="#File-375"><span class="linenos"> 375</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File-376"><a href="#File-376"><span class="linenos"> 376</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-377"><a href="#File-377"><span class="linenos"> 377</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-378"><a href="#File-378"><span class="linenos"> 378</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-379"><a href="#File-379"><span class="linenos"> 379</span></a>
</span><span id="File-380"><a href="#File-380"><span class="linenos"> 380</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_READV</span><span class="p">)</span>
</span><span id="File-381"><a href="#File-381"><span class="linenos"> 381</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File-382"><a href="#File-382"><span class="linenos"> 382</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_read_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File-383"><a href="#File-383"><span class="linenos"> 383</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">field_num</span><span class="p">)</span>
</span><span id="File-384"><a href="#File-384"><span class="linenos"> 384</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record_id</span><span class="p">))</span>
</span><span id="File-385"><a href="#File-385"><span class="linenos"> 385</span></a>
</span><span id="File-386"><a href="#File-386"><span class="linenos"> 386</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-387"><a href="#File-387"><span class="linenos"> 387</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File-388"><a href="#File-388"><span class="linenos"> 388</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File-389"><a href="#File-389"><span class="linenos"> 389</span></a>                <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_EIO</span><span class="p">:</span>
</span><span id="File-390"><a href="#File-390"><span class="linenos"> 390</span></a>                    <span class="n">tmp_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span>
</span><span id="File-391"><a href="#File-391"><span class="linenos"> 391</span></a>                    <span class="k">if</span> <span class="n">tmp_status</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_EIO_MSG_DICT</span><span class="p">:</span>
</span><span id="File-392"><a href="#File-392"><span class="linenos"> 392</span></a>                        <span class="n">tmp_status</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="File-393"><a href="#File-393"><span class="linenos"> 393</span></a>                    <span class="n">msg</span> <span class="o">=</span> <span class="n">_EIO_MSG_DICT</span><span class="p">[</span><span class="n">tmp_status</span><span class="p">]</span>
</span><span id="File-394"><a href="#File-394"><span class="linenos"> 394</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
</span><span id="File-395"><a href="#File-395"><span class="linenos"> 395</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="File-396"><a href="#File-396"><span class="linenos"> 396</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File-397"><a href="#File-397"><span class="linenos"> 397</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="File-398"><a href="#File-398"><span class="linenos"> 398</span></a>                <span class="n">field</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-399"><a href="#File-399"><span class="linenos"> 399</span></a>
</span><span id="File-400"><a href="#File-400"><span class="linenos"> 400</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
</span><span id="File-401"><a href="#File-401"><span class="linenos"> 401</span></a>        <span class="k">return</span> <span class="n">field</span>
</span><span id="File-402"><a href="#File-402"><span class="linenos"> 402</span></a>
</span><span id="File-403"><a href="#File-403"><span class="linenos"> 403</span></a>    <span class="k">def</span> <span class="nf">write_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">field_num</span><span class="p">,</span> <span class="n">field_value</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="File-404"><a href="#File-404"><span class="linenos"> 404</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Write a single field of a record to the file.</span>
</span><span id="File-405"><a href="#File-405"><span class="linenos"> 405</span></a>
</span><span id="File-406"><a href="#File-406"><span class="linenos"> 406</span></a><span class="sd">        Args:</span>
</span><span id="File-407"><a href="#File-407"><span class="linenos"> 407</span></a><span class="sd">            record_id (any): the record id - can be str, bytes, or DynArray.</span>
</span><span id="File-408"><a href="#File-408"><span class="linenos"> 408</span></a><span class="sd">            field_num (int): the field number.</span>
</span><span id="File-409"><a href="#File-409"><span class="linenos"> 409</span></a><span class="sd">            field_value (any): the field value to be written - can be DynArray, str, bytes.</span>
</span><span id="File-410"><a href="#File-410"><span class="linenos"> 410</span></a><span class="sd">            lock_flag (int, optional): 0 (default), LOCK_RETAIN, LOCK_WAIT, or LOCK_RETAIN + LOCK_WAIT</span>
</span><span id="File-411"><a href="#File-411"><span class="linenos"> 411</span></a>
</span><span id="File-412"><a href="#File-412"><span class="linenos"> 412</span></a><span class="sd">        Returns:</span>
</span><span id="File-413"><a href="#File-413"><span class="linenos"> 413</span></a><span class="sd">            None</span>
</span><span id="File-414"><a href="#File-414"><span class="linenos"> 414</span></a>
</span><span id="File-415"><a href="#File-415"><span class="linenos"> 415</span></a><span class="sd">        Raises:</span>
</span><span id="File-416"><a href="#File-416"><span class="linenos"> 416</span></a><span class="sd">            UOError</span>
</span><span id="File-417"><a href="#File-417"><span class="linenos"> 417</span></a>
</span><span id="File-418"><a href="#File-418"><span class="linenos"> 418</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-419"><a href="#File-419"><span class="linenos"> 419</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">field_num</span><span class="p">,</span> <span class="n">field_value</span><span class="p">,</span> <span class="n">lock_flag</span><span class="p">)</span>
</span><span id="File-420"><a href="#File-420"><span class="linenos"> 420</span></a>
</span><span id="File-421"><a href="#File-421"><span class="linenos"> 421</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File-422"><a href="#File-422"><span class="linenos"> 422</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-423"><a href="#File-423"><span class="linenos"> 423</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-424"><a href="#File-424"><span class="linenos"> 424</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-425"><a href="#File-425"><span class="linenos"> 425</span></a>
</span><span id="File-426"><a href="#File-426"><span class="linenos"> 426</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_WRITEV</span><span class="p">)</span>
</span><span id="File-427"><a href="#File-427"><span class="linenos"> 427</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File-428"><a href="#File-428"><span class="linenos"> 428</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_write_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File-429"><a href="#File-429"><span class="linenos"> 429</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">field_num</span><span class="p">)</span>
</span><span id="File-430"><a href="#File-430"><span class="linenos"> 430</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record_id</span><span class="p">))</span>
</span><span id="File-431"><a href="#File-431"><span class="linenos"> 431</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">field_value</span><span class="p">))</span>
</span><span id="File-432"><a href="#File-432"><span class="linenos"> 432</span></a>
</span><span id="File-433"><a href="#File-433"><span class="linenos"> 433</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-434"><a href="#File-434"><span class="linenos"> 434</span></a>
</span><span id="File-435"><a href="#File-435"><span class="linenos"> 435</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File-436"><a href="#File-436"><span class="linenos"> 436</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File-437"><a href="#File-437"><span class="linenos"> 437</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="File-438"><a href="#File-438"><span class="linenos"> 438</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File-439"><a href="#File-439"><span class="linenos"> 439</span></a>
</span><span id="File-440"><a href="#File-440"><span class="linenos"> 440</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span><span class="p">)</span>
</span><span id="File-441"><a href="#File-441"><span class="linenos"> 441</span></a>
</span><span id="File-442"><a href="#File-442"><span class="linenos"> 442</span></a>    <span class="k">def</span> <span class="nf">lock_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="File-443"><a href="#File-443"><span class="linenos"> 443</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Lock the entire file exclusively.</span>
</span><span id="File-444"><a href="#File-444"><span class="linenos"> 444</span></a>
</span><span id="File-445"><a href="#File-445"><span class="linenos"> 445</span></a><span class="sd">        Args:</span>
</span><span id="File-446"><a href="#File-446"><span class="linenos"> 446</span></a>
</span><span id="File-447"><a href="#File-447"><span class="linenos"> 447</span></a><span class="sd">        Returns:</span>
</span><span id="File-448"><a href="#File-448"><span class="linenos"> 448</span></a><span class="sd">            None</span>
</span><span id="File-449"><a href="#File-449"><span class="linenos"> 449</span></a>
</span><span id="File-450"><a href="#File-450"><span class="linenos"> 450</span></a><span class="sd">        Raises:</span>
</span><span id="File-451"><a href="#File-451"><span class="linenos"> 451</span></a><span class="sd">            UOError</span>
</span><span id="File-452"><a href="#File-452"><span class="linenos"> 452</span></a>
</span><span id="File-453"><a href="#File-453"><span class="linenos"> 453</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-454"><a href="#File-454"><span class="linenos"> 454</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
</span><span id="File-455"><a href="#File-455"><span class="linenos"> 455</span></a>
</span><span id="File-456"><a href="#File-456"><span class="linenos"> 456</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File-457"><a href="#File-457"><span class="linenos"> 457</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-458"><a href="#File-458"><span class="linenos"> 458</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-459"><a href="#File-459"><span class="linenos"> 459</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-460"><a href="#File-460"><span class="linenos"> 460</span></a>
</span><span id="File-461"><a href="#File-461"><span class="linenos"> 461</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_FILELOCK</span><span class="p">)</span>
</span><span id="File-462"><a href="#File-462"><span class="linenos"> 462</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File-463"><a href="#File-463"><span class="linenos"> 463</span></a>
</span><span id="File-464"><a href="#File-464"><span class="linenos"> 464</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-465"><a href="#File-465"><span class="linenos"> 465</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File-466"><a href="#File-466"><span class="linenos"> 466</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File-467"><a href="#File-467"><span class="linenos"> 467</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File-468"><a href="#File-468"><span class="linenos"> 468</span></a>
</span><span id="File-469"><a href="#File-469"><span class="linenos"> 469</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="File-470"><a href="#File-470"><span class="linenos"> 470</span></a>
</span><span id="File-471"><a href="#File-471"><span class="linenos"> 471</span></a>    <span class="k">def</span> <span class="nf">unlock_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="File-472"><a href="#File-472"><span class="linenos"> 472</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Release the exclusive lock on the entire file.</span>
</span><span id="File-473"><a href="#File-473"><span class="linenos"> 473</span></a>
</span><span id="File-474"><a href="#File-474"><span class="linenos"> 474</span></a><span class="sd">        Args:</span>
</span><span id="File-475"><a href="#File-475"><span class="linenos"> 475</span></a>
</span><span id="File-476"><a href="#File-476"><span class="linenos"> 476</span></a><span class="sd">        Returns:</span>
</span><span id="File-477"><a href="#File-477"><span class="linenos"> 477</span></a><span class="sd">            None</span>
</span><span id="File-478"><a href="#File-478"><span class="linenos"> 478</span></a>
</span><span id="File-479"><a href="#File-479"><span class="linenos"> 479</span></a><span class="sd">        Raises:</span>
</span><span id="File-480"><a href="#File-480"><span class="linenos"> 480</span></a><span class="sd">            UOError</span>
</span><span id="File-481"><a href="#File-481"><span class="linenos"> 481</span></a>
</span><span id="File-482"><a href="#File-482"><span class="linenos"> 482</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-483"><a href="#File-483"><span class="linenos"> 483</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
</span><span id="File-484"><a href="#File-484"><span class="linenos"> 484</span></a>
</span><span id="File-485"><a href="#File-485"><span class="linenos"> 485</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File-486"><a href="#File-486"><span class="linenos"> 486</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-487"><a href="#File-487"><span class="linenos"> 487</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-488"><a href="#File-488"><span class="linenos"> 488</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-489"><a href="#File-489"><span class="linenos"> 489</span></a>
</span><span id="File-490"><a href="#File-490"><span class="linenos"> 490</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_FILEUNLOCK</span><span class="p">)</span>
</span><span id="File-491"><a href="#File-491"><span class="linenos"> 491</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File-492"><a href="#File-492"><span class="linenos"> 492</span></a>
</span><span id="File-493"><a href="#File-493"><span class="linenos"> 493</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-494"><a href="#File-494"><span class="linenos"> 494</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File-495"><a href="#File-495"><span class="linenos"> 495</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File-496"><a href="#File-496"><span class="linenos"> 496</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File-497"><a href="#File-497"><span class="linenos"> 497</span></a>
</span><span id="File-498"><a href="#File-498"><span class="linenos"> 498</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="File-499"><a href="#File-499"><span class="linenos"> 499</span></a>
</span><span id="File-500"><a href="#File-500"><span class="linenos"> 500</span></a>    <span class="k">def</span> <span class="nf">lock</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="n">LOCK_EXCLUSIVE</span><span class="p">):</span>
</span><span id="File-501"><a href="#File-501"><span class="linenos"> 501</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Lock a record in the file.</span>
</span><span id="File-502"><a href="#File-502"><span class="linenos"> 502</span></a>
</span><span id="File-503"><a href="#File-503"><span class="linenos"> 503</span></a><span class="sd">        Args:</span>
</span><span id="File-504"><a href="#File-504"><span class="linenos"> 504</span></a><span class="sd">            record_id (any): the record id - can be str, bytes, or DynArray.</span>
</span><span id="File-505"><a href="#File-505"><span class="linenos"> 505</span></a><span class="sd">            lock_flag (int, optional): LOCK_EXCLUSIVE (default) or LOCK_SHARED</span>
</span><span id="File-506"><a href="#File-506"><span class="linenos"> 506</span></a>
</span><span id="File-507"><a href="#File-507"><span class="linenos"> 507</span></a><span class="sd">        Returns:</span>
</span><span id="File-508"><a href="#File-508"><span class="linenos"> 508</span></a><span class="sd">            None</span>
</span><span id="File-509"><a href="#File-509"><span class="linenos"> 509</span></a>
</span><span id="File-510"><a href="#File-510"><span class="linenos"> 510</span></a><span class="sd">        Raises:</span>
</span><span id="File-511"><a href="#File-511"><span class="linenos"> 511</span></a><span class="sd">            UOError</span>
</span><span id="File-512"><a href="#File-512"><span class="linenos"> 512</span></a>
</span><span id="File-513"><a href="#File-513"><span class="linenos"> 513</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-514"><a href="#File-514"><span class="linenos"> 514</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">lock_flag</span><span class="p">)</span>
</span><span id="File-515"><a href="#File-515"><span class="linenos"> 515</span></a>
</span><span id="File-516"><a href="#File-516"><span class="linenos"> 516</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File-517"><a href="#File-517"><span class="linenos"> 517</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-518"><a href="#File-518"><span class="linenos"> 518</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-519"><a href="#File-519"><span class="linenos"> 519</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-520"><a href="#File-520"><span class="linenos"> 520</span></a>
</span><span id="File-521"><a href="#File-521"><span class="linenos"> 521</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_RECORDLOCK</span><span class="p">)</span>
</span><span id="File-522"><a href="#File-522"><span class="linenos"> 522</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File-523"><a href="#File-523"><span class="linenos"> 523</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_read_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File-524"><a href="#File-524"><span class="linenos"> 524</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record_id</span><span class="p">))</span>
</span><span id="File-525"><a href="#File-525"><span class="linenos"> 525</span></a>
</span><span id="File-526"><a href="#File-526"><span class="linenos"> 526</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-527"><a href="#File-527"><span class="linenos"> 527</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File-528"><a href="#File-528"><span class="linenos"> 528</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File-529"><a href="#File-529"><span class="linenos"> 529</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File-530"><a href="#File-530"><span class="linenos"> 530</span></a>
</span><span id="File-531"><a href="#File-531"><span class="linenos"> 531</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="File-532"><a href="#File-532"><span class="linenos"> 532</span></a>
</span><span id="File-533"><a href="#File-533"><span class="linenos"> 533</span></a>    <span class="k">def</span> <span class="nf">unlock</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">clear_flag</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="File-534"><a href="#File-534"><span class="linenos"> 534</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Release locks owned by the current session on a record of the file.</span>
</span><span id="File-535"><a href="#File-535"><span class="linenos"> 535</span></a>
</span><span id="File-536"><a href="#File-536"><span class="linenos"> 536</span></a><span class="sd">        Args:</span>
</span><span id="File-537"><a href="#File-537"><span class="linenos"> 537</span></a><span class="sd">            record_id (any): the record id - can be str, bytes, or DynArray.</span>
</span><span id="File-538"><a href="#File-538"><span class="linenos"> 538</span></a><span class="sd">            clear_flag (boolean, optional): False (default), only release the lock on the specified record; otherwise,</span>
</span><span id="File-539"><a href="#File-539"><span class="linenos"> 539</span></a><span class="sd">                release all the locks owned by the current session.</span>
</span><span id="File-540"><a href="#File-540"><span class="linenos"> 540</span></a>
</span><span id="File-541"><a href="#File-541"><span class="linenos"> 541</span></a><span class="sd">        Returns:</span>
</span><span id="File-542"><a href="#File-542"><span class="linenos"> 542</span></a><span class="sd">            None</span>
</span><span id="File-543"><a href="#File-543"><span class="linenos"> 543</span></a>
</span><span id="File-544"><a href="#File-544"><span class="linenos"> 544</span></a><span class="sd">        Raises:</span>
</span><span id="File-545"><a href="#File-545"><span class="linenos"> 545</span></a><span class="sd">            UOError</span>
</span><span id="File-546"><a href="#File-546"><span class="linenos"> 546</span></a>
</span><span id="File-547"><a href="#File-547"><span class="linenos"> 547</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-548"><a href="#File-548"><span class="linenos"> 548</span></a>
</span><span id="File-549"><a href="#File-549"><span class="linenos"> 549</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">clear_flag</span><span class="p">)</span>
</span><span id="File-550"><a href="#File-550"><span class="linenos"> 550</span></a>
</span><span id="File-551"><a href="#File-551"><span class="linenos"> 551</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File-552"><a href="#File-552"><span class="linenos"> 552</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-553"><a href="#File-553"><span class="linenos"> 553</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-554"><a href="#File-554"><span class="linenos"> 554</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-555"><a href="#File-555"><span class="linenos"> 555</span></a>
</span><span id="File-556"><a href="#File-556"><span class="linenos"> 556</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_RELEASE</span><span class="p">)</span>
</span><span id="File-557"><a href="#File-557"><span class="linenos"> 557</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File-558"><a href="#File-558"><span class="linenos"> 558</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">clear_flag</span> <span class="k">else</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="File-559"><a href="#File-559"><span class="linenos"> 559</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record_id</span><span class="p">))</span>
</span><span id="File-560"><a href="#File-560"><span class="linenos"> 560</span></a>
</span><span id="File-561"><a href="#File-561"><span class="linenos"> 561</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-562"><a href="#File-562"><span class="linenos"> 562</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File-563"><a href="#File-563"><span class="linenos"> 563</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File-564"><a href="#File-564"><span class="linenos"> 564</span></a>
</span><span id="File-565"><a href="#File-565"><span class="linenos"> 565</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="File-566"><a href="#File-566"><span class="linenos"> 566</span></a>
</span><span id="File-567"><a href="#File-567"><span class="linenos"> 567</span></a>    <span class="k">def</span> <span class="nf">is_locked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">):</span>
</span><span id="File-568"><a href="#File-568"><span class="linenos"> 568</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if a record has a lock on it.</span>
</span><span id="File-569"><a href="#File-569"><span class="linenos"> 569</span></a>
</span><span id="File-570"><a href="#File-570"><span class="linenos"> 570</span></a><span class="sd">        Args:</span>
</span><span id="File-571"><a href="#File-571"><span class="linenos"> 571</span></a><span class="sd">            record_id (any): the record id - can be str, bytes, or DynArray.</span>
</span><span id="File-572"><a href="#File-572"><span class="linenos"> 572</span></a>
</span><span id="File-573"><a href="#File-573"><span class="linenos"> 573</span></a><span class="sd">        Returns:</span>
</span><span id="File-574"><a href="#File-574"><span class="linenos"> 574</span></a><span class="sd">            boolean: True, a lock exists on the record by either the current session or other sessions.</span>
</span><span id="File-575"><a href="#File-575"><span class="linenos"> 575</span></a>
</span><span id="File-576"><a href="#File-576"><span class="linenos"> 576</span></a><span class="sd">        Raises:</span>
</span><span id="File-577"><a href="#File-577"><span class="linenos"> 577</span></a><span class="sd">            UOError</span>
</span><span id="File-578"><a href="#File-578"><span class="linenos"> 578</span></a>
</span><span id="File-579"><a href="#File-579"><span class="linenos"> 579</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-580"><a href="#File-580"><span class="linenos"> 580</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">record_id</span><span class="p">)</span>
</span><span id="File-581"><a href="#File-581"><span class="linenos"> 581</span></a>
</span><span id="File-582"><a href="#File-582"><span class="linenos"> 582</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File-583"><a href="#File-583"><span class="linenos"> 583</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-584"><a href="#File-584"><span class="linenos"> 584</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-585"><a href="#File-585"><span class="linenos"> 585</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-586"><a href="#File-586"><span class="linenos"> 586</span></a>
</span><span id="File-587"><a href="#File-587"><span class="linenos"> 587</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_RECORDLOCKED</span><span class="p">)</span>
</span><span id="File-588"><a href="#File-588"><span class="linenos"> 588</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File-589"><a href="#File-589"><span class="linenos"> 589</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record_id</span><span class="p">))</span>
</span><span id="File-590"><a href="#File-590"><span class="linenos"> 590</span></a>
</span><span id="File-591"><a href="#File-591"><span class="linenos"> 591</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-592"><a href="#File-592"><span class="linenos"> 592</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File-593"><a href="#File-593"><span class="linenos"> 593</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File-594"><a href="#File-594"><span class="linenos"> 594</span></a>
</span><span id="File-595"><a href="#File-595"><span class="linenos"> 595</span></a>            <span class="n">lock_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File-596"><a href="#File-596"><span class="linenos"> 596</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="File-597"><a href="#File-597"><span class="linenos"> 597</span></a>
</span><span id="File-598"><a href="#File-598"><span class="linenos"> 598</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">lock_status</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span><span class="p">)</span>
</span><span id="File-599"><a href="#File-599"><span class="linenos"> 599</span></a>        <span class="k">return</span> <span class="kc">False</span> <span class="k">if</span> <span class="n">lock_status</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">True</span>
</span><span id="File-600"><a href="#File-600"><span class="linenos"> 600</span></a>
</span><span id="File-601"><a href="#File-601"><span class="linenos"> 601</span></a>    <span class="k">def</span> <span class="nf">get_ak_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
</span><span id="File-602"><a href="#File-602"><span class="linenos"> 602</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtain information about the secondary key indexes available on the file.</span>
</span><span id="File-603"><a href="#File-603"><span class="linenos"> 603</span></a>
</span><span id="File-604"><a href="#File-604"><span class="linenos"> 604</span></a><span class="sd">        Args:</span>
</span><span id="File-605"><a href="#File-605"><span class="linenos"> 605</span></a><span class="sd">            index_name (str, Optional). If this value is None or ignored, the list of available indices is returned.</span>
</span><span id="File-606"><a href="#File-606"><span class="linenos"> 606</span></a>
</span><span id="File-607"><a href="#File-607"><span class="linenos"> 607</span></a><span class="sd">        Returns:</span>
</span><span id="File-608"><a href="#File-608"><span class="linenos"> 608</span></a><span class="sd">            DynArray:</span>
</span><span id="File-609"><a href="#File-609"><span class="linenos"> 609</span></a><span class="sd">                The return value will vary depending on the type of index, as follows:</span>
</span><span id="File-610"><a href="#File-610"><span class="linenos"> 610</span></a><span class="sd">                1. For D-Type indexes: Field 1 contains D as the first character and</span>
</span><span id="File-611"><a href="#File-611"><span class="linenos"> 611</span></a><span class="sd">                    Field 2 contains the location number of the indexed field.</span>
</span><span id="File-612"><a href="#File-612"><span class="linenos"> 612</span></a><span class="sd">                2. For I-type indexes: Field 1 contains I as the first character,</span>
</span><span id="File-613"><a href="#File-613"><span class="linenos"> 613</span></a><span class="sd">                    Field 2 contains the I-type expression, and the compiled I-type resides in field 19 and onward.</span>
</span><span id="File-614"><a href="#File-614"><span class="linenos"> 614</span></a><span class="sd">                3. For both types:</span>
</span><span id="File-615"><a href="#File-615"><span class="linenos"> 615</span></a><span class="sd">                    2nd value of Field 1 indicates if the index needs to be rebuilt. It is an empty string otherwise.</span>
</span><span id="File-616"><a href="#File-616"><span class="linenos"> 616</span></a><span class="sd">                    3rd value of Field 1 is set if the index is null-suppressed. It is an empty string otherwise.</span>
</span><span id="File-617"><a href="#File-617"><span class="linenos"> 617</span></a><span class="sd">                    4th value of Field 1 is set if automatic updates are disabled. It is an empty string otherwise.</span>
</span><span id="File-618"><a href="#File-618"><span class="linenos"> 618</span></a><span class="sd">                    6th value of Field 1 contains an S for single valued indices or M for a multivalued index.</span>
</span><span id="File-619"><a href="#File-619"><span class="linenos"> 619</span></a>
</span><span id="File-620"><a href="#File-620"><span class="linenos"> 620</span></a><span class="sd">        Raises:</span>
</span><span id="File-621"><a href="#File-621"><span class="linenos"> 621</span></a><span class="sd">            UOError</span>
</span><span id="File-622"><a href="#File-622"><span class="linenos"> 622</span></a>
</span><span id="File-623"><a href="#File-623"><span class="linenos"> 623</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-624"><a href="#File-624"><span class="linenos"> 624</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">index_name</span><span class="p">)</span>
</span><span id="File-625"><a href="#File-625"><span class="linenos"> 625</span></a>
</span><span id="File-626"><a href="#File-626"><span class="linenos"> 626</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File-627"><a href="#File-627"><span class="linenos"> 627</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-628"><a href="#File-628"><span class="linenos"> 628</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-629"><a href="#File-629"><span class="linenos"> 629</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-630"><a href="#File-630"><span class="linenos"> 630</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_INDICES</span><span class="p">)</span>
</span><span id="File-631"><a href="#File-631"><span class="linenos"> 631</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File-632"><a href="#File-632"><span class="linenos"> 632</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">index_name</span><span class="p">))</span>
</span><span id="File-633"><a href="#File-633"><span class="linenos"> 633</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">index_name</span><span class="p">))</span>
</span><span id="File-634"><a href="#File-634"><span class="linenos"> 634</span></a>
</span><span id="File-635"><a href="#File-635"><span class="linenos"> 635</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-636"><a href="#File-636"><span class="linenos"> 636</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File-637"><a href="#File-637"><span class="linenos"> 637</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File-638"><a href="#File-638"><span class="linenos"> 638</span></a>
</span><span id="File-639"><a href="#File-639"><span class="linenos"> 639</span></a>            <span class="n">ak_info</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-640"><a href="#File-640"><span class="linenos"> 640</span></a>
</span><span id="File-641"><a href="#File-641"><span class="linenos"> 641</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">ak_info</span><span class="p">)</span>
</span><span id="File-642"><a href="#File-642"><span class="linenos"> 642</span></a>        <span class="k">return</span> <span class="n">ak_info</span>
</span><span id="File-643"><a href="#File-643"><span class="linenos"> 643</span></a>
</span><span id="File-644"><a href="#File-644"><span class="linenos"> 644</span></a>    <span class="k">def</span> <span class="nf">itype</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">i_type_id</span><span class="p">):</span>
</span><span id="File-645"><a href="#File-645"><span class="linenos"> 645</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Evaluates the specified I-descriptor and returns the evaluated string.</span>
</span><span id="File-646"><a href="#File-646"><span class="linenos"> 646</span></a>
</span><span id="File-647"><a href="#File-647"><span class="linenos"> 647</span></a><span class="sd">        Args:</span>
</span><span id="File-648"><a href="#File-648"><span class="linenos"> 648</span></a><span class="sd">            record_id (any): the record id - can be str, bytes, or DynArray.</span>
</span><span id="File-649"><a href="#File-649"><span class="linenos"> 649</span></a><span class="sd">            i_type_id (any): the I-descriptor record id in the dictionary - can be str, bytes, or DynArray.</span>
</span><span id="File-650"><a href="#File-650"><span class="linenos"> 650</span></a>
</span><span id="File-651"><a href="#File-651"><span class="linenos"> 651</span></a><span class="sd">        Returns:</span>
</span><span id="File-652"><a href="#File-652"><span class="linenos"> 652</span></a><span class="sd">            DynArray: the evaluated result.</span>
</span><span id="File-653"><a href="#File-653"><span class="linenos"> 653</span></a>
</span><span id="File-654"><a href="#File-654"><span class="linenos"> 654</span></a><span class="sd">        Raises:</span>
</span><span id="File-655"><a href="#File-655"><span class="linenos"> 655</span></a><span class="sd">          UOError</span>
</span><span id="File-656"><a href="#File-656"><span class="linenos"> 656</span></a>
</span><span id="File-657"><a href="#File-657"><span class="linenos"> 657</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-658"><a href="#File-658"><span class="linenos"> 658</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">i_type_id</span><span class="p">)</span>
</span><span id="File-659"><a href="#File-659"><span class="linenos"> 659</span></a>
</span><span id="File-660"><a href="#File-660"><span class="linenos"> 660</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-661"><a href="#File-661"><span class="linenos"> 661</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-662"><a href="#File-662"><span class="linenos"> 662</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-663"><a href="#File-663"><span class="linenos"> 663</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_ITYPE</span><span class="p">)</span>
</span><span id="File-664"><a href="#File-664"><span class="linenos"> 664</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">))</span>
</span><span id="File-665"><a href="#File-665"><span class="linenos"> 665</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record_id</span><span class="p">))</span>
</span><span id="File-666"><a href="#File-666"><span class="linenos"> 666</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">i_type_id</span><span class="p">))</span>
</span><span id="File-667"><a href="#File-667"><span class="linenos"> 667</span></a>
</span><span id="File-668"><a href="#File-668"><span class="linenos"> 668</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-669"><a href="#File-669"><span class="linenos"> 669</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File-670"><a href="#File-670"><span class="linenos"> 670</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File-671"><a href="#File-671"><span class="linenos"> 671</span></a>
</span><span id="File-672"><a href="#File-672"><span class="linenos"> 672</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-673"><a href="#File-673"><span class="linenos"> 673</span></a>
</span><span id="File-674"><a href="#File-674"><span class="linenos"> 674</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</span><span id="File-675"><a href="#File-675"><span class="linenos"> 675</span></a>        <span class="k">return</span> <span class="n">result</span>
</span><span id="File-676"><a href="#File-676"><span class="linenos"> 676</span></a>
</span><span id="File-677"><a href="#File-677"><span class="linenos"> 677</span></a>    <span class="k">def</span> <span class="nf">read_named_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_list</span><span class="p">,</span> <span class="n">field_list</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="File-678"><a href="#File-678"><span class="linenos"> 678</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Read a list of named fields on multiple records.</span>
</span><span id="File-679"><a href="#File-679"><span class="linenos"> 679</span></a>
</span><span id="File-680"><a href="#File-680"><span class="linenos"> 680</span></a><span class="sd">        Note:</span>
</span><span id="File-681"><a href="#File-681"><span class="linenos"> 681</span></a><span class="sd">            fields can be of D-type or I/V type.</span>
</span><span id="File-682"><a href="#File-682"><span class="linenos"> 682</span></a><span class="sd">            If field_list contains names that are not defined in the dictionary, these names are replaced by @ID.</span>
</span><span id="File-683"><a href="#File-683"><span class="linenos"> 683</span></a><span class="sd">            If a field has conv code on it, an oconv is automatically performed on its internal value to get the</span>
</span><span id="File-684"><a href="#File-684"><span class="linenos"> 684</span></a><span class="sd">            converted output value.</span>
</span><span id="File-685"><a href="#File-685"><span class="linenos"> 685</span></a>
</span><span id="File-686"><a href="#File-686"><span class="linenos"> 686</span></a><span class="sd">        Args:</span>
</span><span id="File-687"><a href="#File-687"><span class="linenos"> 687</span></a><span class="sd">            id_list: a list of record ids.</span>
</span><span id="File-688"><a href="#File-688"><span class="linenos"> 688</span></a><span class="sd">            field_list: a list of field names.</span>
</span><span id="File-689"><a href="#File-689"><span class="linenos"> 689</span></a><span class="sd">            lock_flag (int, optional): 0 (default, no lock), or [LOCK_EXCLUSIVE or LOCK_SHARED] [+ LOCK_WAIT]</span>
</span><span id="File-690"><a href="#File-690"><span class="linenos"> 690</span></a>
</span><span id="File-691"><a href="#File-691"><span class="linenos"> 691</span></a><span class="sd">        Returns:</span>
</span><span id="File-692"><a href="#File-692"><span class="linenos"> 692</span></a><span class="sd">            tuple: a tuple consisting of four lists: 1. response code list, 2. status code list, 3. record id list,</span>
</span><span id="File-693"><a href="#File-693"><span class="linenos"> 693</span></a><span class="sd">                    4. record list.</span>
</span><span id="File-694"><a href="#File-694"><span class="linenos"> 694</span></a>
</span><span id="File-695"><a href="#File-695"><span class="linenos"> 695</span></a><span class="sd">        Raises:</span>
</span><span id="File-696"><a href="#File-696"><span class="linenos"> 696</span></a><span class="sd">            UOFileError</span>
</span><span id="File-697"><a href="#File-697"><span class="linenos"> 697</span></a>
</span><span id="File-698"><a href="#File-698"><span class="linenos"> 698</span></a><span class="sd">        Examples:</span>
</span><span id="File-699"><a href="#File-699"><span class="linenos"> 699</span></a><span class="sd">            &gt;&gt;&gt; with File(&quot;RENTAL_DETAILS&quot;) as test_file:</span>
</span><span id="File-700"><a href="#File-700"><span class="linenos"> 700</span></a><span class="sd">            &gt;&gt;&gt;     field_list = [&quot;FULL_NAME&quot;, &quot;ACTUAL_RETURN_DATE&quot;, &quot;BALANCE_DUE&quot;]</span>
</span><span id="File-701"><a href="#File-701"><span class="linenos"> 701</span></a><span class="sd">            &gt;&gt;&gt;     id_list = [&#39;1084&#39;, &#39;1307&#39;, &#39;1976&#39;]</span>
</span><span id="File-702"><a href="#File-702"><span class="linenos"> 702</span></a><span class="sd">            &gt;&gt;&gt;     read_rs = test_file.read_named_fields(id_list, field_list)</span>
</span><span id="File-703"><a href="#File-703"><span class="linenos"> 703</span></a><span class="sd">            &gt;&gt;&gt;     for l in read_rs:</span>
</span><span id="File-704"><a href="#File-704"><span class="linenos"> 704</span></a><span class="sd">            &gt;&gt;&gt;         print(l)</span>
</span><span id="File-705"><a href="#File-705"><span class="linenos"> 705</span></a><span class="sd">            [&#39;0&#39;, &#39;0&#39;, &#39;0&#39;]</span>
</span><span id="File-706"><a href="#File-706"><span class="linenos"> 706</span></a><span class="sd">            [&#39;0&#39;, &#39;0&#39;, &#39;0&#39;]</span>
</span><span id="File-707"><a href="#File-707"><span class="linenos"> 707</span></a><span class="sd">            [&#39;1084&#39;, &#39;1307&#39;, &#39;1976&#39;]</span>
</span><span id="File-708"><a href="#File-708"><span class="linenos"> 708</span></a><span class="sd">            [[&#39;Karen McGlone&#39;, [&#39;03/29/2010&#39;, &#39;03/30/2010&#39;, &#39;03/31/2010&#39;, &#39;03/30/2010&#39;], &#39;3.50&#39;],</span>
</span><span id="File-709"><a href="#File-709"><span class="linenos"> 709</span></a><span class="sd">            [&#39;Jamie Klink&#39;, [&#39;05/05/2010&#39;, &#39;05/07/2010&#39;, &#39;05/05/2010&#39;, &#39;05/07/2010&#39;, &#39;05/05/2010&#39;], &#39;4.82&#39;],</span>
</span><span id="File-710"><a href="#File-710"><span class="linenos"> 710</span></a><span class="sd">            [&#39;Mo Evans&#39;, [&#39;08/23/2010&#39;, &#39;08/20/2010&#39;, &#39;08/26/2010&#39;, &#39;08/22/2010&#39;, &#39;08/25/2010&#39;, &#39;08/22/2010&#39;], &#39;19.04&#39;]]</span>
</span><span id="File-711"><a href="#File-711"><span class="linenos"> 711</span></a>
</span><span id="File-712"><a href="#File-712"><span class="linenos"> 712</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-713"><a href="#File-713"><span class="linenos"> 713</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">id_list</span><span class="p">,</span> <span class="n">field_list</span><span class="p">,</span> <span class="n">lock_flag</span><span class="p">)</span>
</span><span id="File-714"><a href="#File-714"><span class="linenos"> 714</span></a>
</span><span id="File-715"><a href="#File-715"><span class="linenos"> 715</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File-716"><a href="#File-716"><span class="linenos"> 716</span></a>
</span><span id="File-717"><a href="#File-717"><span class="linenos"> 717</span></a>        <span class="n">id_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">id_list</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-718"><a href="#File-718"><span class="linenos"> 718</span></a>
</span><span id="File-719"><a href="#File-719"><span class="linenos"> 719</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-720"><a href="#File-720"><span class="linenos"> 720</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-721"><a href="#File-721"><span class="linenos"> 721</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-722"><a href="#File-722"><span class="linenos"> 722</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_READNAMEDFIELDSET</span><span class="p">)</span>
</span><span id="File-723"><a href="#File-723"><span class="linenos"> 723</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File-724"><a href="#File-724"><span class="linenos"> 724</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_read_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File-725"><a href="#File-725"><span class="linenos"> 725</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">id_set</span><span class="p">))</span>
</span><span id="File-726"><a href="#File-726"><span class="linenos"> 726</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="File-727"><a href="#File-727"><span class="linenos"> 727</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">field_list</span><span class="p">))</span>
</span><span id="File-728"><a href="#File-728"><span class="linenos"> 728</span></a>
</span><span id="File-729"><a href="#File-729"><span class="linenos"> 729</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-730"><a href="#File-730"><span class="linenos"> 730</span></a>
</span><span id="File-731"><a href="#File-731"><span class="linenos"> 731</span></a>            <span class="n">resp_code_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-732"><a href="#File-732"><span class="linenos"> 732</span></a>            <span class="n">status_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-733"><a href="#File-733"><span class="linenos"> 733</span></a>            <span class="n">return_data_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-734"><a href="#File-734"><span class="linenos"> 734</span></a>
</span><span id="File-735"><a href="#File-735"><span class="linenos"> 735</span></a>            <span class="n">resp_codes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">resp_code_set</span><span class="o">.</span><span class="n">list</span><span class="p">))</span>
</span><span id="File-736"><a href="#File-736"><span class="linenos"> 736</span></a>            <span class="n">status_codes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">status_set</span><span class="o">.</span><span class="n">list</span><span class="p">))</span>
</span><span id="File-737"><a href="#File-737"><span class="linenos"> 737</span></a>
</span><span id="File-738"><a href="#File-738"><span class="linenos"> 738</span></a>            <span class="n">resp_error_codes</span> <span class="o">=</span> <span class="p">[</span><span class="n">key</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">resp_codes</span> <span class="k">if</span> <span class="n">key</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">]</span>
</span><span id="File-739"><a href="#File-739"><span class="linenos"> 739</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">resp_error_codes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File-740"><a href="#File-740"><span class="linenos"> 740</span></a>                <span class="k">raise</span> <span class="n">UOFileError</span><span class="p">(</span>
</span><span id="File-741"><a href="#File-741"><span class="linenos"> 741</span></a>                    <span class="n">code</span><span class="o">=</span><span class="n">resp_error_codes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
</span><span id="File-742"><a href="#File-742"><span class="linenos"> 742</span></a>                    <span class="n">obj</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span>
</span><span id="File-743"><a href="#File-743"><span class="linenos"> 743</span></a>                    <span class="n">response_codes</span><span class="o">=</span><span class="n">resp_codes</span><span class="p">,</span>
</span><span id="File-744"><a href="#File-744"><span class="linenos"> 744</span></a>                    <span class="n">status_codes</span><span class="o">=</span><span class="n">status_codes</span><span class="p">,</span>
</span><span id="File-745"><a href="#File-745"><span class="linenos"> 745</span></a>                    <span class="n">id_list</span><span class="o">=</span><span class="n">id_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File-746"><a href="#File-746"><span class="linenos"> 746</span></a>                <span class="p">)</span>
</span><span id="File-747"><a href="#File-747"><span class="linenos"> 747</span></a>
</span><span id="File-748"><a href="#File-748"><span class="linenos"> 748</span></a>            <span class="n">result_set</span> <span class="o">=</span> <span class="p">(</span><span class="n">resp_codes</span><span class="p">,</span> <span class="n">status_codes</span><span class="p">,</span> <span class="n">id_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span> <span class="n">return_data_set</span><span class="o">.</span><span class="n">list</span><span class="p">)</span>
</span><span id="File-749"><a href="#File-749"><span class="linenos"> 749</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">result_set</span><span class="p">)</span>
</span><span id="File-750"><a href="#File-750"><span class="linenos"> 750</span></a>        <span class="k">return</span> <span class="n">result_set</span>
</span><span id="File-751"><a href="#File-751"><span class="linenos"> 751</span></a>
</span><span id="File-752"><a href="#File-752"><span class="linenos"> 752</span></a>    <span class="k">def</span> <span class="nf">write_named_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_list</span><span class="p">,</span> <span class="n">field_list</span><span class="p">,</span> <span class="n">field_data_list</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="File-753"><a href="#File-753"><span class="linenos"> 753</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Write a list of named fields to multiple records.</span>
</span><span id="File-754"><a href="#File-754"><span class="linenos"> 754</span></a>
</span><span id="File-755"><a href="#File-755"><span class="linenos"> 755</span></a><span class="sd">        Note:</span>
</span><span id="File-756"><a href="#File-756"><span class="linenos"> 756</span></a><span class="sd">            If field_list contains names that are not defined in the dictionary, these names are ignored.</span>
</span><span id="File-757"><a href="#File-757"><span class="linenos"> 757</span></a><span class="sd">            If a field is of I/V type or the record id itself, it is ignored.</span>
</span><span id="File-758"><a href="#File-758"><span class="linenos"> 758</span></a><span class="sd">            If a field has CONV code on it, an iconv is automatically performed to use its internal value for the write.</span>
</span><span id="File-759"><a href="#File-759"><span class="linenos"> 759</span></a>
</span><span id="File-760"><a href="#File-760"><span class="linenos"> 760</span></a><span class="sd">        Args:</span>
</span><span id="File-761"><a href="#File-761"><span class="linenos"> 761</span></a><span class="sd">            id_list: a list of record ids.</span>
</span><span id="File-762"><a href="#File-762"><span class="linenos"> 762</span></a><span class="sd">            field_list: a list of field names.</span>
</span><span id="File-763"><a href="#File-763"><span class="linenos"> 763</span></a><span class="sd">            field_data_list: a list of DynArray consisting of all the field values.</span>
</span><span id="File-764"><a href="#File-764"><span class="linenos"> 764</span></a><span class="sd">            lock_flag (int, optional): 0 (default), LOCK_RETAIN, LOCK_WAIT, or LOCK_RETAIN + LOCK_WAIT</span>
</span><span id="File-765"><a href="#File-765"><span class="linenos"> 765</span></a>
</span><span id="File-766"><a href="#File-766"><span class="linenos"> 766</span></a><span class="sd">        Returns:</span>
</span><span id="File-767"><a href="#File-767"><span class="linenos"> 767</span></a><span class="sd">            tuple: a tuple consisting of 4 lists: 1. response code list, 2. status code list, 3. record id list,</span>
</span><span id="File-768"><a href="#File-768"><span class="linenos"> 768</span></a><span class="sd">                    4. field values list.</span>
</span><span id="File-769"><a href="#File-769"><span class="linenos"> 769</span></a>
</span><span id="File-770"><a href="#File-770"><span class="linenos"> 770</span></a><span class="sd">        Raises:</span>
</span><span id="File-771"><a href="#File-771"><span class="linenos"> 771</span></a><span class="sd">            UOError</span>
</span><span id="File-772"><a href="#File-772"><span class="linenos"> 772</span></a>
</span><span id="File-773"><a href="#File-773"><span class="linenos"> 773</span></a><span class="sd">        Examples:</span>
</span><span id="File-774"><a href="#File-774"><span class="linenos"> 774</span></a><span class="sd">            &gt;&gt;&gt; with File(&quot;RENTAL_DETAILS&quot;) as test_file:</span>
</span><span id="File-775"><a href="#File-775"><span class="linenos"> 775</span></a><span class="sd">            &gt;&gt;&gt;     field_list = [&quot;FULL_NAME&quot;, &quot;ACTUAL_RETURN_DATE&quot;, &quot;BALANCE_DUE&quot;]</span>
</span><span id="File-776"><a href="#File-776"><span class="linenos"> 776</span></a><span class="sd">            &gt;&gt;&gt;     id_list = [&#39;1084&#39;, &#39;1307&#39;, &#39;1976&#39;]</span>
</span><span id="File-777"><a href="#File-777"><span class="linenos"> 777</span></a><span class="sd">            &gt;&gt;&gt;     field_value_list = [[&#39;Karen McGlone&#39;, [&#39;03/29/2010&#39;, &#39;03/30/2010&#39;, &#39;03/31/2010&#39;, &#39;03/30/2010&#39;],</span>
</span><span id="File-778"><a href="#File-778"><span class="linenos"> 778</span></a><span class="sd">            &#39;3.50&#39;], [&#39;Jamie Klink&#39;, [&#39;05/05/2010&#39;, &#39;05/07/2010&#39;, &#39;05/05/2010&#39;, &#39;05/07/2010&#39;, &#39;05/05/2010&#39;], &#39;4.82&#39;],</span>
</span><span id="File-779"><a href="#File-779"><span class="linenos"> 779</span></a><span class="sd">            [&#39;Mo Evans&#39;, [&#39;08/23/2010&#39;, &#39;08/20/2010&#39;, &#39;08/26/2010&#39;, &#39;08/22/2010&#39;, &#39;08/25/2010&#39;, &#39;08/22/2010&#39;],&#39;19.04&#39;]]</span>
</span><span id="File-780"><a href="#File-780"><span class="linenos"> 780</span></a><span class="sd">            &gt;&gt;&gt;     write_rs = test_file.write_named_fields(id_list, field_list, field_value_list)</span>
</span><span id="File-781"><a href="#File-781"><span class="linenos"> 781</span></a><span class="sd">            &gt;&gt;&gt;     for l in write_rs:</span>
</span><span id="File-782"><a href="#File-782"><span class="linenos"> 782</span></a><span class="sd">            &gt;&gt;&gt;         print(l)</span>
</span><span id="File-783"><a href="#File-783"><span class="linenos"> 783</span></a><span class="sd">            [&#39;0&#39;, &#39;0&#39;, &#39;0&#39;]</span>
</span><span id="File-784"><a href="#File-784"><span class="linenos"> 784</span></a><span class="sd">            [&#39;0&#39;, &#39;0&#39;, &#39;0&#39;]</span>
</span><span id="File-785"><a href="#File-785"><span class="linenos"> 785</span></a><span class="sd">            [&#39;1084&#39;, &#39;1307&#39;, &#39;1976&#39;]</span>
</span><span id="File-786"><a href="#File-786"><span class="linenos"> 786</span></a><span class="sd">            [[&#39;Karen McGlone&#39;, [&#39;03/29/2010&#39;, &#39;03/30/2010&#39;, &#39;03/31/2010&#39;, &#39;03/30/2010&#39;], &#39;3.50&#39;], [&#39;Jamie Klink&#39;,</span>
</span><span id="File-787"><a href="#File-787"><span class="linenos"> 787</span></a><span class="sd">            [&#39;05/05/2010&#39;, &#39;05/07/2010&#39;, &#39;05/05/2010&#39;, &#39;05/07/2010&#39;, &#39;05/05/2010&#39;], &#39;4.82&#39;], [&#39;Mo Evans&#39;,</span>
</span><span id="File-788"><a href="#File-788"><span class="linenos"> 788</span></a><span class="sd">            [&#39;08/23/2010&#39;, &#39;08/20/2010&#39;, &#39;08/26/2010&#39;, &#39;08/22/2010&#39;, &#39;08/25/2010&#39;, &#39;08/22/2010&#39;], &#39;19.04&#39;]]</span>
</span><span id="File-789"><a href="#File-789"><span class="linenos"> 789</span></a>
</span><span id="File-790"><a href="#File-790"><span class="linenos"> 790</span></a>
</span><span id="File-791"><a href="#File-791"><span class="linenos"> 791</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-792"><a href="#File-792"><span class="linenos"> 792</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">id_list</span><span class="p">,</span> <span class="n">field_list</span><span class="p">,</span> <span class="n">field_data_list</span><span class="p">,</span> <span class="n">lock_flag</span><span class="p">)</span>
</span><span id="File-793"><a href="#File-793"><span class="linenos"> 793</span></a>
</span><span id="File-794"><a href="#File-794"><span class="linenos"> 794</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File-795"><a href="#File-795"><span class="linenos"> 795</span></a>
</span><span id="File-796"><a href="#File-796"><span class="linenos"> 796</span></a>        <span class="n">id_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">id_list</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-797"><a href="#File-797"><span class="linenos"> 797</span></a>        <span class="n">field_data_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">field_data_list</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-798"><a href="#File-798"><span class="linenos"> 798</span></a>
</span><span id="File-799"><a href="#File-799"><span class="linenos"> 799</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-800"><a href="#File-800"><span class="linenos"> 800</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-801"><a href="#File-801"><span class="linenos"> 801</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-802"><a href="#File-802"><span class="linenos"> 802</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_WRITENAMEDFIELDSET</span><span class="p">)</span>
</span><span id="File-803"><a href="#File-803"><span class="linenos"> 803</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File-804"><a href="#File-804"><span class="linenos"> 804</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_write_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File-805"><a href="#File-805"><span class="linenos"> 805</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">id_set</span><span class="p">))</span>
</span><span id="File-806"><a href="#File-806"><span class="linenos"> 806</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">field_data_set</span><span class="p">))</span>
</span><span id="File-807"><a href="#File-807"><span class="linenos"> 807</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">field_list</span><span class="p">))</span>
</span><span id="File-808"><a href="#File-808"><span class="linenos"> 808</span></a>
</span><span id="File-809"><a href="#File-809"><span class="linenos"> 809</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-810"><a href="#File-810"><span class="linenos"> 810</span></a>
</span><span id="File-811"><a href="#File-811"><span class="linenos"> 811</span></a>            <span class="n">resp_code_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-812"><a href="#File-812"><span class="linenos"> 812</span></a>            <span class="n">status_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-813"><a href="#File-813"><span class="linenos"> 813</span></a>            <span class="n">result_set</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="File-814"><a href="#File-814"><span class="linenos"> 814</span></a>                <span class="n">resp_code_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File-815"><a href="#File-815"><span class="linenos"> 815</span></a>                <span class="n">status_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File-816"><a href="#File-816"><span class="linenos"> 816</span></a>                <span class="n">id_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File-817"><a href="#File-817"><span class="linenos"> 817</span></a>                <span class="n">field_data_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File-818"><a href="#File-818"><span class="linenos"> 818</span></a>            <span class="p">)</span>
</span><span id="File-819"><a href="#File-819"><span class="linenos"> 819</span></a>
</span><span id="File-820"><a href="#File-820"><span class="linenos"> 820</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">result_set</span><span class="p">)</span>
</span><span id="File-821"><a href="#File-821"><span class="linenos"> 821</span></a>        <span class="k">return</span> <span class="n">result_set</span>
</span><span id="File-822"><a href="#File-822"><span class="linenos"> 822</span></a>
</span><span id="File-823"><a href="#File-823"><span class="linenos"> 823</span></a>    <span class="k">def</span> <span class="nf">read_records</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_list</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="File-824"><a href="#File-824"><span class="linenos"> 824</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Read multiple records from the file.</span>
</span><span id="File-825"><a href="#File-825"><span class="linenos"> 825</span></a>
</span><span id="File-826"><a href="#File-826"><span class="linenos"> 826</span></a><span class="sd">        Args:</span>
</span><span id="File-827"><a href="#File-827"><span class="linenos"> 827</span></a><span class="sd">            id_list: a list of record ids.</span>
</span><span id="File-828"><a href="#File-828"><span class="linenos"> 828</span></a><span class="sd">            lock_flag (int, optional): 0 (default, no lock), or [LOCK_EXCLUSIVE or LOCK_SHARED] [+ LOCK_WAIT]</span>
</span><span id="File-829"><a href="#File-829"><span class="linenos"> 829</span></a>
</span><span id="File-830"><a href="#File-830"><span class="linenos"> 830</span></a><span class="sd">        Returns:</span>
</span><span id="File-831"><a href="#File-831"><span class="linenos"> 831</span></a><span class="sd">            tuple: a tuple consisting of four lists: 1. response code list, 2. status code list, 3. record id list,</span>
</span><span id="File-832"><a href="#File-832"><span class="linenos"> 832</span></a><span class="sd">                    4. record list.</span>
</span><span id="File-833"><a href="#File-833"><span class="linenos"> 833</span></a>
</span><span id="File-834"><a href="#File-834"><span class="linenos"> 834</span></a><span class="sd">        Raises:</span>
</span><span id="File-835"><a href="#File-835"><span class="linenos"> 835</span></a><span class="sd">            UOError</span>
</span><span id="File-836"><a href="#File-836"><span class="linenos"> 836</span></a>
</span><span id="File-837"><a href="#File-837"><span class="linenos"> 837</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-838"><a href="#File-838"><span class="linenos"> 838</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">id_list</span><span class="p">,</span> <span class="n">lock_flag</span><span class="p">)</span>
</span><span id="File-839"><a href="#File-839"><span class="linenos"> 839</span></a>
</span><span id="File-840"><a href="#File-840"><span class="linenos"> 840</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File-841"><a href="#File-841"><span class="linenos"> 841</span></a>
</span><span id="File-842"><a href="#File-842"><span class="linenos"> 842</span></a>        <span class="n">id_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">id_list</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-843"><a href="#File-843"><span class="linenos"> 843</span></a>
</span><span id="File-844"><a href="#File-844"><span class="linenos"> 844</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-845"><a href="#File-845"><span class="linenos"> 845</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-846"><a href="#File-846"><span class="linenos"> 846</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-847"><a href="#File-847"><span class="linenos"> 847</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_READSET</span><span class="p">)</span>
</span><span id="File-848"><a href="#File-848"><span class="linenos"> 848</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File-849"><a href="#File-849"><span class="linenos"> 849</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_read_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File-850"><a href="#File-850"><span class="linenos"> 850</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">id_set</span><span class="p">))</span>
</span><span id="File-851"><a href="#File-851"><span class="linenos"> 851</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="File-852"><a href="#File-852"><span class="linenos"> 852</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="File-853"><a href="#File-853"><span class="linenos"> 853</span></a>
</span><span id="File-854"><a href="#File-854"><span class="linenos"> 854</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-855"><a href="#File-855"><span class="linenos"> 855</span></a>
</span><span id="File-856"><a href="#File-856"><span class="linenos"> 856</span></a>            <span class="n">resp_code_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-857"><a href="#File-857"><span class="linenos"> 857</span></a>            <span class="n">status_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-858"><a href="#File-858"><span class="linenos"> 858</span></a>            <span class="n">return_data_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-859"><a href="#File-859"><span class="linenos"> 859</span></a>            <span class="n">result_set</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="File-860"><a href="#File-860"><span class="linenos"> 860</span></a>                <span class="n">resp_code_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File-861"><a href="#File-861"><span class="linenos"> 861</span></a>                <span class="n">status_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File-862"><a href="#File-862"><span class="linenos"> 862</span></a>                <span class="n">id_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File-863"><a href="#File-863"><span class="linenos"> 863</span></a>                <span class="n">return_data_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File-864"><a href="#File-864"><span class="linenos"> 864</span></a>            <span class="p">)</span>
</span><span id="File-865"><a href="#File-865"><span class="linenos"> 865</span></a>
</span><span id="File-866"><a href="#File-866"><span class="linenos"> 866</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">result_set</span><span class="p">)</span>
</span><span id="File-867"><a href="#File-867"><span class="linenos"> 867</span></a>        <span class="k">return</span> <span class="n">result_set</span>
</span><span id="File-868"><a href="#File-868"><span class="linenos"> 868</span></a>
</span><span id="File-869"><a href="#File-869"><span class="linenos"> 869</span></a>    <span class="k">def</span> <span class="nf">write_records</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_list</span><span class="p">,</span> <span class="n">record_list</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="File-870"><a href="#File-870"><span class="linenos"> 870</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Write multiple records into the file.</span>
</span><span id="File-871"><a href="#File-871"><span class="linenos"> 871</span></a>
</span><span id="File-872"><a href="#File-872"><span class="linenos"> 872</span></a><span class="sd">        Args:</span>
</span><span id="File-873"><a href="#File-873"><span class="linenos"> 873</span></a><span class="sd">            id_list: a list of record ids.</span>
</span><span id="File-874"><a href="#File-874"><span class="linenos"> 874</span></a><span class="sd">            record_list: a list of records.</span>
</span><span id="File-875"><a href="#File-875"><span class="linenos"> 875</span></a><span class="sd">            lock_flag (int, optional): 0 (default), LOCK_RETAIN, LOCK_WAIT, or LOCK_RETAIN + LOCK_WAIT</span>
</span><span id="File-876"><a href="#File-876"><span class="linenos"> 876</span></a>
</span><span id="File-877"><a href="#File-877"><span class="linenos"> 877</span></a><span class="sd">        Returns:</span>
</span><span id="File-878"><a href="#File-878"><span class="linenos"> 878</span></a><span class="sd">            tuple: a tuple consisting of four lists: 1. response code list, 2. status code list, 3. record id list,</span>
</span><span id="File-879"><a href="#File-879"><span class="linenos"> 879</span></a><span class="sd">                    4. record list.</span>
</span><span id="File-880"><a href="#File-880"><span class="linenos"> 880</span></a>
</span><span id="File-881"><a href="#File-881"><span class="linenos"> 881</span></a><span class="sd">        Raises:</span>
</span><span id="File-882"><a href="#File-882"><span class="linenos"> 882</span></a><span class="sd">            UOError</span>
</span><span id="File-883"><a href="#File-883"><span class="linenos"> 883</span></a>
</span><span id="File-884"><a href="#File-884"><span class="linenos"> 884</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-885"><a href="#File-885"><span class="linenos"> 885</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">id_list</span><span class="p">,</span> <span class="n">record_list</span><span class="p">,</span> <span class="n">lock_flag</span><span class="p">)</span>
</span><span id="File-886"><a href="#File-886"><span class="linenos"> 886</span></a>
</span><span id="File-887"><a href="#File-887"><span class="linenos"> 887</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File-888"><a href="#File-888"><span class="linenos"> 888</span></a>
</span><span id="File-889"><a href="#File-889"><span class="linenos"> 889</span></a>        <span class="n">id_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">id_list</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-890"><a href="#File-890"><span class="linenos"> 890</span></a>        <span class="n">record_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">record_list</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-891"><a href="#File-891"><span class="linenos"> 891</span></a>
</span><span id="File-892"><a href="#File-892"><span class="linenos"> 892</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-893"><a href="#File-893"><span class="linenos"> 893</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-894"><a href="#File-894"><span class="linenos"> 894</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-895"><a href="#File-895"><span class="linenos"> 895</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_WRITESET</span><span class="p">)</span>
</span><span id="File-896"><a href="#File-896"><span class="linenos"> 896</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File-897"><a href="#File-897"><span class="linenos"> 897</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_write_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File-898"><a href="#File-898"><span class="linenos"> 898</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">id_set</span><span class="p">))</span>
</span><span id="File-899"><a href="#File-899"><span class="linenos"> 899</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">record_set</span><span class="p">))</span>
</span><span id="File-900"><a href="#File-900"><span class="linenos"> 900</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="File-901"><a href="#File-901"><span class="linenos"> 901</span></a>
</span><span id="File-902"><a href="#File-902"><span class="linenos"> 902</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-903"><a href="#File-903"><span class="linenos"> 903</span></a>
</span><span id="File-904"><a href="#File-904"><span class="linenos"> 904</span></a>            <span class="n">resp_code_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-905"><a href="#File-905"><span class="linenos"> 905</span></a>            <span class="n">status_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-906"><a href="#File-906"><span class="linenos"> 906</span></a>            <span class="n">result_set</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="File-907"><a href="#File-907"><span class="linenos"> 907</span></a>                <span class="n">resp_code_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File-908"><a href="#File-908"><span class="linenos"> 908</span></a>                <span class="n">status_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File-909"><a href="#File-909"><span class="linenos"> 909</span></a>                <span class="n">id_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File-910"><a href="#File-910"><span class="linenos"> 910</span></a>                <span class="n">record_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File-911"><a href="#File-911"><span class="linenos"> 911</span></a>            <span class="p">)</span>
</span><span id="File-912"><a href="#File-912"><span class="linenos"> 912</span></a>
</span><span id="File-913"><a href="#File-913"><span class="linenos"> 913</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">result_set</span><span class="p">)</span>
</span><span id="File-914"><a href="#File-914"><span class="linenos"> 914</span></a>        <span class="k">return</span> <span class="n">result_set</span>
</span><span id="File-915"><a href="#File-915"><span class="linenos"> 915</span></a>
</span><span id="File-916"><a href="#File-916"><span class="linenos"> 916</span></a>    <span class="k">def</span> <span class="nf">fileInfoEx</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="File-917"><a href="#File-917"><span class="linenos"> 917</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get information about the specified files configuration, such as the</span>
</span><span id="File-918"><a href="#File-918"><span class="linenos"> 918</span></a><span class="sd">        files parameters, its modulus and load, its operating system file name, and its VOC name.</span>
</span><span id="File-919"><a href="#File-919"><span class="linenos"> 919</span></a><span class="sd">        The information returned depends on the file type and the value of the key.</span>
</span><span id="File-920"><a href="#File-920"><span class="linenos"> 920</span></a>
</span><span id="File-921"><a href="#File-921"><span class="linenos"> 921</span></a><span class="sd">        After calling the method fileInfoEx, you can access these attributes to get their values.</span>
</span><span id="File-922"><a href="#File-922"><span class="linenos"> 922</span></a><span class="sd">        For UV, these attributes will be available:</span>
</span><span id="File-923"><a href="#File-923"><span class="linenos"> 923</span></a><span class="sd">        isFileVar: 1 if file.variable is a valid file variable; 0 otherwise.</span>
</span><span id="File-924"><a href="#File-924"><span class="linenos"> 924</span></a><span class="sd">        vocName: VOC name of the file.</span>
</span><span id="File-925"><a href="#File-925"><span class="linenos"> 925</span></a><span class="sd">        pathName: Path name of the file.</span>
</span><span id="File-926"><a href="#File-926"><span class="linenos"> 926</span></a><span class="sd">        type: File type: 1 Static hashed | 3 Dynamic hashed | 4 Type 1 | 5 Sequential | 7 Distributed and Multivolume</span>
</span><span id="File-927"><a href="#File-927"><span class="linenos"> 927</span></a><span class="sd">        hashAlg: Hashing algorithm: 2 for GENERAL, 3 for SEQ.NUM.</span>
</span><span id="File-928"><a href="#File-928"><span class="linenos"> 928</span></a><span class="sd">        modulus: Current modulus.</span>
</span><span id="File-929"><a href="#File-929"><span class="linenos"> 929</span></a><span class="sd">        minModulus: Minimum modulus.</span>
</span><span id="File-930"><a href="#File-930"><span class="linenos"> 930</span></a><span class="sd">        groupSize: Group size, in 1-KB units.</span>
</span><span id="File-931"><a href="#File-931"><span class="linenos"> 931</span></a><span class="sd">        largeRecordSize: Large record size.</span>
</span><span id="File-932"><a href="#File-932"><span class="linenos"> 932</span></a><span class="sd">        mergeLoad: Merge load parameter.</span>
</span><span id="File-933"><a href="#File-933"><span class="linenos"> 933</span></a><span class="sd">        splitLoad: Split load parameter.</span>
</span><span id="File-934"><a href="#File-934"><span class="linenos"> 934</span></a><span class="sd">        currentLoad: Current loading of the file (%).</span>
</span><span id="File-935"><a href="#File-935"><span class="linenos"> 935</span></a><span class="sd">        nodeName: Empty string if the file resides on the local system. Otherwise, the name of the node where the file resides.</span>
</span><span id="File-936"><a href="#File-936"><span class="linenos"> 936</span></a><span class="sd">        isAKFile: 1 if secondary indexes exist on the file; 0 otherwise.</span>
</span><span id="File-937"><a href="#File-937"><span class="linenos"> 937</span></a><span class="sd">        currentLine: Current line number.</span>
</span><span id="File-938"><a href="#File-938"><span class="linenos"> 938</span></a><span class="sd">        partNum: For a distributed file, returns the list of currently open part numbers.</span>
</span><span id="File-939"><a href="#File-939"><span class="linenos"> 939</span></a><span class="sd">        fileStatus: For a distributed file, returns the list of status codes indicating whether the last I/O operation succeeded</span>
</span><span id="File-940"><a href="#File-940"><span class="linenos"> 940</span></a><span class="sd">                    or failed for each part. A value of 1 indicates the corresponding part file is not open.</span>
</span><span id="File-941"><a href="#File-941"><span class="linenos"> 941</span></a><span class="sd">        recoveryType: 1 if the file is marked as recoverable, 0 if it is not. Returns an empty string</span>
</span><span id="File-942"><a href="#File-942"><span class="linenos"> 942</span></a><span class="sd">                      if recovery is not supported on the file type (such as type 1 and type 19 files).</span>
</span><span id="File-943"><a href="#File-943"><span class="linenos"> 943</span></a><span class="sd">        recoveryId: Always returns an empty string.</span>
</span><span id="File-944"><a href="#File-944"><span class="linenos"> 944</span></a><span class="sd">        isFixedModulus: Always returns 0.</span>
</span><span id="File-945"><a href="#File-945"><span class="linenos"> 945</span></a><span class="sd">        nlsmap: If NLS is enabled, the file map name; otherwise an empty string.</span>
</span><span id="File-946"><a href="#File-946"><span class="linenos"> 946</span></a><span class="sd">                If the map name is the default specified in the uvconfig file, the returned string is the map name followed by the name of the configurable parameter in parentheses.</span>
</span><span id="File-947"><a href="#File-947"><span class="linenos"> 947</span></a><span class="sd">        encryption: Returns a dynamic array containing the following information:</span>
</span><span id="File-948"><a href="#File-948"><span class="linenos"> 948</span></a><span class="sd">                     For a file encrypted with the WHOLERECORD option:</span>
</span><span id="File-949"><a href="#File-949"><span class="linenos"> 949</span></a><span class="sd">                    -1@VM@VM</span>
</span><span id="File-950"><a href="#File-950"><span class="linenos"> 950</span></a><span class="sd">                     For a file encrypted at the field level:</span>
</span><span id="File-951"><a href="#File-951"><span class="linenos"> 951</span></a><span class="sd">                    @VM@VM</span>
</span><span id="File-952"><a href="#File-952"><span class="linenos"> 952</span></a><span class="sd">                    @VM[@FM</span>
</span><span id="File-953"><a href="#File-953"><span class="linenos"> 953</span></a><span class="sd">                    ...@VM]</span>
</span><span id="File-954"><a href="#File-954"><span class="linenos"> 954</span></a><span class="sd">                     Returns an empty string if the file is not encrypted.</span>
</span><span id="File-955"><a href="#File-955"><span class="linenos"> 955</span></a><span class="sd">        repStatus: Return values can be:</span>
</span><span id="File-956"><a href="#File-956"><span class="linenos"> 956</span></a><span class="sd">                    0  The file is not published, subscribed, or subwriteable.</span>
</span><span id="File-957"><a href="#File-957"><span class="linenos"> 957</span></a><span class="sd">                    1  The file is being published.</span>
</span><span id="File-958"><a href="#File-958"><span class="linenos"> 958</span></a><span class="sd">                    2  The file is being subscribed.</span>
</span><span id="File-959"><a href="#File-959"><span class="linenos"> 959</span></a><span class="sd">                    3  The file is subwriteable.</span>
</span><span id="File-960"><a href="#File-960"><span class="linenos"> 960</span></a><span class="sd">                    Note: If U2 Data Replication is not running, this function</span>
</span><span id="File-961"><a href="#File-961"><span class="linenos"> 961</span></a><span class="sd">                    returns 0 for any file used with this function.</span>
</span><span id="File-962"><a href="#File-962"><span class="linenos"> 962</span></a><span class="sd">        For UD, these attributes will be available:</span>
</span><span id="File-963"><a href="#File-963"><span class="linenos"> 963</span></a><span class="sd">        isFileVar: File open status. 1= Open, 0= Not open</span>
</span><span id="File-964"><a href="#File-964"><span class="linenos"> 964</span></a><span class="sd">        vocName: VOC name</span>
</span><span id="File-965"><a href="#File-965"><span class="linenos"> 965</span></a><span class="sd">        pathName: Full path name of file</span>
</span><span id="File-966"><a href="#File-966"><span class="linenos"> 966</span></a><span class="sd">        type: File type.</span>
</span><span id="File-967"><a href="#File-967"><span class="linenos"> 967</span></a><span class="sd">                2 - HASHED</span>
</span><span id="File-968"><a href="#File-968"><span class="linenos"> 968</span></a><span class="sd">                3 - DYNAMIC</span>
</span><span id="File-969"><a href="#File-969"><span class="linenos"> 969</span></a><span class="sd">                4 - DIRECTORY</span>
</span><span id="File-970"><a href="#File-970"><span class="linenos"> 970</span></a><span class="sd">                5 - SEQUENTIAL</span>
</span><span id="File-971"><a href="#File-971"><span class="linenos"> 971</span></a><span class="sd">                7 - NFA</span>
</span><span id="File-972"><a href="#File-972"><span class="linenos"> 972</span></a><span class="sd">                8 - OS</span>
</span><span id="File-973"><a href="#File-973"><span class="linenos"> 973</span></a><span class="sd">                13 - EDA</span>
</span><span id="File-974"><a href="#File-974"><span class="linenos"> 974</span></a><span class="sd">        hashAlg: Hashing file type</span>
</span><span id="File-975"><a href="#File-975"><span class="linenos"> 975</span></a><span class="sd">                HASH &amp; DYNAMI(KEYONLY) Hash type (0, 1, or 3)</span>
</span><span id="File-976"><a href="#File-976"><span class="linenos"> 976</span></a><span class="sd">                DYNAMIC (KEYDATA) Hash type (32 , 33, or 35)</span>
</span><span id="File-977"><a href="#File-977"><span class="linenos"> 977</span></a><span class="sd">                DYNAMIC (WHOLEFILE) Hash type (48, 49, or 51)</span>
</span><span id="File-978"><a href="#File-978"><span class="linenos"> 978</span></a><span class="sd">                OTHERS</span>
</span><span id="File-979"><a href="#File-979"><span class="linenos"> 979</span></a><span class="sd">        modulus: Modulo of file</span>
</span><span id="File-980"><a href="#File-980"><span class="linenos"> 980</span></a><span class="sd">        minModulus: Minimum modulo</span>
</span><span id="File-981"><a href="#File-981"><span class="linenos"> 981</span></a><span class="sd">        groupSize: Group size of file</span>
</span><span id="File-982"><a href="#File-982"><span class="linenos"> 982</span></a><span class="sd">        largeRecordSize: Block size of file</span>
</span><span id="File-983"><a href="#File-983"><span class="linenos"> 983</span></a><span class="sd">        mergeLoad: Merge factor percentage</span>
</span><span id="File-984"><a href="#File-984"><span class="linenos"> 984</span></a><span class="sd">        splitLoad: Split factor percentage</span>
</span><span id="File-985"><a href="#File-985"><span class="linenos"> 985</span></a><span class="sd">        currentLoad: Current load percentage</span>
</span><span id="File-986"><a href="#File-986"><span class="linenos"> 986</span></a><span class="sd">        nodeName: Node name</span>
</span><span id="File-987"><a href="#File-987"><span class="linenos"> 987</span></a><span class="sd">        isAKFile: Does file contain alternate key indexes?</span>
</span><span id="File-988"><a href="#File-988"><span class="linenos"> 988</span></a><span class="sd">        currentLine: Next line number to read or write</span>
</span><span id="File-989"><a href="#File-989"><span class="linenos"> 989</span></a><span class="sd">        partNum: Part number</span>
</span><span id="File-990"><a href="#File-990"><span class="linenos"> 990</span></a><span class="sd">        fileStatus: Status</span>
</span><span id="File-991"><a href="#File-991"><span class="linenos"> 991</span></a><span class="sd">        relname: Filename</span>
</span><span id="File-992"><a href="#File-992"><span class="linenos"> 992</span></a><span class="sd">        blksize: Block size of file</span>
</span><span id="File-993"><a href="#File-993"><span class="linenos"> 993</span></a><span class="sd">        privilege: Access permissions</span>
</span><span id="File-994"><a href="#File-994"><span class="linenos"> 994</span></a><span class="sd">        whichIndex: Index to which the last SETINDEX statement was applied</span>
</span><span id="File-995"><a href="#File-995"><span class="linenos"> 995</span></a><span class="sd">        whatXValue: Index record read by last browsing statement, such as READFWD and READBCK</span>
</span><span id="File-996"><a href="#File-996"><span class="linenos"> 996</span></a><span class="sd">        isRecoverable: File type: recoverable or nonrecoverable</span>
</span><span id="File-997"><a href="#File-997"><span class="linenos"> 997</span></a><span class="sd">        isNumerical: Numeric keys</span>
</span><span id="File-998"><a href="#File-998"><span class="linenos"> 998</span></a><span class="sd">        isReplicated: Type of U2 Data Replication file</span>
</span><span id="File-999"><a href="#File-999"><span class="linenos"> 999</span></a><span class="sd">        beforeUpdateTrigger: BEFORE-UPDATE-TRIGGER catalog program name of the file &lt;xx&gt;.</span>
</span><span id="File-1000"><a href="#File-1000"><span class="linenos">1000</span></a><span class="sd">        beforeDeleteTrigger: BEFORE-DELETE-TRIGGER catalog program name of the file &lt;xx&gt;.</span>
</span><span id="File-1001"><a href="#File-1001"><span class="linenos">1001</span></a><span class="sd">        isEncrypted: Is the file encrypted?</span>
</span><span id="File-1002"><a href="#File-1002"><span class="linenos">1002</span></a><span class="sd">        encinfo: Type of file encryption</span>
</span><span id="File-1003"><a href="#File-1003"><span class="linenos">1003</span></a><span class="sd">        afterUpdateTrigger: AFTER-UPDATE-TRIGGER catalog program name of the file &lt;xx&gt;.</span>
</span><span id="File-1004"><a href="#File-1004"><span class="linenos">1004</span></a><span class="sd">        afterDeleteTrigger: AFTER-DELETE-TRIGGER catalog program name of the file &lt;xx&gt;.</span>
</span><span id="File-1005"><a href="#File-1005"><span class="linenos">1005</span></a><span class="sd">        is64bit: Defines the bit type</span>
</span><span id="File-1006"><a href="#File-1006"><span class="linenos">1006</span></a>
</span><span id="File-1007"><a href="#File-1007"><span class="linenos">1007</span></a><span class="sd">        Args: void</span>
</span><span id="File-1008"><a href="#File-1008"><span class="linenos">1008</span></a>
</span><span id="File-1009"><a href="#File-1009"><span class="linenos">1009</span></a><span class="sd">        Returns: void</span>
</span><span id="File-1010"><a href="#File-1010"><span class="linenos">1010</span></a>
</span><span id="File-1011"><a href="#File-1011"><span class="linenos">1011</span></a><span class="sd">        Raise:</span>
</span><span id="File-1012"><a href="#File-1012"><span class="linenos">1012</span></a><span class="sd">            UOError</span>
</span><span id="File-1013"><a href="#File-1013"><span class="linenos">1013</span></a>
</span><span id="File-1014"><a href="#File-1014"><span class="linenos">1014</span></a><span class="sd">        Examples:</span>
</span><span id="File-1015"><a href="#File-1015"><span class="linenos">1015</span></a><span class="sd">            &gt;&gt;&gt; f = uopy.File(&#39;TEST&#39;)</span>
</span><span id="File-1016"><a href="#File-1016"><span class="linenos">1016</span></a><span class="sd">            &gt;&gt;&gt; f.fileInfoEx()</span>
</span><span id="File-1017"><a href="#File-1017"><span class="linenos">1017</span></a><span class="sd">            &gt;&gt;&gt; print(f.vocName)</span>
</span><span id="File-1018"><a href="#File-1018"><span class="linenos">1018</span></a><span class="sd">            &gt;&gt;&gt; print(f.pathName)</span>
</span><span id="File-1019"><a href="#File-1019"><span class="linenos">1019</span></a><span class="sd">            &gt;&gt;&gt; print(f.groupSize)</span>
</span><span id="File-1020"><a href="#File-1020"><span class="linenos">1020</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File-1021"><a href="#File-1021"><span class="linenos">1021</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter fileInfoEx&quot;</span><span class="p">)</span>
</span><span id="File-1022"><a href="#File-1022"><span class="linenos">1022</span></a>
</span><span id="File-1023"><a href="#File-1023"><span class="linenos">1023</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File-1024"><a href="#File-1024"><span class="linenos">1024</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File-1025"><a href="#File-1025"><span class="linenos">1025</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-1026"><a href="#File-1026"><span class="linenos">1026</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File-1027"><a href="#File-1027"><span class="linenos">1027</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_FILEINFOEx</span><span class="p">)</span>
</span><span id="File-1028"><a href="#File-1028"><span class="linenos">1028</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File-1029"><a href="#File-1029"><span class="linenos">1029</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File-1030"><a href="#File-1030"><span class="linenos">1030</span></a>
</span><span id="File-1031"><a href="#File-1031"><span class="linenos">1031</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File-1032"><a href="#File-1032"><span class="linenos">1032</span></a>                <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_USC</span><span class="p">:</span>
</span><span id="File-1033"><a href="#File-1033"><span class="linenos">1033</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span>
</span><span id="File-1034"><a href="#File-1034"><span class="linenos">1034</span></a>                        <span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">,</span>
</span><span id="File-1035"><a href="#File-1035"><span class="linenos">1035</span></a>                        <span class="n">obj</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span>
</span><span id="File-1036"><a href="#File-1036"><span class="linenos">1036</span></a>                        <span class="n">message</span><span class="o">=</span><span class="s2">&quot;fileInfoEx is not supported on versions prior to UniData 8.2.4 or prior to UniVerse 12.2.1.&quot;</span><span class="p">,</span>
</span><span id="File-1037"><a href="#File-1037"><span class="linenos">1037</span></a>                    <span class="p">)</span>
</span><span id="File-1038"><a href="#File-1038"><span class="linenos">1038</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="File-1039"><a href="#File-1039"><span class="linenos">1039</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
</span><span id="File-1040"><a href="#File-1040"><span class="linenos">1040</span></a>
</span><span id="File-1041"><a href="#File-1041"><span class="linenos">1041</span></a>            <span class="n">fileinfo_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File-1042"><a href="#File-1042"><span class="linenos">1042</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">db_type</span> <span class="o">==</span> <span class="s2">&quot;UD&quot;</span><span class="p">:</span>
</span><span id="File-1043"><a href="#File-1043"><span class="linenos">1043</span></a>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fileinfo_set</span><span class="o">.</span><span class="n">list</span><span class="p">)</span> <span class="o">!=</span> <span class="n">UDFileInfoEx</span><span class="o">.</span><span class="n">LIST_COUNT</span><span class="p">:</span>
</span><span id="File-1044"><a href="#File-1044"><span class="linenos">1044</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">()</span>
</span><span id="File-1045"><a href="#File-1045"><span class="linenos">1045</span></a>                <span class="p">(</span>
</span><span id="File-1046"><a href="#File-1046"><span class="linenos">1046</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">isFileVar</span><span class="p">,</span>
</span><span id="File-1047"><a href="#File-1047"><span class="linenos">1047</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">vocName</span><span class="p">,</span>
</span><span id="File-1048"><a href="#File-1048"><span class="linenos">1048</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">pathName</span><span class="p">,</span>
</span><span id="File-1049"><a href="#File-1049"><span class="linenos">1049</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
</span><span id="File-1050"><a href="#File-1050"><span class="linenos">1050</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">hashAlg</span><span class="p">,</span>
</span><span id="File-1051"><a href="#File-1051"><span class="linenos">1051</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">modulus</span><span class="p">,</span>
</span><span id="File-1052"><a href="#File-1052"><span class="linenos">1052</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">minModulus</span><span class="p">,</span>
</span><span id="File-1053"><a href="#File-1053"><span class="linenos">1053</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">groupSize</span><span class="p">,</span>
</span><span id="File-1054"><a href="#File-1054"><span class="linenos">1054</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">largeRecordSize</span><span class="p">,</span>
</span><span id="File-1055"><a href="#File-1055"><span class="linenos">1055</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">mergeLoad</span><span class="p">,</span>
</span><span id="File-1056"><a href="#File-1056"><span class="linenos">1056</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">splitLoad</span><span class="p">,</span>
</span><span id="File-1057"><a href="#File-1057"><span class="linenos">1057</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">currentLoad</span><span class="p">,</span>
</span><span id="File-1058"><a href="#File-1058"><span class="linenos">1058</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">nodeName</span><span class="p">,</span>
</span><span id="File-1059"><a href="#File-1059"><span class="linenos">1059</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">isAKFile</span><span class="p">,</span>
</span><span id="File-1060"><a href="#File-1060"><span class="linenos">1060</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">currentLine</span><span class="p">,</span>
</span><span id="File-1061"><a href="#File-1061"><span class="linenos">1061</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">partNum</span><span class="p">,</span>
</span><span id="File-1062"><a href="#File-1062"><span class="linenos">1062</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">fileStatus</span><span class="p">,</span>
</span><span id="File-1063"><a href="#File-1063"><span class="linenos">1063</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">relname</span><span class="p">,</span>
</span><span id="File-1064"><a href="#File-1064"><span class="linenos">1064</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">blksize</span><span class="p">,</span>
</span><span id="File-1065"><a href="#File-1065"><span class="linenos">1065</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">privilege</span><span class="p">,</span>
</span><span id="File-1066"><a href="#File-1066"><span class="linenos">1066</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">whichIndex</span><span class="p">,</span>
</span><span id="File-1067"><a href="#File-1067"><span class="linenos">1067</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">whatXValue</span><span class="p">,</span>
</span><span id="File-1068"><a href="#File-1068"><span class="linenos">1068</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">isRecoverable</span><span class="p">,</span>
</span><span id="File-1069"><a href="#File-1069"><span class="linenos">1069</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">isNumerical</span><span class="p">,</span>
</span><span id="File-1070"><a href="#File-1070"><span class="linenos">1070</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">isReplicated</span><span class="p">,</span>
</span><span id="File-1071"><a href="#File-1071"><span class="linenos">1071</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">beforeUpdateTrigger</span><span class="p">,</span>
</span><span id="File-1072"><a href="#File-1072"><span class="linenos">1072</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">beforeDeleteTrigger</span><span class="p">,</span>
</span><span id="File-1073"><a href="#File-1073"><span class="linenos">1073</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">isEncrypted</span><span class="p">,</span>
</span><span id="File-1074"><a href="#File-1074"><span class="linenos">1074</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">encinfo</span><span class="p">,</span>
</span><span id="File-1075"><a href="#File-1075"><span class="linenos">1075</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">afterUpdateTrigger</span><span class="p">,</span>
</span><span id="File-1076"><a href="#File-1076"><span class="linenos">1076</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">afterDeleteTrigger</span><span class="p">,</span>
</span><span id="File-1077"><a href="#File-1077"><span class="linenos">1077</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">is64bit</span><span class="p">,</span>
</span><span id="File-1078"><a href="#File-1078"><span class="linenos">1078</span></a>                <span class="p">)</span> <span class="o">=</span> <span class="n">fileinfo_set</span><span class="o">.</span><span class="n">list</span>
</span><span id="File-1079"><a href="#File-1079"><span class="linenos">1079</span></a>                <span class="k">pass</span>
</span><span id="File-1080"><a href="#File-1080"><span class="linenos">1080</span></a>            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">db_type</span> <span class="o">==</span> <span class="s2">&quot;UV&quot;</span><span class="p">:</span>
</span><span id="File-1081"><a href="#File-1081"><span class="linenos">1081</span></a>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fileinfo_set</span><span class="o">.</span><span class="n">list</span><span class="p">)</span> <span class="o">!=</span> <span class="n">FileInfoEx</span><span class="o">.</span><span class="n">LIST_COUNT</span><span class="p">:</span>
</span><span id="File-1082"><a href="#File-1082"><span class="linenos">1082</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">()</span>
</span><span id="File-1083"><a href="#File-1083"><span class="linenos">1083</span></a>                <span class="p">(</span>
</span><span id="File-1084"><a href="#File-1084"><span class="linenos">1084</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">isFileVar</span><span class="p">,</span>
</span><span id="File-1085"><a href="#File-1085"><span class="linenos">1085</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">vocName</span><span class="p">,</span>
</span><span id="File-1086"><a href="#File-1086"><span class="linenos">1086</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">pathName</span><span class="p">,</span>
</span><span id="File-1087"><a href="#File-1087"><span class="linenos">1087</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
</span><span id="File-1088"><a href="#File-1088"><span class="linenos">1088</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">hashAlg</span><span class="p">,</span>
</span><span id="File-1089"><a href="#File-1089"><span class="linenos">1089</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">modulus</span><span class="p">,</span>
</span><span id="File-1090"><a href="#File-1090"><span class="linenos">1090</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">minModulus</span><span class="p">,</span>
</span><span id="File-1091"><a href="#File-1091"><span class="linenos">1091</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">groupSize</span><span class="p">,</span>
</span><span id="File-1092"><a href="#File-1092"><span class="linenos">1092</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">largeRecordSize</span><span class="p">,</span>
</span><span id="File-1093"><a href="#File-1093"><span class="linenos">1093</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">mergeLoad</span><span class="p">,</span>
</span><span id="File-1094"><a href="#File-1094"><span class="linenos">1094</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">splitLoad</span><span class="p">,</span>
</span><span id="File-1095"><a href="#File-1095"><span class="linenos">1095</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">currentLoad</span><span class="p">,</span>
</span><span id="File-1096"><a href="#File-1096"><span class="linenos">1096</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">nodeName</span><span class="p">,</span>
</span><span id="File-1097"><a href="#File-1097"><span class="linenos">1097</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">isAKFile</span><span class="p">,</span>
</span><span id="File-1098"><a href="#File-1098"><span class="linenos">1098</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">currentLine</span><span class="p">,</span>
</span><span id="File-1099"><a href="#File-1099"><span class="linenos">1099</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">partNum</span><span class="p">,</span>
</span><span id="File-1100"><a href="#File-1100"><span class="linenos">1100</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">fileStatus</span><span class="p">,</span>
</span><span id="File-1101"><a href="#File-1101"><span class="linenos">1101</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">recoveryType</span><span class="p">,</span>
</span><span id="File-1102"><a href="#File-1102"><span class="linenos">1102</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">recoveryId</span><span class="p">,</span>
</span><span id="File-1103"><a href="#File-1103"><span class="linenos">1103</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">isFixedModulus</span><span class="p">,</span>
</span><span id="File-1104"><a href="#File-1104"><span class="linenos">1104</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">nlsmap</span><span class="p">,</span>
</span><span id="File-1105"><a href="#File-1105"><span class="linenos">1105</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">encryption</span><span class="p">,</span>
</span><span id="File-1106"><a href="#File-1106"><span class="linenos">1106</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">repStatus</span><span class="p">,</span>
</span><span id="File-1107"><a href="#File-1107"><span class="linenos">1107</span></a>                <span class="p">)</span> <span class="o">=</span> <span class="n">fileinfo_set</span><span class="o">.</span><span class="n">list</span>
</span><span id="File-1108"><a href="#File-1108"><span class="linenos">1108</span></a>                <span class="k">pass</span>
</span><span id="File-1109"><a href="#File-1109"><span class="linenos">1109</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">fileinfo_set</span><span class="p">)</span>
</span><span id="File-1110"><a href="#File-1110"><span class="linenos">1110</span></a>        <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>File object represents a MV hashed file on the remote server. It is the main mechanism for applications to
access MV data remotely.</p>

<p>File objects can be used in Python with statement so that whatever occurs in the with statement block, they
are guaranteed to be closed upon exit.</p>

<p>Examples:</p>

<pre><code>&gt;&gt;&gt; with <a href="#File">uopy.File</a>("VOC") as voc_file:
&gt;&gt;&gt;     rec = voc_file.read("LIST")
&gt;&gt;&gt;     print(rec.list)
</code></pre>
</div>


                            <div id="File.__init__" class="classattr">
                                        <input id="File.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">File</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">name</span>, </span><span class="param"><span class="n">dict_flag</span><span class="o">=</span><span class="mi">0</span>, </span><span class="param"><span class="n">session</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="File.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.__init__-85"><a href="#File.__init__-85"><span class="linenos"> 85</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">dict_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="File.__init__-86"><a href="#File.__init__-86"><span class="linenos"> 86</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes a File object.</span>
</span><span id="File.__init__-87"><a href="#File.__init__-87"><span class="linenos"> 87</span></a><span class="sd">        Args:</span>
</span><span id="File.__init__-88"><a href="#File.__init__-88"><span class="linenos"> 88</span></a><span class="sd">            name (str): the name of the MV File to be opened.</span>
</span><span id="File.__init__-89"><a href="#File.__init__-89"><span class="linenos"> 89</span></a><span class="sd">            dict_flag (int, optional): when it is uopy.DICT_FILE, then the File object points to the dictionary file.</span>
</span><span id="File.__init__-90"><a href="#File.__init__-90"><span class="linenos"> 90</span></a><span class="sd">                Otherwise, the target is the data file.</span>
</span><span id="File.__init__-91"><a href="#File.__init__-91"><span class="linenos"> 91</span></a><span class="sd">            session (Session, optional): the Session object that the File object is bound to.</span>
</span><span id="File.__init__-92"><a href="#File.__init__-92"><span class="linenos"> 92</span></a><span class="sd">                If omitted, the last opened Session in the current thread will be used.</span>
</span><span id="File.__init__-93"><a href="#File.__init__-93"><span class="linenos"> 93</span></a>
</span><span id="File.__init__-94"><a href="#File.__init__-94"><span class="linenos"> 94</span></a><span class="sd">        Raises:</span>
</span><span id="File.__init__-95"><a href="#File.__init__-95"><span class="linenos"> 95</span></a><span class="sd">            UOError</span>
</span><span id="File.__init__-96"><a href="#File.__init__-96"><span class="linenos"> 96</span></a>
</span><span id="File.__init__-97"><a href="#File.__init__-97"><span class="linenos"> 97</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.__init__-98"><a href="#File.__init__-98"><span class="linenos"> 98</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</span><span id="File.__init__-99"><a href="#File.__init__-99"><span class="linenos"> 99</span></a>
</span><span id="File.__init__-100"><a href="#File.__init__-100"><span class="linenos">100</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File.__init__-101"><a href="#File.__init__-101"><span class="linenos">101</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_INVALIDFILENAME</span><span class="p">)</span>
</span><span id="File.__init__-102"><a href="#File.__init__-102"><span class="linenos">102</span></a>
</span><span id="File.__init__-103"><a href="#File.__init__-103"><span class="linenos">103</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_command</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="File.__init__-104"><a href="#File.__init__-104"><span class="linenos">104</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_dict_flag</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">dict_flag</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="File.__init__-105"><a href="#File.__init__-105"><span class="linenos">105</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="File.__init__-106"><a href="#File.__init__-106"><span class="linenos">106</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="File.__init__-107"><a href="#File.__init__-107"><span class="linenos">107</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_type</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="File.__init__-108"><a href="#File.__init__-108"><span class="linenos">108</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="File.__init__-109"><a href="#File.__init__-109"><span class="linenos">109</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="File.__init__-110"><a href="#File.__init__-110"><span class="linenos">110</span></a>
</span><span id="File.__init__-111"><a href="#File.__init__-111"><span class="linenos">111</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Initializes a File object.
Args:
    name (str): the name of the MV File to be opened.
    dict_flag (int, optional): when it is uopy.DICT_FILE, then the File object points to the dictionary file.
        Otherwise, the target is the data file.
    session (Session, optional): the Session object that the File object is bound to.
        If omitted, the last opened Session in the current thread will be used.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="File.handle" class="classattr">
                                <div class="attr variable">
            <span class="name">handle</span>

        
    </div>
    <a class="headerlink" href="#File.handle"></a>
    
    

                            </div>
                            <div id="File.status" class="classattr">
                                <div class="attr variable">
            <span class="name">status</span>

        
    </div>
    <a class="headerlink" href="#File.status"></a>
    
            <div class="docstring"><p>The status code set by the remote server after a file operation.</p>
</div>


                            </div>
                            <div id="File.is_opened" class="classattr">
                                <div class="attr variable">
            <span class="name">is_opened</span>

        
    </div>
    <a class="headerlink" href="#File.is_opened"></a>
    
            <div class="docstring"><p>boolean: True if the File object is opened on the remote server, otherwise False.</p>
</div>


                            </div>
                            <div id="File.open" class="classattr">
                                        <input id="File.open-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">open</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.open-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.open"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.open-146"><a href="#File.open-146"><span class="linenos">146</span></a>    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="File.open-147"><a href="#File.open-147"><span class="linenos">147</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Open the named file on the remote server.</span>
</span><span id="File.open-148"><a href="#File.open-148"><span class="linenos">148</span></a>
</span><span id="File.open-149"><a href="#File.open-149"><span class="linenos">149</span></a><span class="sd">        Args:</span>
</span><span id="File.open-150"><a href="#File.open-150"><span class="linenos">150</span></a>
</span><span id="File.open-151"><a href="#File.open-151"><span class="linenos">151</span></a><span class="sd">        Returns:</span>
</span><span id="File.open-152"><a href="#File.open-152"><span class="linenos">152</span></a><span class="sd">            None</span>
</span><span id="File.open-153"><a href="#File.open-153"><span class="linenos">153</span></a>
</span><span id="File.open-154"><a href="#File.open-154"><span class="linenos">154</span></a><span class="sd">        Raises:</span>
</span><span id="File.open-155"><a href="#File.open-155"><span class="linenos">155</span></a><span class="sd">            UOError</span>
</span><span id="File.open-156"><a href="#File.open-156"><span class="linenos">156</span></a>
</span><span id="File.open-157"><a href="#File.open-157"><span class="linenos">157</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.open-158"><a href="#File.open-158"><span class="linenos">158</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
</span><span id="File.open-159"><a href="#File.open-159"><span class="linenos">159</span></a>
</span><span id="File.open-160"><a href="#File.open-160"><span class="linenos">160</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span><span class="p">:</span>
</span><span id="File.open-161"><a href="#File.open-161"><span class="linenos">161</span></a>            <span class="k">return</span>
</span><span id="File.open-162"><a href="#File.open-162"><span class="linenos">162</span></a>
</span><span id="File.open-163"><a href="#File.open-163"><span class="linenos">163</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.open-164"><a href="#File.open-164"><span class="linenos">164</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.open-165"><a href="#File.open-165"><span class="linenos">165</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.open-166"><a href="#File.open-166"><span class="linenos">166</span></a>
</span><span id="File.open-167"><a href="#File.open-167"><span class="linenos">167</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_OPEN</span><span class="p">)</span>
</span><span id="File.open-168"><a href="#File.open-168"><span class="linenos">168</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dict_flag</span><span class="p">)</span>
</span><span id="File.open-169"><a href="#File.open-169"><span class="linenos">169</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">))</span>
</span><span id="File.open-170"><a href="#File.open-170"><span class="linenos">170</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="File.open-171"><a href="#File.open-171"><span class="linenos">171</span></a>
</span><span id="File.open-172"><a href="#File.open-172"><span class="linenos">172</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.open-173"><a href="#File.open-173"><span class="linenos">173</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File.open-174"><a href="#File.open-174"><span class="linenos">174</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
</span><span id="File.open-175"><a href="#File.open-175"><span class="linenos">175</span></a>
</span><span id="File.open-176"><a href="#File.open-176"><span class="linenos">176</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File.open-177"><a href="#File.open-177"><span class="linenos">177</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="File.open-178"><a href="#File.open-178"><span class="linenos">178</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span>
</span><span id="File.open-179"><a href="#File.open-179"><span class="linenos">179</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="File.open-180"><a href="#File.open-180"><span class="linenos">180</span></a>
</span><span id="File.open-181"><a href="#File.open-181"><span class="linenos">181</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Open the named file on the remote server.</p>

<p>Args:</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="File.clear" class="classattr">
                                        <input id="File.clear-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">clear</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.clear-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.clear"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.clear-183"><a href="#File.clear-183"><span class="linenos">183</span></a>    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="File.clear-184"><a href="#File.clear-184"><span class="linenos">184</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Clear the content of the file on the remote server.</span>
</span><span id="File.clear-185"><a href="#File.clear-185"><span class="linenos">185</span></a>
</span><span id="File.clear-186"><a href="#File.clear-186"><span class="linenos">186</span></a><span class="sd">        Args:</span>
</span><span id="File.clear-187"><a href="#File.clear-187"><span class="linenos">187</span></a>
</span><span id="File.clear-188"><a href="#File.clear-188"><span class="linenos">188</span></a><span class="sd">        Returns:</span>
</span><span id="File.clear-189"><a href="#File.clear-189"><span class="linenos">189</span></a><span class="sd">            None</span>
</span><span id="File.clear-190"><a href="#File.clear-190"><span class="linenos">190</span></a>
</span><span id="File.clear-191"><a href="#File.clear-191"><span class="linenos">191</span></a><span class="sd">        Raises:</span>
</span><span id="File.clear-192"><a href="#File.clear-192"><span class="linenos">192</span></a><span class="sd">            UOError</span>
</span><span id="File.clear-193"><a href="#File.clear-193"><span class="linenos">193</span></a>
</span><span id="File.clear-194"><a href="#File.clear-194"><span class="linenos">194</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.clear-195"><a href="#File.clear-195"><span class="linenos">195</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
</span><span id="File.clear-196"><a href="#File.clear-196"><span class="linenos">196</span></a>
</span><span id="File.clear-197"><a href="#File.clear-197"><span class="linenos">197</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.clear-198"><a href="#File.clear-198"><span class="linenos">198</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.clear-199"><a href="#File.clear-199"><span class="linenos">199</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.clear-200"><a href="#File.clear-200"><span class="linenos">200</span></a>
</span><span id="File.clear-201"><a href="#File.clear-201"><span class="linenos">201</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_CLEARFILE</span><span class="p">)</span>
</span><span id="File.clear-202"><a href="#File.clear-202"><span class="linenos">202</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File.clear-203"><a href="#File.clear-203"><span class="linenos">203</span></a>
</span><span id="File.clear-204"><a href="#File.clear-204"><span class="linenos">204</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="File.clear-205"><a href="#File.clear-205"><span class="linenos">205</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.clear-206"><a href="#File.clear-206"><span class="linenos">206</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File.clear-207"><a href="#File.clear-207"><span class="linenos">207</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File.clear-208"><a href="#File.clear-208"><span class="linenos">208</span></a>
</span><span id="File.clear-209"><a href="#File.clear-209"><span class="linenos">209</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Clear the content of the file on the remote server.</p>

<p>Args:</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="File.close" class="classattr">
                                        <input id="File.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.close-211"><a href="#File.close-211"><span class="linenos">211</span></a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="File.close-212"><a href="#File.close-212"><span class="linenos">212</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the opened file on the remote server - all file and record locks are released.</span>
</span><span id="File.close-213"><a href="#File.close-213"><span class="linenos">213</span></a>
</span><span id="File.close-214"><a href="#File.close-214"><span class="linenos">214</span></a><span class="sd">        Args:</span>
</span><span id="File.close-215"><a href="#File.close-215"><span class="linenos">215</span></a>
</span><span id="File.close-216"><a href="#File.close-216"><span class="linenos">216</span></a><span class="sd">        Returns:</span>
</span><span id="File.close-217"><a href="#File.close-217"><span class="linenos">217</span></a><span class="sd">            None</span>
</span><span id="File.close-218"><a href="#File.close-218"><span class="linenos">218</span></a>
</span><span id="File.close-219"><a href="#File.close-219"><span class="linenos">219</span></a><span class="sd">        Raises:</span>
</span><span id="File.close-220"><a href="#File.close-220"><span class="linenos">220</span></a><span class="sd">            UOError</span>
</span><span id="File.close-221"><a href="#File.close-221"><span class="linenos">221</span></a>
</span><span id="File.close-222"><a href="#File.close-222"><span class="linenos">222</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.close-223"><a href="#File.close-223"><span class="linenos">223</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
</span><span id="File.close-224"><a href="#File.close-224"><span class="linenos">224</span></a>
</span><span id="File.close-225"><a href="#File.close-225"><span class="linenos">225</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span><span class="p">:</span>
</span><span id="File.close-226"><a href="#File.close-226"><span class="linenos">226</span></a>            <span class="k">return</span>
</span><span id="File.close-227"><a href="#File.close-227"><span class="linenos">227</span></a>
</span><span id="File.close-228"><a href="#File.close-228"><span class="linenos">228</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.close-229"><a href="#File.close-229"><span class="linenos">229</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.close-230"><a href="#File.close-230"><span class="linenos">230</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.close-231"><a href="#File.close-231"><span class="linenos">231</span></a>
</span><span id="File.close-232"><a href="#File.close-232"><span class="linenos">232</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_CLOSE</span><span class="p">)</span>
</span><span id="File.close-233"><a href="#File.close-233"><span class="linenos">233</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File.close-234"><a href="#File.close-234"><span class="linenos">234</span></a>
</span><span id="File.close-235"><a href="#File.close-235"><span class="linenos">235</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="File.close-236"><a href="#File.close-236"><span class="linenos">236</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="File.close-237"><a href="#File.close-237"><span class="linenos">237</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.close-238"><a href="#File.close-238"><span class="linenos">238</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File.close-239"><a href="#File.close-239"><span class="linenos">239</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File.close-240"><a href="#File.close-240"><span class="linenos">240</span></a>
</span><span id="File.close-241"><a href="#File.close-241"><span class="linenos">241</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Close the opened file on the remote server - all file and record locks are released.</p>

<p>Args:</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="File.delete" class="classattr">
                                        <input id="File.delete-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">delete</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span>, </span><span class="param"><span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.delete-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.delete"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.delete-243"><a href="#File.delete-243"><span class="linenos">243</span></a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="File.delete-244"><a href="#File.delete-244"><span class="linenos">244</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a record in the file.</span>
</span><span id="File.delete-245"><a href="#File.delete-245"><span class="linenos">245</span></a>
</span><span id="File.delete-246"><a href="#File.delete-246"><span class="linenos">246</span></a><span class="sd">        Args:</span>
</span><span id="File.delete-247"><a href="#File.delete-247"><span class="linenos">247</span></a><span class="sd">            record_id (any ): the record id - can be str, bytes, or DynArray.</span>
</span><span id="File.delete-248"><a href="#File.delete-248"><span class="linenos">248</span></a><span class="sd">            lock_flag (int, optional): 0 (default), LOCK_RETAIN, LOCK_WAIT, or LOCK_RETAIN + LOCK_WAIT</span>
</span><span id="File.delete-249"><a href="#File.delete-249"><span class="linenos">249</span></a>
</span><span id="File.delete-250"><a href="#File.delete-250"><span class="linenos">250</span></a><span class="sd">        Returns:</span>
</span><span id="File.delete-251"><a href="#File.delete-251"><span class="linenos">251</span></a><span class="sd">            None</span>
</span><span id="File.delete-252"><a href="#File.delete-252"><span class="linenos">252</span></a>
</span><span id="File.delete-253"><a href="#File.delete-253"><span class="linenos">253</span></a><span class="sd">        Raises:</span>
</span><span id="File.delete-254"><a href="#File.delete-254"><span class="linenos">254</span></a><span class="sd">            UOError</span>
</span><span id="File.delete-255"><a href="#File.delete-255"><span class="linenos">255</span></a>
</span><span id="File.delete-256"><a href="#File.delete-256"><span class="linenos">256</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.delete-257"><a href="#File.delete-257"><span class="linenos">257</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">record_id</span><span class="p">)</span>
</span><span id="File.delete-258"><a href="#File.delete-258"><span class="linenos">258</span></a>
</span><span id="File.delete-259"><a href="#File.delete-259"><span class="linenos">259</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File.delete-260"><a href="#File.delete-260"><span class="linenos">260</span></a>
</span><span id="File.delete-261"><a href="#File.delete-261"><span class="linenos">261</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.delete-262"><a href="#File.delete-262"><span class="linenos">262</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.delete-263"><a href="#File.delete-263"><span class="linenos">263</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.delete-264"><a href="#File.delete-264"><span class="linenos">264</span></a>
</span><span id="File.delete-265"><a href="#File.delete-265"><span class="linenos">265</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_DELETE</span><span class="p">)</span>
</span><span id="File.delete-266"><a href="#File.delete-266"><span class="linenos">266</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File.delete-267"><a href="#File.delete-267"><span class="linenos">267</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_delete_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File.delete-268"><a href="#File.delete-268"><span class="linenos">268</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record_id</span><span class="p">))</span>
</span><span id="File.delete-269"><a href="#File.delete-269"><span class="linenos">269</span></a>
</span><span id="File.delete-270"><a href="#File.delete-270"><span class="linenos">270</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="File.delete-271"><a href="#File.delete-271"><span class="linenos">271</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.delete-272"><a href="#File.delete-272"><span class="linenos">272</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File.delete-273"><a href="#File.delete-273"><span class="linenos">273</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File.delete-274"><a href="#File.delete-274"><span class="linenos">274</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File.delete-275"><a href="#File.delete-275"><span class="linenos">275</span></a>
</span><span id="File.delete-276"><a href="#File.delete-276"><span class="linenos">276</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Delete a record in the file.</p>

<p>Args:
    record_id (any ): the record id - can be str, bytes, or DynArray.
    lock_flag (int, optional): 0 (default), LOCK_RETAIN, LOCK_WAIT, or LOCK_RETAIN + LOCK_WAIT</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="File.read" class="classattr">
                                        <input id="File.read-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">read</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span>, </span><span class="param"><span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.read-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.read"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.read-278"><a href="#File.read-278"><span class="linenos">278</span></a>    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="File.read-279"><a href="#File.read-279"><span class="linenos">279</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Read a record in the file.</span>
</span><span id="File.read-280"><a href="#File.read-280"><span class="linenos">280</span></a>
</span><span id="File.read-281"><a href="#File.read-281"><span class="linenos">281</span></a><span class="sd">        Args:</span>
</span><span id="File.read-282"><a href="#File.read-282"><span class="linenos">282</span></a><span class="sd">            record_id (any): the record id - can be str, bytes, or DynArray.</span>
</span><span id="File.read-283"><a href="#File.read-283"><span class="linenos">283</span></a><span class="sd">            lock_flag (int, optional): 0 (default, no lock), or [LOCK_EXCLUSIVE or LOCK_SHARED] [+ LOCK_WAIT]</span>
</span><span id="File.read-284"><a href="#File.read-284"><span class="linenos">284</span></a>
</span><span id="File.read-285"><a href="#File.read-285"><span class="linenos">285</span></a><span class="sd">        Returns:</span>
</span><span id="File.read-286"><a href="#File.read-286"><span class="linenos">286</span></a><span class="sd">            DynArray: the content of the record.</span>
</span><span id="File.read-287"><a href="#File.read-287"><span class="linenos">287</span></a>
</span><span id="File.read-288"><a href="#File.read-288"><span class="linenos">288</span></a><span class="sd">        Raises:</span>
</span><span id="File.read-289"><a href="#File.read-289"><span class="linenos">289</span></a><span class="sd">            UOError</span>
</span><span id="File.read-290"><a href="#File.read-290"><span class="linenos">290</span></a>
</span><span id="File.read-291"><a href="#File.read-291"><span class="linenos">291</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.read-292"><a href="#File.read-292"><span class="linenos">292</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">lock_flag</span><span class="p">)</span>
</span><span id="File.read-293"><a href="#File.read-293"><span class="linenos">293</span></a>
</span><span id="File.read-294"><a href="#File.read-294"><span class="linenos">294</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File.read-295"><a href="#File.read-295"><span class="linenos">295</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.read-296"><a href="#File.read-296"><span class="linenos">296</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.read-297"><a href="#File.read-297"><span class="linenos">297</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.read-298"><a href="#File.read-298"><span class="linenos">298</span></a>
</span><span id="File.read-299"><a href="#File.read-299"><span class="linenos">299</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_READ</span><span class="p">)</span>
</span><span id="File.read-300"><a href="#File.read-300"><span class="linenos">300</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File.read-301"><a href="#File.read-301"><span class="linenos">301</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_read_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File.read-302"><a href="#File.read-302"><span class="linenos">302</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record_id</span><span class="p">))</span>
</span><span id="File.read-303"><a href="#File.read-303"><span class="linenos">303</span></a>
</span><span id="File.read-304"><a href="#File.read-304"><span class="linenos">304</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.read-305"><a href="#File.read-305"><span class="linenos">305</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File.read-306"><a href="#File.read-306"><span class="linenos">306</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File.read-307"><a href="#File.read-307"><span class="linenos">307</span></a>                <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_EIO</span><span class="p">:</span>
</span><span id="File.read-308"><a href="#File.read-308"><span class="linenos">308</span></a>                    <span class="n">tmp_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span>
</span><span id="File.read-309"><a href="#File.read-309"><span class="linenos">309</span></a>                    <span class="k">if</span> <span class="n">tmp_status</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_EIO_MSG_DICT</span><span class="p">:</span>
</span><span id="File.read-310"><a href="#File.read-310"><span class="linenos">310</span></a>                        <span class="n">tmp_status</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="File.read-311"><a href="#File.read-311"><span class="linenos">311</span></a>                    <span class="n">msg</span> <span class="o">=</span> <span class="n">_EIO_MSG_DICT</span><span class="p">[</span><span class="n">tmp_status</span><span class="p">]</span>
</span><span id="File.read-312"><a href="#File.read-312"><span class="linenos">312</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
</span><span id="File.read-313"><a href="#File.read-313"><span class="linenos">313</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="File.read-314"><a href="#File.read-314"><span class="linenos">314</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File.read-315"><a href="#File.read-315"><span class="linenos">315</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="File.read-316"><a href="#File.read-316"><span class="linenos">316</span></a>                <span class="n">record</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.read-317"><a href="#File.read-317"><span class="linenos">317</span></a>
</span><span id="File.read-318"><a href="#File.read-318"><span class="linenos">318</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">record</span><span class="p">)</span>
</span><span id="File.read-319"><a href="#File.read-319"><span class="linenos">319</span></a>        <span class="k">return</span> <span class="n">record</span>
</span></pre></div>


            <div class="docstring"><p>Read a record in the file.</p>

<p>Args:
    record_id (any): the record id - can be str, bytes, or DynArray.
    lock_flag (int, optional): 0 (default, no lock), or [LOCK_EXCLUSIVE or LOCK_SHARED] [+ LOCK_WAIT]</p>

<p>Returns:
    DynArray: the content of the record.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="File.write" class="classattr">
                                        <input id="File.write-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">write</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span>, </span><span class="param"><span class="n">record</span>, </span><span class="param"><span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.write-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.write"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.write-321"><a href="#File.write-321"><span class="linenos">321</span></a>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">record</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="File.write-322"><a href="#File.write-322"><span class="linenos">322</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Write a record into the file.</span>
</span><span id="File.write-323"><a href="#File.write-323"><span class="linenos">323</span></a>
</span><span id="File.write-324"><a href="#File.write-324"><span class="linenos">324</span></a><span class="sd">        Args:</span>
</span><span id="File.write-325"><a href="#File.write-325"><span class="linenos">325</span></a><span class="sd">            record_id (any): the record id - can be str, bytes, or DynArray.</span>
</span><span id="File.write-326"><a href="#File.write-326"><span class="linenos">326</span></a><span class="sd">            record (any): the record to be written - can be DynArray, str, bytes.</span>
</span><span id="File.write-327"><a href="#File.write-327"><span class="linenos">327</span></a><span class="sd">            lock_flag (int, optional): 0 (default), LOCK_RETAIN, LOCK_WAIT, or LOCK_RETAIN + LOCK_WAIT</span>
</span><span id="File.write-328"><a href="#File.write-328"><span class="linenos">328</span></a>
</span><span id="File.write-329"><a href="#File.write-329"><span class="linenos">329</span></a><span class="sd">        Returns:</span>
</span><span id="File.write-330"><a href="#File.write-330"><span class="linenos">330</span></a><span class="sd">            None</span>
</span><span id="File.write-331"><a href="#File.write-331"><span class="linenos">331</span></a>
</span><span id="File.write-332"><a href="#File.write-332"><span class="linenos">332</span></a><span class="sd">        Raises:</span>
</span><span id="File.write-333"><a href="#File.write-333"><span class="linenos">333</span></a><span class="sd">            UOError</span>
</span><span id="File.write-334"><a href="#File.write-334"><span class="linenos">334</span></a>
</span><span id="File.write-335"><a href="#File.write-335"><span class="linenos">335</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.write-336"><a href="#File.write-336"><span class="linenos">336</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">record</span><span class="p">,</span> <span class="n">lock_flag</span><span class="p">)</span>
</span><span id="File.write-337"><a href="#File.write-337"><span class="linenos">337</span></a>
</span><span id="File.write-338"><a href="#File.write-338"><span class="linenos">338</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File.write-339"><a href="#File.write-339"><span class="linenos">339</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.write-340"><a href="#File.write-340"><span class="linenos">340</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.write-341"><a href="#File.write-341"><span class="linenos">341</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.write-342"><a href="#File.write-342"><span class="linenos">342</span></a>
</span><span id="File.write-343"><a href="#File.write-343"><span class="linenos">343</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_WRITE</span><span class="p">)</span>
</span><span id="File.write-344"><a href="#File.write-344"><span class="linenos">344</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File.write-345"><a href="#File.write-345"><span class="linenos">345</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_write_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File.write-346"><a href="#File.write-346"><span class="linenos">346</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record_id</span><span class="p">))</span>
</span><span id="File.write-347"><a href="#File.write-347"><span class="linenos">347</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record</span><span class="p">))</span>
</span><span id="File.write-348"><a href="#File.write-348"><span class="linenos">348</span></a>
</span><span id="File.write-349"><a href="#File.write-349"><span class="linenos">349</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.write-350"><a href="#File.write-350"><span class="linenos">350</span></a>
</span><span id="File.write-351"><a href="#File.write-351"><span class="linenos">351</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File.write-352"><a href="#File.write-352"><span class="linenos">352</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File.write-353"><a href="#File.write-353"><span class="linenos">353</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="File.write-354"><a href="#File.write-354"><span class="linenos">354</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File.write-355"><a href="#File.write-355"><span class="linenos">355</span></a>
</span><span id="File.write-356"><a href="#File.write-356"><span class="linenos">356</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Write a record into the file.</p>

<p>Args:
    record_id (any): the record id - can be str, bytes, or DynArray.
    record (any): the record to be written - can be DynArray, str, bytes.
    lock_flag (int, optional): 0 (default), LOCK_RETAIN, LOCK_WAIT, or LOCK_RETAIN + LOCK_WAIT</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="File.read_field" class="classattr">
                                        <input id="File.read_field-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">read_field</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span>, </span><span class="param"><span class="n">field_num</span>, </span><span class="param"><span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.read_field-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.read_field"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.read_field-358"><a href="#File.read_field-358"><span class="linenos">358</span></a>    <span class="k">def</span> <span class="nf">read_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">field_num</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="File.read_field-359"><a href="#File.read_field-359"><span class="linenos">359</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Read a single field of a record in the file.</span>
</span><span id="File.read_field-360"><a href="#File.read_field-360"><span class="linenos">360</span></a>
</span><span id="File.read_field-361"><a href="#File.read_field-361"><span class="linenos">361</span></a><span class="sd">        Args:</span>
</span><span id="File.read_field-362"><a href="#File.read_field-362"><span class="linenos">362</span></a><span class="sd">            record_id (any ): the record id - can be str, bytes, or DynArray</span>
</span><span id="File.read_field-363"><a href="#File.read_field-363"><span class="linenos">363</span></a><span class="sd">            field_num (int): the field number</span>
</span><span id="File.read_field-364"><a href="#File.read_field-364"><span class="linenos">364</span></a><span class="sd">            lock_flag (int, optional): 0 (default), or [LOCK_EXCLUSIVE or LOCK_SHARED] [+ LOCK_WAIT]</span>
</span><span id="File.read_field-365"><a href="#File.read_field-365"><span class="linenos">365</span></a>
</span><span id="File.read_field-366"><a href="#File.read_field-366"><span class="linenos">366</span></a><span class="sd">        Returns:</span>
</span><span id="File.read_field-367"><a href="#File.read_field-367"><span class="linenos">367</span></a><span class="sd">            DynArray: the value of the field.</span>
</span><span id="File.read_field-368"><a href="#File.read_field-368"><span class="linenos">368</span></a>
</span><span id="File.read_field-369"><a href="#File.read_field-369"><span class="linenos">369</span></a><span class="sd">        Raises:</span>
</span><span id="File.read_field-370"><a href="#File.read_field-370"><span class="linenos">370</span></a><span class="sd">            UOError</span>
</span><span id="File.read_field-371"><a href="#File.read_field-371"><span class="linenos">371</span></a>
</span><span id="File.read_field-372"><a href="#File.read_field-372"><span class="linenos">372</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.read_field-373"><a href="#File.read_field-373"><span class="linenos">373</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">field_num</span><span class="p">,</span> <span class="n">lock_flag</span><span class="p">)</span>
</span><span id="File.read_field-374"><a href="#File.read_field-374"><span class="linenos">374</span></a>
</span><span id="File.read_field-375"><a href="#File.read_field-375"><span class="linenos">375</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File.read_field-376"><a href="#File.read_field-376"><span class="linenos">376</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.read_field-377"><a href="#File.read_field-377"><span class="linenos">377</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.read_field-378"><a href="#File.read_field-378"><span class="linenos">378</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.read_field-379"><a href="#File.read_field-379"><span class="linenos">379</span></a>
</span><span id="File.read_field-380"><a href="#File.read_field-380"><span class="linenos">380</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_READV</span><span class="p">)</span>
</span><span id="File.read_field-381"><a href="#File.read_field-381"><span class="linenos">381</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File.read_field-382"><a href="#File.read_field-382"><span class="linenos">382</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_read_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File.read_field-383"><a href="#File.read_field-383"><span class="linenos">383</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">field_num</span><span class="p">)</span>
</span><span id="File.read_field-384"><a href="#File.read_field-384"><span class="linenos">384</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record_id</span><span class="p">))</span>
</span><span id="File.read_field-385"><a href="#File.read_field-385"><span class="linenos">385</span></a>
</span><span id="File.read_field-386"><a href="#File.read_field-386"><span class="linenos">386</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.read_field-387"><a href="#File.read_field-387"><span class="linenos">387</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File.read_field-388"><a href="#File.read_field-388"><span class="linenos">388</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File.read_field-389"><a href="#File.read_field-389"><span class="linenos">389</span></a>                <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_EIO</span><span class="p">:</span>
</span><span id="File.read_field-390"><a href="#File.read_field-390"><span class="linenos">390</span></a>                    <span class="n">tmp_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span>
</span><span id="File.read_field-391"><a href="#File.read_field-391"><span class="linenos">391</span></a>                    <span class="k">if</span> <span class="n">tmp_status</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_EIO_MSG_DICT</span><span class="p">:</span>
</span><span id="File.read_field-392"><a href="#File.read_field-392"><span class="linenos">392</span></a>                        <span class="n">tmp_status</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="File.read_field-393"><a href="#File.read_field-393"><span class="linenos">393</span></a>                    <span class="n">msg</span> <span class="o">=</span> <span class="n">_EIO_MSG_DICT</span><span class="p">[</span><span class="n">tmp_status</span><span class="p">]</span>
</span><span id="File.read_field-394"><a href="#File.read_field-394"><span class="linenos">394</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
</span><span id="File.read_field-395"><a href="#File.read_field-395"><span class="linenos">395</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="File.read_field-396"><a href="#File.read_field-396"><span class="linenos">396</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File.read_field-397"><a href="#File.read_field-397"><span class="linenos">397</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="File.read_field-398"><a href="#File.read_field-398"><span class="linenos">398</span></a>                <span class="n">field</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.read_field-399"><a href="#File.read_field-399"><span class="linenos">399</span></a>
</span><span id="File.read_field-400"><a href="#File.read_field-400"><span class="linenos">400</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
</span><span id="File.read_field-401"><a href="#File.read_field-401"><span class="linenos">401</span></a>        <span class="k">return</span> <span class="n">field</span>
</span></pre></div>


            <div class="docstring"><p>Read a single field of a record in the file.</p>

<p>Args:
    record_id (any ): the record id - can be str, bytes, or DynArray
    field_num (int): the field number
    lock_flag (int, optional): 0 (default), or [LOCK_EXCLUSIVE or LOCK_SHARED] [+ LOCK_WAIT]</p>

<p>Returns:
    DynArray: the value of the field.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="File.write_field" class="classattr">
                                        <input id="File.write_field-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">write_field</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span>, </span><span class="param"><span class="n">field_num</span>, </span><span class="param"><span class="n">field_value</span>, </span><span class="param"><span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.write_field-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.write_field"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.write_field-403"><a href="#File.write_field-403"><span class="linenos">403</span></a>    <span class="k">def</span> <span class="nf">write_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">field_num</span><span class="p">,</span> <span class="n">field_value</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="File.write_field-404"><a href="#File.write_field-404"><span class="linenos">404</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Write a single field of a record to the file.</span>
</span><span id="File.write_field-405"><a href="#File.write_field-405"><span class="linenos">405</span></a>
</span><span id="File.write_field-406"><a href="#File.write_field-406"><span class="linenos">406</span></a><span class="sd">        Args:</span>
</span><span id="File.write_field-407"><a href="#File.write_field-407"><span class="linenos">407</span></a><span class="sd">            record_id (any): the record id - can be str, bytes, or DynArray.</span>
</span><span id="File.write_field-408"><a href="#File.write_field-408"><span class="linenos">408</span></a><span class="sd">            field_num (int): the field number.</span>
</span><span id="File.write_field-409"><a href="#File.write_field-409"><span class="linenos">409</span></a><span class="sd">            field_value (any): the field value to be written - can be DynArray, str, bytes.</span>
</span><span id="File.write_field-410"><a href="#File.write_field-410"><span class="linenos">410</span></a><span class="sd">            lock_flag (int, optional): 0 (default), LOCK_RETAIN, LOCK_WAIT, or LOCK_RETAIN + LOCK_WAIT</span>
</span><span id="File.write_field-411"><a href="#File.write_field-411"><span class="linenos">411</span></a>
</span><span id="File.write_field-412"><a href="#File.write_field-412"><span class="linenos">412</span></a><span class="sd">        Returns:</span>
</span><span id="File.write_field-413"><a href="#File.write_field-413"><span class="linenos">413</span></a><span class="sd">            None</span>
</span><span id="File.write_field-414"><a href="#File.write_field-414"><span class="linenos">414</span></a>
</span><span id="File.write_field-415"><a href="#File.write_field-415"><span class="linenos">415</span></a><span class="sd">        Raises:</span>
</span><span id="File.write_field-416"><a href="#File.write_field-416"><span class="linenos">416</span></a><span class="sd">            UOError</span>
</span><span id="File.write_field-417"><a href="#File.write_field-417"><span class="linenos">417</span></a>
</span><span id="File.write_field-418"><a href="#File.write_field-418"><span class="linenos">418</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.write_field-419"><a href="#File.write_field-419"><span class="linenos">419</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">field_num</span><span class="p">,</span> <span class="n">field_value</span><span class="p">,</span> <span class="n">lock_flag</span><span class="p">)</span>
</span><span id="File.write_field-420"><a href="#File.write_field-420"><span class="linenos">420</span></a>
</span><span id="File.write_field-421"><a href="#File.write_field-421"><span class="linenos">421</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File.write_field-422"><a href="#File.write_field-422"><span class="linenos">422</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.write_field-423"><a href="#File.write_field-423"><span class="linenos">423</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.write_field-424"><a href="#File.write_field-424"><span class="linenos">424</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.write_field-425"><a href="#File.write_field-425"><span class="linenos">425</span></a>
</span><span id="File.write_field-426"><a href="#File.write_field-426"><span class="linenos">426</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_WRITEV</span><span class="p">)</span>
</span><span id="File.write_field-427"><a href="#File.write_field-427"><span class="linenos">427</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File.write_field-428"><a href="#File.write_field-428"><span class="linenos">428</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_write_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File.write_field-429"><a href="#File.write_field-429"><span class="linenos">429</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">field_num</span><span class="p">)</span>
</span><span id="File.write_field-430"><a href="#File.write_field-430"><span class="linenos">430</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record_id</span><span class="p">))</span>
</span><span id="File.write_field-431"><a href="#File.write_field-431"><span class="linenos">431</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">field_value</span><span class="p">))</span>
</span><span id="File.write_field-432"><a href="#File.write_field-432"><span class="linenos">432</span></a>
</span><span id="File.write_field-433"><a href="#File.write_field-433"><span class="linenos">433</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.write_field-434"><a href="#File.write_field-434"><span class="linenos">434</span></a>
</span><span id="File.write_field-435"><a href="#File.write_field-435"><span class="linenos">435</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File.write_field-436"><a href="#File.write_field-436"><span class="linenos">436</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File.write_field-437"><a href="#File.write_field-437"><span class="linenos">437</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="File.write_field-438"><a href="#File.write_field-438"><span class="linenos">438</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File.write_field-439"><a href="#File.write_field-439"><span class="linenos">439</span></a>
</span><span id="File.write_field-440"><a href="#File.write_field-440"><span class="linenos">440</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Write a single field of a record to the file.</p>

<p>Args:
    record_id (any): the record id - can be str, bytes, or DynArray.
    field_num (int): the field number.
    field_value (any): the field value to be written - can be DynArray, str, bytes.
    lock_flag (int, optional): 0 (default), LOCK_RETAIN, LOCK_WAIT, or LOCK_RETAIN + LOCK_WAIT</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="File.lock_file" class="classattr">
                                        <input id="File.lock_file-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">lock_file</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.lock_file-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.lock_file"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.lock_file-442"><a href="#File.lock_file-442"><span class="linenos">442</span></a>    <span class="k">def</span> <span class="nf">lock_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="File.lock_file-443"><a href="#File.lock_file-443"><span class="linenos">443</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Lock the entire file exclusively.</span>
</span><span id="File.lock_file-444"><a href="#File.lock_file-444"><span class="linenos">444</span></a>
</span><span id="File.lock_file-445"><a href="#File.lock_file-445"><span class="linenos">445</span></a><span class="sd">        Args:</span>
</span><span id="File.lock_file-446"><a href="#File.lock_file-446"><span class="linenos">446</span></a>
</span><span id="File.lock_file-447"><a href="#File.lock_file-447"><span class="linenos">447</span></a><span class="sd">        Returns:</span>
</span><span id="File.lock_file-448"><a href="#File.lock_file-448"><span class="linenos">448</span></a><span class="sd">            None</span>
</span><span id="File.lock_file-449"><a href="#File.lock_file-449"><span class="linenos">449</span></a>
</span><span id="File.lock_file-450"><a href="#File.lock_file-450"><span class="linenos">450</span></a><span class="sd">        Raises:</span>
</span><span id="File.lock_file-451"><a href="#File.lock_file-451"><span class="linenos">451</span></a><span class="sd">            UOError</span>
</span><span id="File.lock_file-452"><a href="#File.lock_file-452"><span class="linenos">452</span></a>
</span><span id="File.lock_file-453"><a href="#File.lock_file-453"><span class="linenos">453</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.lock_file-454"><a href="#File.lock_file-454"><span class="linenos">454</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
</span><span id="File.lock_file-455"><a href="#File.lock_file-455"><span class="linenos">455</span></a>
</span><span id="File.lock_file-456"><a href="#File.lock_file-456"><span class="linenos">456</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File.lock_file-457"><a href="#File.lock_file-457"><span class="linenos">457</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.lock_file-458"><a href="#File.lock_file-458"><span class="linenos">458</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.lock_file-459"><a href="#File.lock_file-459"><span class="linenos">459</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.lock_file-460"><a href="#File.lock_file-460"><span class="linenos">460</span></a>
</span><span id="File.lock_file-461"><a href="#File.lock_file-461"><span class="linenos">461</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_FILELOCK</span><span class="p">)</span>
</span><span id="File.lock_file-462"><a href="#File.lock_file-462"><span class="linenos">462</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File.lock_file-463"><a href="#File.lock_file-463"><span class="linenos">463</span></a>
</span><span id="File.lock_file-464"><a href="#File.lock_file-464"><span class="linenos">464</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.lock_file-465"><a href="#File.lock_file-465"><span class="linenos">465</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File.lock_file-466"><a href="#File.lock_file-466"><span class="linenos">466</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File.lock_file-467"><a href="#File.lock_file-467"><span class="linenos">467</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File.lock_file-468"><a href="#File.lock_file-468"><span class="linenos">468</span></a>
</span><span id="File.lock_file-469"><a href="#File.lock_file-469"><span class="linenos">469</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Lock the entire file exclusively.</p>

<p>Args:</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="File.unlock_file" class="classattr">
                                        <input id="File.unlock_file-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">unlock_file</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.unlock_file-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.unlock_file"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.unlock_file-471"><a href="#File.unlock_file-471"><span class="linenos">471</span></a>    <span class="k">def</span> <span class="nf">unlock_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="File.unlock_file-472"><a href="#File.unlock_file-472"><span class="linenos">472</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Release the exclusive lock on the entire file.</span>
</span><span id="File.unlock_file-473"><a href="#File.unlock_file-473"><span class="linenos">473</span></a>
</span><span id="File.unlock_file-474"><a href="#File.unlock_file-474"><span class="linenos">474</span></a><span class="sd">        Args:</span>
</span><span id="File.unlock_file-475"><a href="#File.unlock_file-475"><span class="linenos">475</span></a>
</span><span id="File.unlock_file-476"><a href="#File.unlock_file-476"><span class="linenos">476</span></a><span class="sd">        Returns:</span>
</span><span id="File.unlock_file-477"><a href="#File.unlock_file-477"><span class="linenos">477</span></a><span class="sd">            None</span>
</span><span id="File.unlock_file-478"><a href="#File.unlock_file-478"><span class="linenos">478</span></a>
</span><span id="File.unlock_file-479"><a href="#File.unlock_file-479"><span class="linenos">479</span></a><span class="sd">        Raises:</span>
</span><span id="File.unlock_file-480"><a href="#File.unlock_file-480"><span class="linenos">480</span></a><span class="sd">            UOError</span>
</span><span id="File.unlock_file-481"><a href="#File.unlock_file-481"><span class="linenos">481</span></a>
</span><span id="File.unlock_file-482"><a href="#File.unlock_file-482"><span class="linenos">482</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.unlock_file-483"><a href="#File.unlock_file-483"><span class="linenos">483</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
</span><span id="File.unlock_file-484"><a href="#File.unlock_file-484"><span class="linenos">484</span></a>
</span><span id="File.unlock_file-485"><a href="#File.unlock_file-485"><span class="linenos">485</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File.unlock_file-486"><a href="#File.unlock_file-486"><span class="linenos">486</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.unlock_file-487"><a href="#File.unlock_file-487"><span class="linenos">487</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.unlock_file-488"><a href="#File.unlock_file-488"><span class="linenos">488</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.unlock_file-489"><a href="#File.unlock_file-489"><span class="linenos">489</span></a>
</span><span id="File.unlock_file-490"><a href="#File.unlock_file-490"><span class="linenos">490</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_FILEUNLOCK</span><span class="p">)</span>
</span><span id="File.unlock_file-491"><a href="#File.unlock_file-491"><span class="linenos">491</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File.unlock_file-492"><a href="#File.unlock_file-492"><span class="linenos">492</span></a>
</span><span id="File.unlock_file-493"><a href="#File.unlock_file-493"><span class="linenos">493</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.unlock_file-494"><a href="#File.unlock_file-494"><span class="linenos">494</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File.unlock_file-495"><a href="#File.unlock_file-495"><span class="linenos">495</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File.unlock_file-496"><a href="#File.unlock_file-496"><span class="linenos">496</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File.unlock_file-497"><a href="#File.unlock_file-497"><span class="linenos">497</span></a>
</span><span id="File.unlock_file-498"><a href="#File.unlock_file-498"><span class="linenos">498</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Release the exclusive lock on the entire file.</p>

<p>Args:</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="File.lock" class="classattr">
                                        <input id="File.lock-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">lock</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span>, </span><span class="param"><span class="n">lock_flag</span><span class="o">=</span><span class="mi">4</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.lock-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.lock"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.lock-500"><a href="#File.lock-500"><span class="linenos">500</span></a>    <span class="k">def</span> <span class="nf">lock</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="n">LOCK_EXCLUSIVE</span><span class="p">):</span>
</span><span id="File.lock-501"><a href="#File.lock-501"><span class="linenos">501</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Lock a record in the file.</span>
</span><span id="File.lock-502"><a href="#File.lock-502"><span class="linenos">502</span></a>
</span><span id="File.lock-503"><a href="#File.lock-503"><span class="linenos">503</span></a><span class="sd">        Args:</span>
</span><span id="File.lock-504"><a href="#File.lock-504"><span class="linenos">504</span></a><span class="sd">            record_id (any): the record id - can be str, bytes, or DynArray.</span>
</span><span id="File.lock-505"><a href="#File.lock-505"><span class="linenos">505</span></a><span class="sd">            lock_flag (int, optional): LOCK_EXCLUSIVE (default) or LOCK_SHARED</span>
</span><span id="File.lock-506"><a href="#File.lock-506"><span class="linenos">506</span></a>
</span><span id="File.lock-507"><a href="#File.lock-507"><span class="linenos">507</span></a><span class="sd">        Returns:</span>
</span><span id="File.lock-508"><a href="#File.lock-508"><span class="linenos">508</span></a><span class="sd">            None</span>
</span><span id="File.lock-509"><a href="#File.lock-509"><span class="linenos">509</span></a>
</span><span id="File.lock-510"><a href="#File.lock-510"><span class="linenos">510</span></a><span class="sd">        Raises:</span>
</span><span id="File.lock-511"><a href="#File.lock-511"><span class="linenos">511</span></a><span class="sd">            UOError</span>
</span><span id="File.lock-512"><a href="#File.lock-512"><span class="linenos">512</span></a>
</span><span id="File.lock-513"><a href="#File.lock-513"><span class="linenos">513</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.lock-514"><a href="#File.lock-514"><span class="linenos">514</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">lock_flag</span><span class="p">)</span>
</span><span id="File.lock-515"><a href="#File.lock-515"><span class="linenos">515</span></a>
</span><span id="File.lock-516"><a href="#File.lock-516"><span class="linenos">516</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File.lock-517"><a href="#File.lock-517"><span class="linenos">517</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.lock-518"><a href="#File.lock-518"><span class="linenos">518</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.lock-519"><a href="#File.lock-519"><span class="linenos">519</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.lock-520"><a href="#File.lock-520"><span class="linenos">520</span></a>
</span><span id="File.lock-521"><a href="#File.lock-521"><span class="linenos">521</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_RECORDLOCK</span><span class="p">)</span>
</span><span id="File.lock-522"><a href="#File.lock-522"><span class="linenos">522</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File.lock-523"><a href="#File.lock-523"><span class="linenos">523</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_read_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File.lock-524"><a href="#File.lock-524"><span class="linenos">524</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record_id</span><span class="p">))</span>
</span><span id="File.lock-525"><a href="#File.lock-525"><span class="linenos">525</span></a>
</span><span id="File.lock-526"><a href="#File.lock-526"><span class="linenos">526</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.lock-527"><a href="#File.lock-527"><span class="linenos">527</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File.lock-528"><a href="#File.lock-528"><span class="linenos">528</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File.lock-529"><a href="#File.lock-529"><span class="linenos">529</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File.lock-530"><a href="#File.lock-530"><span class="linenos">530</span></a>
</span><span id="File.lock-531"><a href="#File.lock-531"><span class="linenos">531</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Lock a record in the file.</p>

<p>Args:
    record_id (any): the record id - can be str, bytes, or DynArray.
    lock_flag (int, optional): LOCK_EXCLUSIVE (default) or LOCK_SHARED</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="File.unlock" class="classattr">
                                        <input id="File.unlock-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">unlock</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span>, </span><span class="param"><span class="n">clear_flag</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.unlock-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.unlock"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.unlock-533"><a href="#File.unlock-533"><span class="linenos">533</span></a>    <span class="k">def</span> <span class="nf">unlock</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">clear_flag</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="File.unlock-534"><a href="#File.unlock-534"><span class="linenos">534</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Release locks owned by the current session on a record of the file.</span>
</span><span id="File.unlock-535"><a href="#File.unlock-535"><span class="linenos">535</span></a>
</span><span id="File.unlock-536"><a href="#File.unlock-536"><span class="linenos">536</span></a><span class="sd">        Args:</span>
</span><span id="File.unlock-537"><a href="#File.unlock-537"><span class="linenos">537</span></a><span class="sd">            record_id (any): the record id - can be str, bytes, or DynArray.</span>
</span><span id="File.unlock-538"><a href="#File.unlock-538"><span class="linenos">538</span></a><span class="sd">            clear_flag (boolean, optional): False (default), only release the lock on the specified record; otherwise,</span>
</span><span id="File.unlock-539"><a href="#File.unlock-539"><span class="linenos">539</span></a><span class="sd">                release all the locks owned by the current session.</span>
</span><span id="File.unlock-540"><a href="#File.unlock-540"><span class="linenos">540</span></a>
</span><span id="File.unlock-541"><a href="#File.unlock-541"><span class="linenos">541</span></a><span class="sd">        Returns:</span>
</span><span id="File.unlock-542"><a href="#File.unlock-542"><span class="linenos">542</span></a><span class="sd">            None</span>
</span><span id="File.unlock-543"><a href="#File.unlock-543"><span class="linenos">543</span></a>
</span><span id="File.unlock-544"><a href="#File.unlock-544"><span class="linenos">544</span></a><span class="sd">        Raises:</span>
</span><span id="File.unlock-545"><a href="#File.unlock-545"><span class="linenos">545</span></a><span class="sd">            UOError</span>
</span><span id="File.unlock-546"><a href="#File.unlock-546"><span class="linenos">546</span></a>
</span><span id="File.unlock-547"><a href="#File.unlock-547"><span class="linenos">547</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.unlock-548"><a href="#File.unlock-548"><span class="linenos">548</span></a>
</span><span id="File.unlock-549"><a href="#File.unlock-549"><span class="linenos">549</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">clear_flag</span><span class="p">)</span>
</span><span id="File.unlock-550"><a href="#File.unlock-550"><span class="linenos">550</span></a>
</span><span id="File.unlock-551"><a href="#File.unlock-551"><span class="linenos">551</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File.unlock-552"><a href="#File.unlock-552"><span class="linenos">552</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.unlock-553"><a href="#File.unlock-553"><span class="linenos">553</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.unlock-554"><a href="#File.unlock-554"><span class="linenos">554</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.unlock-555"><a href="#File.unlock-555"><span class="linenos">555</span></a>
</span><span id="File.unlock-556"><a href="#File.unlock-556"><span class="linenos">556</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_RELEASE</span><span class="p">)</span>
</span><span id="File.unlock-557"><a href="#File.unlock-557"><span class="linenos">557</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File.unlock-558"><a href="#File.unlock-558"><span class="linenos">558</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">clear_flag</span> <span class="k">else</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="File.unlock-559"><a href="#File.unlock-559"><span class="linenos">559</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record_id</span><span class="p">))</span>
</span><span id="File.unlock-560"><a href="#File.unlock-560"><span class="linenos">560</span></a>
</span><span id="File.unlock-561"><a href="#File.unlock-561"><span class="linenos">561</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.unlock-562"><a href="#File.unlock-562"><span class="linenos">562</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File.unlock-563"><a href="#File.unlock-563"><span class="linenos">563</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File.unlock-564"><a href="#File.unlock-564"><span class="linenos">564</span></a>
</span><span id="File.unlock-565"><a href="#File.unlock-565"><span class="linenos">565</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Release locks owned by the current session on a record of the file.</p>

<p>Args:
    record_id (any): the record id - can be str, bytes, or DynArray.
    clear_flag (boolean, optional): False (default), only release the lock on the specified record; otherwise,
        release all the locks owned by the current session.</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="File.is_locked" class="classattr">
                                        <input id="File.is_locked-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_locked</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.is_locked-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.is_locked"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.is_locked-567"><a href="#File.is_locked-567"><span class="linenos">567</span></a>    <span class="k">def</span> <span class="nf">is_locked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">):</span>
</span><span id="File.is_locked-568"><a href="#File.is_locked-568"><span class="linenos">568</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if a record has a lock on it.</span>
</span><span id="File.is_locked-569"><a href="#File.is_locked-569"><span class="linenos">569</span></a>
</span><span id="File.is_locked-570"><a href="#File.is_locked-570"><span class="linenos">570</span></a><span class="sd">        Args:</span>
</span><span id="File.is_locked-571"><a href="#File.is_locked-571"><span class="linenos">571</span></a><span class="sd">            record_id (any): the record id - can be str, bytes, or DynArray.</span>
</span><span id="File.is_locked-572"><a href="#File.is_locked-572"><span class="linenos">572</span></a>
</span><span id="File.is_locked-573"><a href="#File.is_locked-573"><span class="linenos">573</span></a><span class="sd">        Returns:</span>
</span><span id="File.is_locked-574"><a href="#File.is_locked-574"><span class="linenos">574</span></a><span class="sd">            boolean: True, a lock exists on the record by either the current session or other sessions.</span>
</span><span id="File.is_locked-575"><a href="#File.is_locked-575"><span class="linenos">575</span></a>
</span><span id="File.is_locked-576"><a href="#File.is_locked-576"><span class="linenos">576</span></a><span class="sd">        Raises:</span>
</span><span id="File.is_locked-577"><a href="#File.is_locked-577"><span class="linenos">577</span></a><span class="sd">            UOError</span>
</span><span id="File.is_locked-578"><a href="#File.is_locked-578"><span class="linenos">578</span></a>
</span><span id="File.is_locked-579"><a href="#File.is_locked-579"><span class="linenos">579</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.is_locked-580"><a href="#File.is_locked-580"><span class="linenos">580</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">record_id</span><span class="p">)</span>
</span><span id="File.is_locked-581"><a href="#File.is_locked-581"><span class="linenos">581</span></a>
</span><span id="File.is_locked-582"><a href="#File.is_locked-582"><span class="linenos">582</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File.is_locked-583"><a href="#File.is_locked-583"><span class="linenos">583</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.is_locked-584"><a href="#File.is_locked-584"><span class="linenos">584</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.is_locked-585"><a href="#File.is_locked-585"><span class="linenos">585</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.is_locked-586"><a href="#File.is_locked-586"><span class="linenos">586</span></a>
</span><span id="File.is_locked-587"><a href="#File.is_locked-587"><span class="linenos">587</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_RECORDLOCKED</span><span class="p">)</span>
</span><span id="File.is_locked-588"><a href="#File.is_locked-588"><span class="linenos">588</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File.is_locked-589"><a href="#File.is_locked-589"><span class="linenos">589</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record_id</span><span class="p">))</span>
</span><span id="File.is_locked-590"><a href="#File.is_locked-590"><span class="linenos">590</span></a>
</span><span id="File.is_locked-591"><a href="#File.is_locked-591"><span class="linenos">591</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.is_locked-592"><a href="#File.is_locked-592"><span class="linenos">592</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File.is_locked-593"><a href="#File.is_locked-593"><span class="linenos">593</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File.is_locked-594"><a href="#File.is_locked-594"><span class="linenos">594</span></a>
</span><span id="File.is_locked-595"><a href="#File.is_locked-595"><span class="linenos">595</span></a>            <span class="n">lock_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="File.is_locked-596"><a href="#File.is_locked-596"><span class="linenos">596</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="File.is_locked-597"><a href="#File.is_locked-597"><span class="linenos">597</span></a>
</span><span id="File.is_locked-598"><a href="#File.is_locked-598"><span class="linenos">598</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">lock_status</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span><span class="p">)</span>
</span><span id="File.is_locked-599"><a href="#File.is_locked-599"><span class="linenos">599</span></a>        <span class="k">return</span> <span class="kc">False</span> <span class="k">if</span> <span class="n">lock_status</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Check if a record has a lock on it.</p>

<p>Args:
    record_id (any): the record id - can be str, bytes, or DynArray.</p>

<p>Returns:
    boolean: True, a lock exists on the record by either the current session or other sessions.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="File.get_ak_info" class="classattr">
                                        <input id="File.get_ak_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_ak_info</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">index_name</span><span class="o">=</span><span class="s1">&#39;&#39;</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.get_ak_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.get_ak_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.get_ak_info-601"><a href="#File.get_ak_info-601"><span class="linenos">601</span></a>    <span class="k">def</span> <span class="nf">get_ak_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
</span><span id="File.get_ak_info-602"><a href="#File.get_ak_info-602"><span class="linenos">602</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtain information about the secondary key indexes available on the file.</span>
</span><span id="File.get_ak_info-603"><a href="#File.get_ak_info-603"><span class="linenos">603</span></a>
</span><span id="File.get_ak_info-604"><a href="#File.get_ak_info-604"><span class="linenos">604</span></a><span class="sd">        Args:</span>
</span><span id="File.get_ak_info-605"><a href="#File.get_ak_info-605"><span class="linenos">605</span></a><span class="sd">            index_name (str, Optional). If this value is None or ignored, the list of available indices is returned.</span>
</span><span id="File.get_ak_info-606"><a href="#File.get_ak_info-606"><span class="linenos">606</span></a>
</span><span id="File.get_ak_info-607"><a href="#File.get_ak_info-607"><span class="linenos">607</span></a><span class="sd">        Returns:</span>
</span><span id="File.get_ak_info-608"><a href="#File.get_ak_info-608"><span class="linenos">608</span></a><span class="sd">            DynArray:</span>
</span><span id="File.get_ak_info-609"><a href="#File.get_ak_info-609"><span class="linenos">609</span></a><span class="sd">                The return value will vary depending on the type of index, as follows:</span>
</span><span id="File.get_ak_info-610"><a href="#File.get_ak_info-610"><span class="linenos">610</span></a><span class="sd">                1. For D-Type indexes: Field 1 contains D as the first character and</span>
</span><span id="File.get_ak_info-611"><a href="#File.get_ak_info-611"><span class="linenos">611</span></a><span class="sd">                    Field 2 contains the location number of the indexed field.</span>
</span><span id="File.get_ak_info-612"><a href="#File.get_ak_info-612"><span class="linenos">612</span></a><span class="sd">                2. For I-type indexes: Field 1 contains I as the first character,</span>
</span><span id="File.get_ak_info-613"><a href="#File.get_ak_info-613"><span class="linenos">613</span></a><span class="sd">                    Field 2 contains the I-type expression, and the compiled I-type resides in field 19 and onward.</span>
</span><span id="File.get_ak_info-614"><a href="#File.get_ak_info-614"><span class="linenos">614</span></a><span class="sd">                3. For both types:</span>
</span><span id="File.get_ak_info-615"><a href="#File.get_ak_info-615"><span class="linenos">615</span></a><span class="sd">                    2nd value of Field 1 indicates if the index needs to be rebuilt. It is an empty string otherwise.</span>
</span><span id="File.get_ak_info-616"><a href="#File.get_ak_info-616"><span class="linenos">616</span></a><span class="sd">                    3rd value of Field 1 is set if the index is null-suppressed. It is an empty string otherwise.</span>
</span><span id="File.get_ak_info-617"><a href="#File.get_ak_info-617"><span class="linenos">617</span></a><span class="sd">                    4th value of Field 1 is set if automatic updates are disabled. It is an empty string otherwise.</span>
</span><span id="File.get_ak_info-618"><a href="#File.get_ak_info-618"><span class="linenos">618</span></a><span class="sd">                    6th value of Field 1 contains an S for single valued indices or M for a multivalued index.</span>
</span><span id="File.get_ak_info-619"><a href="#File.get_ak_info-619"><span class="linenos">619</span></a>
</span><span id="File.get_ak_info-620"><a href="#File.get_ak_info-620"><span class="linenos">620</span></a><span class="sd">        Raises:</span>
</span><span id="File.get_ak_info-621"><a href="#File.get_ak_info-621"><span class="linenos">621</span></a><span class="sd">            UOError</span>
</span><span id="File.get_ak_info-622"><a href="#File.get_ak_info-622"><span class="linenos">622</span></a>
</span><span id="File.get_ak_info-623"><a href="#File.get_ak_info-623"><span class="linenos">623</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.get_ak_info-624"><a href="#File.get_ak_info-624"><span class="linenos">624</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">index_name</span><span class="p">)</span>
</span><span id="File.get_ak_info-625"><a href="#File.get_ak_info-625"><span class="linenos">625</span></a>
</span><span id="File.get_ak_info-626"><a href="#File.get_ak_info-626"><span class="linenos">626</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File.get_ak_info-627"><a href="#File.get_ak_info-627"><span class="linenos">627</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.get_ak_info-628"><a href="#File.get_ak_info-628"><span class="linenos">628</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.get_ak_info-629"><a href="#File.get_ak_info-629"><span class="linenos">629</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.get_ak_info-630"><a href="#File.get_ak_info-630"><span class="linenos">630</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_INDICES</span><span class="p">)</span>
</span><span id="File.get_ak_info-631"><a href="#File.get_ak_info-631"><span class="linenos">631</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File.get_ak_info-632"><a href="#File.get_ak_info-632"><span class="linenos">632</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">index_name</span><span class="p">))</span>
</span><span id="File.get_ak_info-633"><a href="#File.get_ak_info-633"><span class="linenos">633</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">index_name</span><span class="p">))</span>
</span><span id="File.get_ak_info-634"><a href="#File.get_ak_info-634"><span class="linenos">634</span></a>
</span><span id="File.get_ak_info-635"><a href="#File.get_ak_info-635"><span class="linenos">635</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.get_ak_info-636"><a href="#File.get_ak_info-636"><span class="linenos">636</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File.get_ak_info-637"><a href="#File.get_ak_info-637"><span class="linenos">637</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File.get_ak_info-638"><a href="#File.get_ak_info-638"><span class="linenos">638</span></a>
</span><span id="File.get_ak_info-639"><a href="#File.get_ak_info-639"><span class="linenos">639</span></a>            <span class="n">ak_info</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.get_ak_info-640"><a href="#File.get_ak_info-640"><span class="linenos">640</span></a>
</span><span id="File.get_ak_info-641"><a href="#File.get_ak_info-641"><span class="linenos">641</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">ak_info</span><span class="p">)</span>
</span><span id="File.get_ak_info-642"><a href="#File.get_ak_info-642"><span class="linenos">642</span></a>        <span class="k">return</span> <span class="n">ak_info</span>
</span></pre></div>


            <div class="docstring"><p>Obtain information about the secondary key indexes available on the file.</p>

<p>Args:
    index_name (str, Optional). If this value is None or ignored, the list of available indices is returned.</p>

<p>Returns:
    DynArray:
        The return value will vary depending on the type of index, as follows:
        1. For D-Type indexes: Field 1 contains D as the first character and
            Field 2 contains the location number of the indexed field.
        2. For I-type indexes: Field 1 contains I as the first character,
            Field 2 contains the I-type expression, and the compiled I-type resides in field 19 and onward.
        3. For both types:
            2nd value of Field 1 indicates if the index needs to be rebuilt. It is an empty string otherwise.
            3rd value of Field 1 is set if the index is null-suppressed. It is an empty string otherwise.
            4th value of Field 1 is set if automatic updates are disabled. It is an empty string otherwise.
            6th value of Field 1 contains an S for single valued indices or M for a multivalued index.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="File.itype" class="classattr">
                                        <input id="File.itype-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">itype</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span>, </span><span class="param"><span class="n">i_type_id</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.itype-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.itype"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.itype-644"><a href="#File.itype-644"><span class="linenos">644</span></a>    <span class="k">def</span> <span class="nf">itype</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">i_type_id</span><span class="p">):</span>
</span><span id="File.itype-645"><a href="#File.itype-645"><span class="linenos">645</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Evaluates the specified I-descriptor and returns the evaluated string.</span>
</span><span id="File.itype-646"><a href="#File.itype-646"><span class="linenos">646</span></a>
</span><span id="File.itype-647"><a href="#File.itype-647"><span class="linenos">647</span></a><span class="sd">        Args:</span>
</span><span id="File.itype-648"><a href="#File.itype-648"><span class="linenos">648</span></a><span class="sd">            record_id (any): the record id - can be str, bytes, or DynArray.</span>
</span><span id="File.itype-649"><a href="#File.itype-649"><span class="linenos">649</span></a><span class="sd">            i_type_id (any): the I-descriptor record id in the dictionary - can be str, bytes, or DynArray.</span>
</span><span id="File.itype-650"><a href="#File.itype-650"><span class="linenos">650</span></a>
</span><span id="File.itype-651"><a href="#File.itype-651"><span class="linenos">651</span></a><span class="sd">        Returns:</span>
</span><span id="File.itype-652"><a href="#File.itype-652"><span class="linenos">652</span></a><span class="sd">            DynArray: the evaluated result.</span>
</span><span id="File.itype-653"><a href="#File.itype-653"><span class="linenos">653</span></a>
</span><span id="File.itype-654"><a href="#File.itype-654"><span class="linenos">654</span></a><span class="sd">        Raises:</span>
</span><span id="File.itype-655"><a href="#File.itype-655"><span class="linenos">655</span></a><span class="sd">          UOError</span>
</span><span id="File.itype-656"><a href="#File.itype-656"><span class="linenos">656</span></a>
</span><span id="File.itype-657"><a href="#File.itype-657"><span class="linenos">657</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.itype-658"><a href="#File.itype-658"><span class="linenos">658</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">i_type_id</span><span class="p">)</span>
</span><span id="File.itype-659"><a href="#File.itype-659"><span class="linenos">659</span></a>
</span><span id="File.itype-660"><a href="#File.itype-660"><span class="linenos">660</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.itype-661"><a href="#File.itype-661"><span class="linenos">661</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.itype-662"><a href="#File.itype-662"><span class="linenos">662</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.itype-663"><a href="#File.itype-663"><span class="linenos">663</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_ITYPE</span><span class="p">)</span>
</span><span id="File.itype-664"><a href="#File.itype-664"><span class="linenos">664</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">))</span>
</span><span id="File.itype-665"><a href="#File.itype-665"><span class="linenos">665</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">record_id</span><span class="p">))</span>
</span><span id="File.itype-666"><a href="#File.itype-666"><span class="linenos">666</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">i_type_id</span><span class="p">))</span>
</span><span id="File.itype-667"><a href="#File.itype-667"><span class="linenos">667</span></a>
</span><span id="File.itype-668"><a href="#File.itype-668"><span class="linenos">668</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.itype-669"><a href="#File.itype-669"><span class="linenos">669</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File.itype-670"><a href="#File.itype-670"><span class="linenos">670</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="File.itype-671"><a href="#File.itype-671"><span class="linenos">671</span></a>
</span><span id="File.itype-672"><a href="#File.itype-672"><span class="linenos">672</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.itype-673"><a href="#File.itype-673"><span class="linenos">673</span></a>
</span><span id="File.itype-674"><a href="#File.itype-674"><span class="linenos">674</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</span><span id="File.itype-675"><a href="#File.itype-675"><span class="linenos">675</span></a>        <span class="k">return</span> <span class="n">result</span>
</span></pre></div>


            <div class="docstring"><p>Evaluates the specified I-descriptor and returns the evaluated string.</p>

<p>Args:
    record_id (any): the record id - can be str, bytes, or DynArray.
    i_type_id (any): the I-descriptor record id in the dictionary - can be str, bytes, or DynArray.</p>

<p>Returns:
    DynArray: the evaluated result.</p>

<p>Raises:
  UOError</p>
</div>


                            </div>
                            <div id="File.read_named_fields" class="classattr">
                                        <input id="File.read_named_fields-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">read_named_fields</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">id_list</span>, </span><span class="param"><span class="n">field_list</span>, </span><span class="param"><span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.read_named_fields-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.read_named_fields"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.read_named_fields-677"><a href="#File.read_named_fields-677"><span class="linenos">677</span></a>    <span class="k">def</span> <span class="nf">read_named_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_list</span><span class="p">,</span> <span class="n">field_list</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="File.read_named_fields-678"><a href="#File.read_named_fields-678"><span class="linenos">678</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Read a list of named fields on multiple records.</span>
</span><span id="File.read_named_fields-679"><a href="#File.read_named_fields-679"><span class="linenos">679</span></a>
</span><span id="File.read_named_fields-680"><a href="#File.read_named_fields-680"><span class="linenos">680</span></a><span class="sd">        Note:</span>
</span><span id="File.read_named_fields-681"><a href="#File.read_named_fields-681"><span class="linenos">681</span></a><span class="sd">            fields can be of D-type or I/V type.</span>
</span><span id="File.read_named_fields-682"><a href="#File.read_named_fields-682"><span class="linenos">682</span></a><span class="sd">            If field_list contains names that are not defined in the dictionary, these names are replaced by @ID.</span>
</span><span id="File.read_named_fields-683"><a href="#File.read_named_fields-683"><span class="linenos">683</span></a><span class="sd">            If a field has conv code on it, an oconv is automatically performed on its internal value to get the</span>
</span><span id="File.read_named_fields-684"><a href="#File.read_named_fields-684"><span class="linenos">684</span></a><span class="sd">            converted output value.</span>
</span><span id="File.read_named_fields-685"><a href="#File.read_named_fields-685"><span class="linenos">685</span></a>
</span><span id="File.read_named_fields-686"><a href="#File.read_named_fields-686"><span class="linenos">686</span></a><span class="sd">        Args:</span>
</span><span id="File.read_named_fields-687"><a href="#File.read_named_fields-687"><span class="linenos">687</span></a><span class="sd">            id_list: a list of record ids.</span>
</span><span id="File.read_named_fields-688"><a href="#File.read_named_fields-688"><span class="linenos">688</span></a><span class="sd">            field_list: a list of field names.</span>
</span><span id="File.read_named_fields-689"><a href="#File.read_named_fields-689"><span class="linenos">689</span></a><span class="sd">            lock_flag (int, optional): 0 (default, no lock), or [LOCK_EXCLUSIVE or LOCK_SHARED] [+ LOCK_WAIT]</span>
</span><span id="File.read_named_fields-690"><a href="#File.read_named_fields-690"><span class="linenos">690</span></a>
</span><span id="File.read_named_fields-691"><a href="#File.read_named_fields-691"><span class="linenos">691</span></a><span class="sd">        Returns:</span>
</span><span id="File.read_named_fields-692"><a href="#File.read_named_fields-692"><span class="linenos">692</span></a><span class="sd">            tuple: a tuple consisting of four lists: 1. response code list, 2. status code list, 3. record id list,</span>
</span><span id="File.read_named_fields-693"><a href="#File.read_named_fields-693"><span class="linenos">693</span></a><span class="sd">                    4. record list.</span>
</span><span id="File.read_named_fields-694"><a href="#File.read_named_fields-694"><span class="linenos">694</span></a>
</span><span id="File.read_named_fields-695"><a href="#File.read_named_fields-695"><span class="linenos">695</span></a><span class="sd">        Raises:</span>
</span><span id="File.read_named_fields-696"><a href="#File.read_named_fields-696"><span class="linenos">696</span></a><span class="sd">            UOFileError</span>
</span><span id="File.read_named_fields-697"><a href="#File.read_named_fields-697"><span class="linenos">697</span></a>
</span><span id="File.read_named_fields-698"><a href="#File.read_named_fields-698"><span class="linenos">698</span></a><span class="sd">        Examples:</span>
</span><span id="File.read_named_fields-699"><a href="#File.read_named_fields-699"><span class="linenos">699</span></a><span class="sd">            &gt;&gt;&gt; with File(&quot;RENTAL_DETAILS&quot;) as test_file:</span>
</span><span id="File.read_named_fields-700"><a href="#File.read_named_fields-700"><span class="linenos">700</span></a><span class="sd">            &gt;&gt;&gt;     field_list = [&quot;FULL_NAME&quot;, &quot;ACTUAL_RETURN_DATE&quot;, &quot;BALANCE_DUE&quot;]</span>
</span><span id="File.read_named_fields-701"><a href="#File.read_named_fields-701"><span class="linenos">701</span></a><span class="sd">            &gt;&gt;&gt;     id_list = [&#39;1084&#39;, &#39;1307&#39;, &#39;1976&#39;]</span>
</span><span id="File.read_named_fields-702"><a href="#File.read_named_fields-702"><span class="linenos">702</span></a><span class="sd">            &gt;&gt;&gt;     read_rs = test_file.read_named_fields(id_list, field_list)</span>
</span><span id="File.read_named_fields-703"><a href="#File.read_named_fields-703"><span class="linenos">703</span></a><span class="sd">            &gt;&gt;&gt;     for l in read_rs:</span>
</span><span id="File.read_named_fields-704"><a href="#File.read_named_fields-704"><span class="linenos">704</span></a><span class="sd">            &gt;&gt;&gt;         print(l)</span>
</span><span id="File.read_named_fields-705"><a href="#File.read_named_fields-705"><span class="linenos">705</span></a><span class="sd">            [&#39;0&#39;, &#39;0&#39;, &#39;0&#39;]</span>
</span><span id="File.read_named_fields-706"><a href="#File.read_named_fields-706"><span class="linenos">706</span></a><span class="sd">            [&#39;0&#39;, &#39;0&#39;, &#39;0&#39;]</span>
</span><span id="File.read_named_fields-707"><a href="#File.read_named_fields-707"><span class="linenos">707</span></a><span class="sd">            [&#39;1084&#39;, &#39;1307&#39;, &#39;1976&#39;]</span>
</span><span id="File.read_named_fields-708"><a href="#File.read_named_fields-708"><span class="linenos">708</span></a><span class="sd">            [[&#39;Karen McGlone&#39;, [&#39;03/29/2010&#39;, &#39;03/30/2010&#39;, &#39;03/31/2010&#39;, &#39;03/30/2010&#39;], &#39;3.50&#39;],</span>
</span><span id="File.read_named_fields-709"><a href="#File.read_named_fields-709"><span class="linenos">709</span></a><span class="sd">            [&#39;Jamie Klink&#39;, [&#39;05/05/2010&#39;, &#39;05/07/2010&#39;, &#39;05/05/2010&#39;, &#39;05/07/2010&#39;, &#39;05/05/2010&#39;], &#39;4.82&#39;],</span>
</span><span id="File.read_named_fields-710"><a href="#File.read_named_fields-710"><span class="linenos">710</span></a><span class="sd">            [&#39;Mo Evans&#39;, [&#39;08/23/2010&#39;, &#39;08/20/2010&#39;, &#39;08/26/2010&#39;, &#39;08/22/2010&#39;, &#39;08/25/2010&#39;, &#39;08/22/2010&#39;], &#39;19.04&#39;]]</span>
</span><span id="File.read_named_fields-711"><a href="#File.read_named_fields-711"><span class="linenos">711</span></a>
</span><span id="File.read_named_fields-712"><a href="#File.read_named_fields-712"><span class="linenos">712</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.read_named_fields-713"><a href="#File.read_named_fields-713"><span class="linenos">713</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">id_list</span><span class="p">,</span> <span class="n">field_list</span><span class="p">,</span> <span class="n">lock_flag</span><span class="p">)</span>
</span><span id="File.read_named_fields-714"><a href="#File.read_named_fields-714"><span class="linenos">714</span></a>
</span><span id="File.read_named_fields-715"><a href="#File.read_named_fields-715"><span class="linenos">715</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File.read_named_fields-716"><a href="#File.read_named_fields-716"><span class="linenos">716</span></a>
</span><span id="File.read_named_fields-717"><a href="#File.read_named_fields-717"><span class="linenos">717</span></a>        <span class="n">id_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">id_list</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.read_named_fields-718"><a href="#File.read_named_fields-718"><span class="linenos">718</span></a>
</span><span id="File.read_named_fields-719"><a href="#File.read_named_fields-719"><span class="linenos">719</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.read_named_fields-720"><a href="#File.read_named_fields-720"><span class="linenos">720</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.read_named_fields-721"><a href="#File.read_named_fields-721"><span class="linenos">721</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.read_named_fields-722"><a href="#File.read_named_fields-722"><span class="linenos">722</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_READNAMEDFIELDSET</span><span class="p">)</span>
</span><span id="File.read_named_fields-723"><a href="#File.read_named_fields-723"><span class="linenos">723</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File.read_named_fields-724"><a href="#File.read_named_fields-724"><span class="linenos">724</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_read_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File.read_named_fields-725"><a href="#File.read_named_fields-725"><span class="linenos">725</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">id_set</span><span class="p">))</span>
</span><span id="File.read_named_fields-726"><a href="#File.read_named_fields-726"><span class="linenos">726</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="File.read_named_fields-727"><a href="#File.read_named_fields-727"><span class="linenos">727</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">field_list</span><span class="p">))</span>
</span><span id="File.read_named_fields-728"><a href="#File.read_named_fields-728"><span class="linenos">728</span></a>
</span><span id="File.read_named_fields-729"><a href="#File.read_named_fields-729"><span class="linenos">729</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.read_named_fields-730"><a href="#File.read_named_fields-730"><span class="linenos">730</span></a>
</span><span id="File.read_named_fields-731"><a href="#File.read_named_fields-731"><span class="linenos">731</span></a>            <span class="n">resp_code_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.read_named_fields-732"><a href="#File.read_named_fields-732"><span class="linenos">732</span></a>            <span class="n">status_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.read_named_fields-733"><a href="#File.read_named_fields-733"><span class="linenos">733</span></a>            <span class="n">return_data_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.read_named_fields-734"><a href="#File.read_named_fields-734"><span class="linenos">734</span></a>
</span><span id="File.read_named_fields-735"><a href="#File.read_named_fields-735"><span class="linenos">735</span></a>            <span class="n">resp_codes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">resp_code_set</span><span class="o">.</span><span class="n">list</span><span class="p">))</span>
</span><span id="File.read_named_fields-736"><a href="#File.read_named_fields-736"><span class="linenos">736</span></a>            <span class="n">status_codes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">status_set</span><span class="o">.</span><span class="n">list</span><span class="p">))</span>
</span><span id="File.read_named_fields-737"><a href="#File.read_named_fields-737"><span class="linenos">737</span></a>
</span><span id="File.read_named_fields-738"><a href="#File.read_named_fields-738"><span class="linenos">738</span></a>            <span class="n">resp_error_codes</span> <span class="o">=</span> <span class="p">[</span><span class="n">key</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">resp_codes</span> <span class="k">if</span> <span class="n">key</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">]</span>
</span><span id="File.read_named_fields-739"><a href="#File.read_named_fields-739"><span class="linenos">739</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">resp_error_codes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File.read_named_fields-740"><a href="#File.read_named_fields-740"><span class="linenos">740</span></a>                <span class="k">raise</span> <span class="n">UOFileError</span><span class="p">(</span>
</span><span id="File.read_named_fields-741"><a href="#File.read_named_fields-741"><span class="linenos">741</span></a>                    <span class="n">code</span><span class="o">=</span><span class="n">resp_error_codes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
</span><span id="File.read_named_fields-742"><a href="#File.read_named_fields-742"><span class="linenos">742</span></a>                    <span class="n">obj</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span>
</span><span id="File.read_named_fields-743"><a href="#File.read_named_fields-743"><span class="linenos">743</span></a>                    <span class="n">response_codes</span><span class="o">=</span><span class="n">resp_codes</span><span class="p">,</span>
</span><span id="File.read_named_fields-744"><a href="#File.read_named_fields-744"><span class="linenos">744</span></a>                    <span class="n">status_codes</span><span class="o">=</span><span class="n">status_codes</span><span class="p">,</span>
</span><span id="File.read_named_fields-745"><a href="#File.read_named_fields-745"><span class="linenos">745</span></a>                    <span class="n">id_list</span><span class="o">=</span><span class="n">id_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File.read_named_fields-746"><a href="#File.read_named_fields-746"><span class="linenos">746</span></a>                <span class="p">)</span>
</span><span id="File.read_named_fields-747"><a href="#File.read_named_fields-747"><span class="linenos">747</span></a>
</span><span id="File.read_named_fields-748"><a href="#File.read_named_fields-748"><span class="linenos">748</span></a>            <span class="n">result_set</span> <span class="o">=</span> <span class="p">(</span><span class="n">resp_codes</span><span class="p">,</span> <span class="n">status_codes</span><span class="p">,</span> <span class="n">id_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span> <span class="n">return_data_set</span><span class="o">.</span><span class="n">list</span><span class="p">)</span>
</span><span id="File.read_named_fields-749"><a href="#File.read_named_fields-749"><span class="linenos">749</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">result_set</span><span class="p">)</span>
</span><span id="File.read_named_fields-750"><a href="#File.read_named_fields-750"><span class="linenos">750</span></a>        <span class="k">return</span> <span class="n">result_set</span>
</span></pre></div>


            <div class="docstring"><p>Read a list of named fields on multiple records.</p>

<p>Note:
    fields can be of D-type or I/V type.
    If field_list contains names that are not defined in the dictionary, these names are replaced by @ID.
    If a field has conv code on it, an oconv is automatically performed on its internal value to get the
    converted output value.</p>

<p>Args:
    id_list: a list of record ids.
    field_list: a list of field names.
    lock_flag (int, optional): 0 (default, no lock), or [LOCK_EXCLUSIVE or LOCK_SHARED] [+ LOCK_WAIT]</p>

<p>Returns:
    tuple: a tuple consisting of four lists: 1. response code list, 2. status code list, 3. record id list,
            4. record list.</p>

<p>Raises:
    UOFileError</p>

<p>Examples:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>with File("RENTAL_DETAILS") as test_file:
          field_list = ["FULL_NAME", "ACTUAL_RETURN_DATE", "BALANCE_DUE"]
          id_list = ['1084', '1307', '1976']
          read_rs = test_file.read_named_fields(id_list, field_list)
          for l in read_rs:
              print(l)
          ['0', '0', '0']
          ['0', '0', '0']
          ['1084', '1307', '1976']
          [['Karen McGlone', ['03/29/2010', '03/30/2010', '03/31/2010', '03/30/2010'], '3.50'],
          ['Jamie Klink', ['05/05/2010', '05/07/2010', '05/05/2010', '05/07/2010', '05/05/2010'], '4.82'],
          ['Mo Evans', ['08/23/2010', '08/20/2010', '08/26/2010', '08/22/2010', '08/25/2010', '08/22/2010'], '19.04']]</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            </div>
                            <div id="File.write_named_fields" class="classattr">
                                        <input id="File.write_named_fields-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">write_named_fields</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">id_list</span>, </span><span class="param"><span class="n">field_list</span>, </span><span class="param"><span class="n">field_data_list</span>, </span><span class="param"><span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.write_named_fields-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.write_named_fields"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.write_named_fields-752"><a href="#File.write_named_fields-752"><span class="linenos">752</span></a>    <span class="k">def</span> <span class="nf">write_named_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_list</span><span class="p">,</span> <span class="n">field_list</span><span class="p">,</span> <span class="n">field_data_list</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="File.write_named_fields-753"><a href="#File.write_named_fields-753"><span class="linenos">753</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Write a list of named fields to multiple records.</span>
</span><span id="File.write_named_fields-754"><a href="#File.write_named_fields-754"><span class="linenos">754</span></a>
</span><span id="File.write_named_fields-755"><a href="#File.write_named_fields-755"><span class="linenos">755</span></a><span class="sd">        Note:</span>
</span><span id="File.write_named_fields-756"><a href="#File.write_named_fields-756"><span class="linenos">756</span></a><span class="sd">            If field_list contains names that are not defined in the dictionary, these names are ignored.</span>
</span><span id="File.write_named_fields-757"><a href="#File.write_named_fields-757"><span class="linenos">757</span></a><span class="sd">            If a field is of I/V type or the record id itself, it is ignored.</span>
</span><span id="File.write_named_fields-758"><a href="#File.write_named_fields-758"><span class="linenos">758</span></a><span class="sd">            If a field has CONV code on it, an iconv is automatically performed to use its internal value for the write.</span>
</span><span id="File.write_named_fields-759"><a href="#File.write_named_fields-759"><span class="linenos">759</span></a>
</span><span id="File.write_named_fields-760"><a href="#File.write_named_fields-760"><span class="linenos">760</span></a><span class="sd">        Args:</span>
</span><span id="File.write_named_fields-761"><a href="#File.write_named_fields-761"><span class="linenos">761</span></a><span class="sd">            id_list: a list of record ids.</span>
</span><span id="File.write_named_fields-762"><a href="#File.write_named_fields-762"><span class="linenos">762</span></a><span class="sd">            field_list: a list of field names.</span>
</span><span id="File.write_named_fields-763"><a href="#File.write_named_fields-763"><span class="linenos">763</span></a><span class="sd">            field_data_list: a list of DynArray consisting of all the field values.</span>
</span><span id="File.write_named_fields-764"><a href="#File.write_named_fields-764"><span class="linenos">764</span></a><span class="sd">            lock_flag (int, optional): 0 (default), LOCK_RETAIN, LOCK_WAIT, or LOCK_RETAIN + LOCK_WAIT</span>
</span><span id="File.write_named_fields-765"><a href="#File.write_named_fields-765"><span class="linenos">765</span></a>
</span><span id="File.write_named_fields-766"><a href="#File.write_named_fields-766"><span class="linenos">766</span></a><span class="sd">        Returns:</span>
</span><span id="File.write_named_fields-767"><a href="#File.write_named_fields-767"><span class="linenos">767</span></a><span class="sd">            tuple: a tuple consisting of 4 lists: 1. response code list, 2. status code list, 3. record id list,</span>
</span><span id="File.write_named_fields-768"><a href="#File.write_named_fields-768"><span class="linenos">768</span></a><span class="sd">                    4. field values list.</span>
</span><span id="File.write_named_fields-769"><a href="#File.write_named_fields-769"><span class="linenos">769</span></a>
</span><span id="File.write_named_fields-770"><a href="#File.write_named_fields-770"><span class="linenos">770</span></a><span class="sd">        Raises:</span>
</span><span id="File.write_named_fields-771"><a href="#File.write_named_fields-771"><span class="linenos">771</span></a><span class="sd">            UOError</span>
</span><span id="File.write_named_fields-772"><a href="#File.write_named_fields-772"><span class="linenos">772</span></a>
</span><span id="File.write_named_fields-773"><a href="#File.write_named_fields-773"><span class="linenos">773</span></a><span class="sd">        Examples:</span>
</span><span id="File.write_named_fields-774"><a href="#File.write_named_fields-774"><span class="linenos">774</span></a><span class="sd">            &gt;&gt;&gt; with File(&quot;RENTAL_DETAILS&quot;) as test_file:</span>
</span><span id="File.write_named_fields-775"><a href="#File.write_named_fields-775"><span class="linenos">775</span></a><span class="sd">            &gt;&gt;&gt;     field_list = [&quot;FULL_NAME&quot;, &quot;ACTUAL_RETURN_DATE&quot;, &quot;BALANCE_DUE&quot;]</span>
</span><span id="File.write_named_fields-776"><a href="#File.write_named_fields-776"><span class="linenos">776</span></a><span class="sd">            &gt;&gt;&gt;     id_list = [&#39;1084&#39;, &#39;1307&#39;, &#39;1976&#39;]</span>
</span><span id="File.write_named_fields-777"><a href="#File.write_named_fields-777"><span class="linenos">777</span></a><span class="sd">            &gt;&gt;&gt;     field_value_list = [[&#39;Karen McGlone&#39;, [&#39;03/29/2010&#39;, &#39;03/30/2010&#39;, &#39;03/31/2010&#39;, &#39;03/30/2010&#39;],</span>
</span><span id="File.write_named_fields-778"><a href="#File.write_named_fields-778"><span class="linenos">778</span></a><span class="sd">            &#39;3.50&#39;], [&#39;Jamie Klink&#39;, [&#39;05/05/2010&#39;, &#39;05/07/2010&#39;, &#39;05/05/2010&#39;, &#39;05/07/2010&#39;, &#39;05/05/2010&#39;], &#39;4.82&#39;],</span>
</span><span id="File.write_named_fields-779"><a href="#File.write_named_fields-779"><span class="linenos">779</span></a><span class="sd">            [&#39;Mo Evans&#39;, [&#39;08/23/2010&#39;, &#39;08/20/2010&#39;, &#39;08/26/2010&#39;, &#39;08/22/2010&#39;, &#39;08/25/2010&#39;, &#39;08/22/2010&#39;],&#39;19.04&#39;]]</span>
</span><span id="File.write_named_fields-780"><a href="#File.write_named_fields-780"><span class="linenos">780</span></a><span class="sd">            &gt;&gt;&gt;     write_rs = test_file.write_named_fields(id_list, field_list, field_value_list)</span>
</span><span id="File.write_named_fields-781"><a href="#File.write_named_fields-781"><span class="linenos">781</span></a><span class="sd">            &gt;&gt;&gt;     for l in write_rs:</span>
</span><span id="File.write_named_fields-782"><a href="#File.write_named_fields-782"><span class="linenos">782</span></a><span class="sd">            &gt;&gt;&gt;         print(l)</span>
</span><span id="File.write_named_fields-783"><a href="#File.write_named_fields-783"><span class="linenos">783</span></a><span class="sd">            [&#39;0&#39;, &#39;0&#39;, &#39;0&#39;]</span>
</span><span id="File.write_named_fields-784"><a href="#File.write_named_fields-784"><span class="linenos">784</span></a><span class="sd">            [&#39;0&#39;, &#39;0&#39;, &#39;0&#39;]</span>
</span><span id="File.write_named_fields-785"><a href="#File.write_named_fields-785"><span class="linenos">785</span></a><span class="sd">            [&#39;1084&#39;, &#39;1307&#39;, &#39;1976&#39;]</span>
</span><span id="File.write_named_fields-786"><a href="#File.write_named_fields-786"><span class="linenos">786</span></a><span class="sd">            [[&#39;Karen McGlone&#39;, [&#39;03/29/2010&#39;, &#39;03/30/2010&#39;, &#39;03/31/2010&#39;, &#39;03/30/2010&#39;], &#39;3.50&#39;], [&#39;Jamie Klink&#39;,</span>
</span><span id="File.write_named_fields-787"><a href="#File.write_named_fields-787"><span class="linenos">787</span></a><span class="sd">            [&#39;05/05/2010&#39;, &#39;05/07/2010&#39;, &#39;05/05/2010&#39;, &#39;05/07/2010&#39;, &#39;05/05/2010&#39;], &#39;4.82&#39;], [&#39;Mo Evans&#39;,</span>
</span><span id="File.write_named_fields-788"><a href="#File.write_named_fields-788"><span class="linenos">788</span></a><span class="sd">            [&#39;08/23/2010&#39;, &#39;08/20/2010&#39;, &#39;08/26/2010&#39;, &#39;08/22/2010&#39;, &#39;08/25/2010&#39;, &#39;08/22/2010&#39;], &#39;19.04&#39;]]</span>
</span><span id="File.write_named_fields-789"><a href="#File.write_named_fields-789"><span class="linenos">789</span></a>
</span><span id="File.write_named_fields-790"><a href="#File.write_named_fields-790"><span class="linenos">790</span></a>
</span><span id="File.write_named_fields-791"><a href="#File.write_named_fields-791"><span class="linenos">791</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.write_named_fields-792"><a href="#File.write_named_fields-792"><span class="linenos">792</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">id_list</span><span class="p">,</span> <span class="n">field_list</span><span class="p">,</span> <span class="n">field_data_list</span><span class="p">,</span> <span class="n">lock_flag</span><span class="p">)</span>
</span><span id="File.write_named_fields-793"><a href="#File.write_named_fields-793"><span class="linenos">793</span></a>
</span><span id="File.write_named_fields-794"><a href="#File.write_named_fields-794"><span class="linenos">794</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File.write_named_fields-795"><a href="#File.write_named_fields-795"><span class="linenos">795</span></a>
</span><span id="File.write_named_fields-796"><a href="#File.write_named_fields-796"><span class="linenos">796</span></a>        <span class="n">id_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">id_list</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.write_named_fields-797"><a href="#File.write_named_fields-797"><span class="linenos">797</span></a>        <span class="n">field_data_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">field_data_list</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.write_named_fields-798"><a href="#File.write_named_fields-798"><span class="linenos">798</span></a>
</span><span id="File.write_named_fields-799"><a href="#File.write_named_fields-799"><span class="linenos">799</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.write_named_fields-800"><a href="#File.write_named_fields-800"><span class="linenos">800</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.write_named_fields-801"><a href="#File.write_named_fields-801"><span class="linenos">801</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.write_named_fields-802"><a href="#File.write_named_fields-802"><span class="linenos">802</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_WRITENAMEDFIELDSET</span><span class="p">)</span>
</span><span id="File.write_named_fields-803"><a href="#File.write_named_fields-803"><span class="linenos">803</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File.write_named_fields-804"><a href="#File.write_named_fields-804"><span class="linenos">804</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_write_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File.write_named_fields-805"><a href="#File.write_named_fields-805"><span class="linenos">805</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">id_set</span><span class="p">))</span>
</span><span id="File.write_named_fields-806"><a href="#File.write_named_fields-806"><span class="linenos">806</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">field_data_set</span><span class="p">))</span>
</span><span id="File.write_named_fields-807"><a href="#File.write_named_fields-807"><span class="linenos">807</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">field_list</span><span class="p">))</span>
</span><span id="File.write_named_fields-808"><a href="#File.write_named_fields-808"><span class="linenos">808</span></a>
</span><span id="File.write_named_fields-809"><a href="#File.write_named_fields-809"><span class="linenos">809</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.write_named_fields-810"><a href="#File.write_named_fields-810"><span class="linenos">810</span></a>
</span><span id="File.write_named_fields-811"><a href="#File.write_named_fields-811"><span class="linenos">811</span></a>            <span class="n">resp_code_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.write_named_fields-812"><a href="#File.write_named_fields-812"><span class="linenos">812</span></a>            <span class="n">status_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.write_named_fields-813"><a href="#File.write_named_fields-813"><span class="linenos">813</span></a>            <span class="n">result_set</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="File.write_named_fields-814"><a href="#File.write_named_fields-814"><span class="linenos">814</span></a>                <span class="n">resp_code_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File.write_named_fields-815"><a href="#File.write_named_fields-815"><span class="linenos">815</span></a>                <span class="n">status_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File.write_named_fields-816"><a href="#File.write_named_fields-816"><span class="linenos">816</span></a>                <span class="n">id_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File.write_named_fields-817"><a href="#File.write_named_fields-817"><span class="linenos">817</span></a>                <span class="n">field_data_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File.write_named_fields-818"><a href="#File.write_named_fields-818"><span class="linenos">818</span></a>            <span class="p">)</span>
</span><span id="File.write_named_fields-819"><a href="#File.write_named_fields-819"><span class="linenos">819</span></a>
</span><span id="File.write_named_fields-820"><a href="#File.write_named_fields-820"><span class="linenos">820</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">result_set</span><span class="p">)</span>
</span><span id="File.write_named_fields-821"><a href="#File.write_named_fields-821"><span class="linenos">821</span></a>        <span class="k">return</span> <span class="n">result_set</span>
</span></pre></div>


            <div class="docstring"><p>Write a list of named fields to multiple records.</p>

<p>Note:
    If field_list contains names that are not defined in the dictionary, these names are ignored.
    If a field is of I/V type or the record id itself, it is ignored.
    If a field has CONV code on it, an iconv is automatically performed to use its internal value for the write.</p>

<p>Args:
    id_list: a list of record ids.
    field_list: a list of field names.
    field_data_list: a list of DynArray consisting of all the field values.
    lock_flag (int, optional): 0 (default), LOCK_RETAIN, LOCK_WAIT, or LOCK_RETAIN + LOCK_WAIT</p>

<p>Returns:
    tuple: a tuple consisting of 4 lists: 1. response code list, 2. status code list, 3. record id list,
            4. field values list.</p>

<p>Raises:
    UOError</p>

<p>Examples:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>with File("RENTAL_DETAILS") as test_file:
          field_list = ["FULL_NAME", "ACTUAL_RETURN_DATE", "BALANCE_DUE"]
          id_list = ['1084', '1307', '1976']
          field_value_list = [['Karen McGlone', ['03/29/2010', '03/30/2010', '03/31/2010', '03/30/2010'],
          '3.50'], ['Jamie Klink', ['05/05/2010', '05/07/2010', '05/05/2010', '05/07/2010', '05/05/2010'], '4.82'],
          ['Mo Evans', ['08/23/2010', '08/20/2010', '08/26/2010', '08/22/2010', '08/25/2010', '08/22/2010'],'19.04']]
          write_rs = test_file.write_named_fields(id_list, field_list, field_value_list)
          for l in write_rs:
              print(l)
          ['0', '0', '0']
          ['0', '0', '0']
          ['1084', '1307', '1976']
          [['Karen McGlone', ['03/29/2010', '03/30/2010', '03/31/2010', '03/30/2010'], '3.50'], ['Jamie Klink',
          ['05/05/2010', '05/07/2010', '05/05/2010', '05/07/2010', '05/05/2010'], '4.82'], ['Mo Evans',
          ['08/23/2010', '08/20/2010', '08/26/2010', '08/22/2010', '08/25/2010', '08/22/2010'], '19.04']]</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            </div>
                            <div id="File.read_records" class="classattr">
                                        <input id="File.read_records-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">read_records</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">id_list</span>, </span><span class="param"><span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.read_records-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.read_records"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.read_records-823"><a href="#File.read_records-823"><span class="linenos">823</span></a>    <span class="k">def</span> <span class="nf">read_records</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_list</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="File.read_records-824"><a href="#File.read_records-824"><span class="linenos">824</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Read multiple records from the file.</span>
</span><span id="File.read_records-825"><a href="#File.read_records-825"><span class="linenos">825</span></a>
</span><span id="File.read_records-826"><a href="#File.read_records-826"><span class="linenos">826</span></a><span class="sd">        Args:</span>
</span><span id="File.read_records-827"><a href="#File.read_records-827"><span class="linenos">827</span></a><span class="sd">            id_list: a list of record ids.</span>
</span><span id="File.read_records-828"><a href="#File.read_records-828"><span class="linenos">828</span></a><span class="sd">            lock_flag (int, optional): 0 (default, no lock), or [LOCK_EXCLUSIVE or LOCK_SHARED] [+ LOCK_WAIT]</span>
</span><span id="File.read_records-829"><a href="#File.read_records-829"><span class="linenos">829</span></a>
</span><span id="File.read_records-830"><a href="#File.read_records-830"><span class="linenos">830</span></a><span class="sd">        Returns:</span>
</span><span id="File.read_records-831"><a href="#File.read_records-831"><span class="linenos">831</span></a><span class="sd">            tuple: a tuple consisting of four lists: 1. response code list, 2. status code list, 3. record id list,</span>
</span><span id="File.read_records-832"><a href="#File.read_records-832"><span class="linenos">832</span></a><span class="sd">                    4. record list.</span>
</span><span id="File.read_records-833"><a href="#File.read_records-833"><span class="linenos">833</span></a>
</span><span id="File.read_records-834"><a href="#File.read_records-834"><span class="linenos">834</span></a><span class="sd">        Raises:</span>
</span><span id="File.read_records-835"><a href="#File.read_records-835"><span class="linenos">835</span></a><span class="sd">            UOError</span>
</span><span id="File.read_records-836"><a href="#File.read_records-836"><span class="linenos">836</span></a>
</span><span id="File.read_records-837"><a href="#File.read_records-837"><span class="linenos">837</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.read_records-838"><a href="#File.read_records-838"><span class="linenos">838</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">id_list</span><span class="p">,</span> <span class="n">lock_flag</span><span class="p">)</span>
</span><span id="File.read_records-839"><a href="#File.read_records-839"><span class="linenos">839</span></a>
</span><span id="File.read_records-840"><a href="#File.read_records-840"><span class="linenos">840</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File.read_records-841"><a href="#File.read_records-841"><span class="linenos">841</span></a>
</span><span id="File.read_records-842"><a href="#File.read_records-842"><span class="linenos">842</span></a>        <span class="n">id_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">id_list</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.read_records-843"><a href="#File.read_records-843"><span class="linenos">843</span></a>
</span><span id="File.read_records-844"><a href="#File.read_records-844"><span class="linenos">844</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.read_records-845"><a href="#File.read_records-845"><span class="linenos">845</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.read_records-846"><a href="#File.read_records-846"><span class="linenos">846</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.read_records-847"><a href="#File.read_records-847"><span class="linenos">847</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_READSET</span><span class="p">)</span>
</span><span id="File.read_records-848"><a href="#File.read_records-848"><span class="linenos">848</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File.read_records-849"><a href="#File.read_records-849"><span class="linenos">849</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_read_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File.read_records-850"><a href="#File.read_records-850"><span class="linenos">850</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">id_set</span><span class="p">))</span>
</span><span id="File.read_records-851"><a href="#File.read_records-851"><span class="linenos">851</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="File.read_records-852"><a href="#File.read_records-852"><span class="linenos">852</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="File.read_records-853"><a href="#File.read_records-853"><span class="linenos">853</span></a>
</span><span id="File.read_records-854"><a href="#File.read_records-854"><span class="linenos">854</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.read_records-855"><a href="#File.read_records-855"><span class="linenos">855</span></a>
</span><span id="File.read_records-856"><a href="#File.read_records-856"><span class="linenos">856</span></a>            <span class="n">resp_code_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.read_records-857"><a href="#File.read_records-857"><span class="linenos">857</span></a>            <span class="n">status_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.read_records-858"><a href="#File.read_records-858"><span class="linenos">858</span></a>            <span class="n">return_data_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.read_records-859"><a href="#File.read_records-859"><span class="linenos">859</span></a>            <span class="n">result_set</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="File.read_records-860"><a href="#File.read_records-860"><span class="linenos">860</span></a>                <span class="n">resp_code_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File.read_records-861"><a href="#File.read_records-861"><span class="linenos">861</span></a>                <span class="n">status_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File.read_records-862"><a href="#File.read_records-862"><span class="linenos">862</span></a>                <span class="n">id_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File.read_records-863"><a href="#File.read_records-863"><span class="linenos">863</span></a>                <span class="n">return_data_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File.read_records-864"><a href="#File.read_records-864"><span class="linenos">864</span></a>            <span class="p">)</span>
</span><span id="File.read_records-865"><a href="#File.read_records-865"><span class="linenos">865</span></a>
</span><span id="File.read_records-866"><a href="#File.read_records-866"><span class="linenos">866</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">result_set</span><span class="p">)</span>
</span><span id="File.read_records-867"><a href="#File.read_records-867"><span class="linenos">867</span></a>        <span class="k">return</span> <span class="n">result_set</span>
</span></pre></div>


            <div class="docstring"><p>Read multiple records from the file.</p>

<p>Args:
    id_list: a list of record ids.
    lock_flag (int, optional): 0 (default, no lock), or [LOCK_EXCLUSIVE or LOCK_SHARED] [+ LOCK_WAIT]</p>

<p>Returns:
    tuple: a tuple consisting of four lists: 1. response code list, 2. status code list, 3. record id list,
            4. record list.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="File.write_records" class="classattr">
                                        <input id="File.write_records-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">write_records</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">id_list</span>, </span><span class="param"><span class="n">record_list</span>, </span><span class="param"><span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.write_records-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.write_records"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.write_records-869"><a href="#File.write_records-869"><span class="linenos">869</span></a>    <span class="k">def</span> <span class="nf">write_records</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_list</span><span class="p">,</span> <span class="n">record_list</span><span class="p">,</span> <span class="n">lock_flag</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="File.write_records-870"><a href="#File.write_records-870"><span class="linenos">870</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Write multiple records into the file.</span>
</span><span id="File.write_records-871"><a href="#File.write_records-871"><span class="linenos">871</span></a>
</span><span id="File.write_records-872"><a href="#File.write_records-872"><span class="linenos">872</span></a><span class="sd">        Args:</span>
</span><span id="File.write_records-873"><a href="#File.write_records-873"><span class="linenos">873</span></a><span class="sd">            id_list: a list of record ids.</span>
</span><span id="File.write_records-874"><a href="#File.write_records-874"><span class="linenos">874</span></a><span class="sd">            record_list: a list of records.</span>
</span><span id="File.write_records-875"><a href="#File.write_records-875"><span class="linenos">875</span></a><span class="sd">            lock_flag (int, optional): 0 (default), LOCK_RETAIN, LOCK_WAIT, or LOCK_RETAIN + LOCK_WAIT</span>
</span><span id="File.write_records-876"><a href="#File.write_records-876"><span class="linenos">876</span></a>
</span><span id="File.write_records-877"><a href="#File.write_records-877"><span class="linenos">877</span></a><span class="sd">        Returns:</span>
</span><span id="File.write_records-878"><a href="#File.write_records-878"><span class="linenos">878</span></a><span class="sd">            tuple: a tuple consisting of four lists: 1. response code list, 2. status code list, 3. record id list,</span>
</span><span id="File.write_records-879"><a href="#File.write_records-879"><span class="linenos">879</span></a><span class="sd">                    4. record list.</span>
</span><span id="File.write_records-880"><a href="#File.write_records-880"><span class="linenos">880</span></a>
</span><span id="File.write_records-881"><a href="#File.write_records-881"><span class="linenos">881</span></a><span class="sd">        Raises:</span>
</span><span id="File.write_records-882"><a href="#File.write_records-882"><span class="linenos">882</span></a><span class="sd">            UOError</span>
</span><span id="File.write_records-883"><a href="#File.write_records-883"><span class="linenos">883</span></a>
</span><span id="File.write_records-884"><a href="#File.write_records-884"><span class="linenos">884</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.write_records-885"><a href="#File.write_records-885"><span class="linenos">885</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">id_list</span><span class="p">,</span> <span class="n">record_list</span><span class="p">,</span> <span class="n">lock_flag</span><span class="p">)</span>
</span><span id="File.write_records-886"><a href="#File.write_records-886"><span class="linenos">886</span></a>
</span><span id="File.write_records-887"><a href="#File.write_records-887"><span class="linenos">887</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File.write_records-888"><a href="#File.write_records-888"><span class="linenos">888</span></a>
</span><span id="File.write_records-889"><a href="#File.write_records-889"><span class="linenos">889</span></a>        <span class="n">id_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">id_list</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.write_records-890"><a href="#File.write_records-890"><span class="linenos">890</span></a>        <span class="n">record_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">record_list</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.write_records-891"><a href="#File.write_records-891"><span class="linenos">891</span></a>
</span><span id="File.write_records-892"><a href="#File.write_records-892"><span class="linenos">892</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.write_records-893"><a href="#File.write_records-893"><span class="linenos">893</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.write_records-894"><a href="#File.write_records-894"><span class="linenos">894</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.write_records-895"><a href="#File.write_records-895"><span class="linenos">895</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_WRITESET</span><span class="p">)</span>
</span><span id="File.write_records-896"><a href="#File.write_records-896"><span class="linenos">896</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File.write_records-897"><a href="#File.write_records-897"><span class="linenos">897</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">_map_write_lock_flag</span><span class="p">(</span><span class="n">lock_flag</span><span class="p">))</span>
</span><span id="File.write_records-898"><a href="#File.write_records-898"><span class="linenos">898</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">id_set</span><span class="p">))</span>
</span><span id="File.write_records-899"><a href="#File.write_records-899"><span class="linenos">899</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">record_set</span><span class="p">))</span>
</span><span id="File.write_records-900"><a href="#File.write_records-900"><span class="linenos">900</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="File.write_records-901"><a href="#File.write_records-901"><span class="linenos">901</span></a>
</span><span id="File.write_records-902"><a href="#File.write_records-902"><span class="linenos">902</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.write_records-903"><a href="#File.write_records-903"><span class="linenos">903</span></a>
</span><span id="File.write_records-904"><a href="#File.write_records-904"><span class="linenos">904</span></a>            <span class="n">resp_code_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.write_records-905"><a href="#File.write_records-905"><span class="linenos">905</span></a>            <span class="n">status_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.write_records-906"><a href="#File.write_records-906"><span class="linenos">906</span></a>            <span class="n">result_set</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="File.write_records-907"><a href="#File.write_records-907"><span class="linenos">907</span></a>                <span class="n">resp_code_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File.write_records-908"><a href="#File.write_records-908"><span class="linenos">908</span></a>                <span class="n">status_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File.write_records-909"><a href="#File.write_records-909"><span class="linenos">909</span></a>                <span class="n">id_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File.write_records-910"><a href="#File.write_records-910"><span class="linenos">910</span></a>                <span class="n">record_set</span><span class="o">.</span><span class="n">list</span><span class="p">,</span>
</span><span id="File.write_records-911"><a href="#File.write_records-911"><span class="linenos">911</span></a>            <span class="p">)</span>
</span><span id="File.write_records-912"><a href="#File.write_records-912"><span class="linenos">912</span></a>
</span><span id="File.write_records-913"><a href="#File.write_records-913"><span class="linenos">913</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">result_set</span><span class="p">)</span>
</span><span id="File.write_records-914"><a href="#File.write_records-914"><span class="linenos">914</span></a>        <span class="k">return</span> <span class="n">result_set</span>
</span></pre></div>


            <div class="docstring"><p>Write multiple records into the file.</p>

<p>Args:
    id_list: a list of record ids.
    record_list: a list of records.
    lock_flag (int, optional): 0 (default), LOCK_RETAIN, LOCK_WAIT, or LOCK_RETAIN + LOCK_WAIT</p>

<p>Returns:
    tuple: a tuple consisting of four lists: 1. response code list, 2. status code list, 3. record id list,
            4. record list.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="File.fileInfoEx" class="classattr">
                                        <input id="File.fileInfoEx-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">fileInfoEx</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="File.fileInfoEx-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#File.fileInfoEx"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="File.fileInfoEx-916"><a href="#File.fileInfoEx-916"><span class="linenos"> 916</span></a>    <span class="k">def</span> <span class="nf">fileInfoEx</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="File.fileInfoEx-917"><a href="#File.fileInfoEx-917"><span class="linenos"> 917</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get information about the specified files configuration, such as the</span>
</span><span id="File.fileInfoEx-918"><a href="#File.fileInfoEx-918"><span class="linenos"> 918</span></a><span class="sd">        files parameters, its modulus and load, its operating system file name, and its VOC name.</span>
</span><span id="File.fileInfoEx-919"><a href="#File.fileInfoEx-919"><span class="linenos"> 919</span></a><span class="sd">        The information returned depends on the file type and the value of the key.</span>
</span><span id="File.fileInfoEx-920"><a href="#File.fileInfoEx-920"><span class="linenos"> 920</span></a>
</span><span id="File.fileInfoEx-921"><a href="#File.fileInfoEx-921"><span class="linenos"> 921</span></a><span class="sd">        After calling the method fileInfoEx, you can access these attributes to get their values.</span>
</span><span id="File.fileInfoEx-922"><a href="#File.fileInfoEx-922"><span class="linenos"> 922</span></a><span class="sd">        For UV, these attributes will be available:</span>
</span><span id="File.fileInfoEx-923"><a href="#File.fileInfoEx-923"><span class="linenos"> 923</span></a><span class="sd">        isFileVar: 1 if file.variable is a valid file variable; 0 otherwise.</span>
</span><span id="File.fileInfoEx-924"><a href="#File.fileInfoEx-924"><span class="linenos"> 924</span></a><span class="sd">        vocName: VOC name of the file.</span>
</span><span id="File.fileInfoEx-925"><a href="#File.fileInfoEx-925"><span class="linenos"> 925</span></a><span class="sd">        pathName: Path name of the file.</span>
</span><span id="File.fileInfoEx-926"><a href="#File.fileInfoEx-926"><span class="linenos"> 926</span></a><span class="sd">        type: File type: 1 Static hashed | 3 Dynamic hashed | 4 Type 1 | 5 Sequential | 7 Distributed and Multivolume</span>
</span><span id="File.fileInfoEx-927"><a href="#File.fileInfoEx-927"><span class="linenos"> 927</span></a><span class="sd">        hashAlg: Hashing algorithm: 2 for GENERAL, 3 for SEQ.NUM.</span>
</span><span id="File.fileInfoEx-928"><a href="#File.fileInfoEx-928"><span class="linenos"> 928</span></a><span class="sd">        modulus: Current modulus.</span>
</span><span id="File.fileInfoEx-929"><a href="#File.fileInfoEx-929"><span class="linenos"> 929</span></a><span class="sd">        minModulus: Minimum modulus.</span>
</span><span id="File.fileInfoEx-930"><a href="#File.fileInfoEx-930"><span class="linenos"> 930</span></a><span class="sd">        groupSize: Group size, in 1-KB units.</span>
</span><span id="File.fileInfoEx-931"><a href="#File.fileInfoEx-931"><span class="linenos"> 931</span></a><span class="sd">        largeRecordSize: Large record size.</span>
</span><span id="File.fileInfoEx-932"><a href="#File.fileInfoEx-932"><span class="linenos"> 932</span></a><span class="sd">        mergeLoad: Merge load parameter.</span>
</span><span id="File.fileInfoEx-933"><a href="#File.fileInfoEx-933"><span class="linenos"> 933</span></a><span class="sd">        splitLoad: Split load parameter.</span>
</span><span id="File.fileInfoEx-934"><a href="#File.fileInfoEx-934"><span class="linenos"> 934</span></a><span class="sd">        currentLoad: Current loading of the file (%).</span>
</span><span id="File.fileInfoEx-935"><a href="#File.fileInfoEx-935"><span class="linenos"> 935</span></a><span class="sd">        nodeName: Empty string if the file resides on the local system. Otherwise, the name of the node where the file resides.</span>
</span><span id="File.fileInfoEx-936"><a href="#File.fileInfoEx-936"><span class="linenos"> 936</span></a><span class="sd">        isAKFile: 1 if secondary indexes exist on the file; 0 otherwise.</span>
</span><span id="File.fileInfoEx-937"><a href="#File.fileInfoEx-937"><span class="linenos"> 937</span></a><span class="sd">        currentLine: Current line number.</span>
</span><span id="File.fileInfoEx-938"><a href="#File.fileInfoEx-938"><span class="linenos"> 938</span></a><span class="sd">        partNum: For a distributed file, returns the list of currently open part numbers.</span>
</span><span id="File.fileInfoEx-939"><a href="#File.fileInfoEx-939"><span class="linenos"> 939</span></a><span class="sd">        fileStatus: For a distributed file, returns the list of status codes indicating whether the last I/O operation succeeded</span>
</span><span id="File.fileInfoEx-940"><a href="#File.fileInfoEx-940"><span class="linenos"> 940</span></a><span class="sd">                    or failed for each part. A value of 1 indicates the corresponding part file is not open.</span>
</span><span id="File.fileInfoEx-941"><a href="#File.fileInfoEx-941"><span class="linenos"> 941</span></a><span class="sd">        recoveryType: 1 if the file is marked as recoverable, 0 if it is not. Returns an empty string</span>
</span><span id="File.fileInfoEx-942"><a href="#File.fileInfoEx-942"><span class="linenos"> 942</span></a><span class="sd">                      if recovery is not supported on the file type (such as type 1 and type 19 files).</span>
</span><span id="File.fileInfoEx-943"><a href="#File.fileInfoEx-943"><span class="linenos"> 943</span></a><span class="sd">        recoveryId: Always returns an empty string.</span>
</span><span id="File.fileInfoEx-944"><a href="#File.fileInfoEx-944"><span class="linenos"> 944</span></a><span class="sd">        isFixedModulus: Always returns 0.</span>
</span><span id="File.fileInfoEx-945"><a href="#File.fileInfoEx-945"><span class="linenos"> 945</span></a><span class="sd">        nlsmap: If NLS is enabled, the file map name; otherwise an empty string.</span>
</span><span id="File.fileInfoEx-946"><a href="#File.fileInfoEx-946"><span class="linenos"> 946</span></a><span class="sd">                If the map name is the default specified in the uvconfig file, the returned string is the map name followed by the name of the configurable parameter in parentheses.</span>
</span><span id="File.fileInfoEx-947"><a href="#File.fileInfoEx-947"><span class="linenos"> 947</span></a><span class="sd">        encryption: Returns a dynamic array containing the following information:</span>
</span><span id="File.fileInfoEx-948"><a href="#File.fileInfoEx-948"><span class="linenos"> 948</span></a><span class="sd">                     For a file encrypted with the WHOLERECORD option:</span>
</span><span id="File.fileInfoEx-949"><a href="#File.fileInfoEx-949"><span class="linenos"> 949</span></a><span class="sd">                    -1@VM@VM</span>
</span><span id="File.fileInfoEx-950"><a href="#File.fileInfoEx-950"><span class="linenos"> 950</span></a><span class="sd">                     For a file encrypted at the field level:</span>
</span><span id="File.fileInfoEx-951"><a href="#File.fileInfoEx-951"><span class="linenos"> 951</span></a><span class="sd">                    @VM@VM</span>
</span><span id="File.fileInfoEx-952"><a href="#File.fileInfoEx-952"><span class="linenos"> 952</span></a><span class="sd">                    @VM[@FM</span>
</span><span id="File.fileInfoEx-953"><a href="#File.fileInfoEx-953"><span class="linenos"> 953</span></a><span class="sd">                    ...@VM]</span>
</span><span id="File.fileInfoEx-954"><a href="#File.fileInfoEx-954"><span class="linenos"> 954</span></a><span class="sd">                     Returns an empty string if the file is not encrypted.</span>
</span><span id="File.fileInfoEx-955"><a href="#File.fileInfoEx-955"><span class="linenos"> 955</span></a><span class="sd">        repStatus: Return values can be:</span>
</span><span id="File.fileInfoEx-956"><a href="#File.fileInfoEx-956"><span class="linenos"> 956</span></a><span class="sd">                    0  The file is not published, subscribed, or subwriteable.</span>
</span><span id="File.fileInfoEx-957"><a href="#File.fileInfoEx-957"><span class="linenos"> 957</span></a><span class="sd">                    1  The file is being published.</span>
</span><span id="File.fileInfoEx-958"><a href="#File.fileInfoEx-958"><span class="linenos"> 958</span></a><span class="sd">                    2  The file is being subscribed.</span>
</span><span id="File.fileInfoEx-959"><a href="#File.fileInfoEx-959"><span class="linenos"> 959</span></a><span class="sd">                    3  The file is subwriteable.</span>
</span><span id="File.fileInfoEx-960"><a href="#File.fileInfoEx-960"><span class="linenos"> 960</span></a><span class="sd">                    Note: If U2 Data Replication is not running, this function</span>
</span><span id="File.fileInfoEx-961"><a href="#File.fileInfoEx-961"><span class="linenos"> 961</span></a><span class="sd">                    returns 0 for any file used with this function.</span>
</span><span id="File.fileInfoEx-962"><a href="#File.fileInfoEx-962"><span class="linenos"> 962</span></a><span class="sd">        For UD, these attributes will be available:</span>
</span><span id="File.fileInfoEx-963"><a href="#File.fileInfoEx-963"><span class="linenos"> 963</span></a><span class="sd">        isFileVar: File open status. 1= Open, 0= Not open</span>
</span><span id="File.fileInfoEx-964"><a href="#File.fileInfoEx-964"><span class="linenos"> 964</span></a><span class="sd">        vocName: VOC name</span>
</span><span id="File.fileInfoEx-965"><a href="#File.fileInfoEx-965"><span class="linenos"> 965</span></a><span class="sd">        pathName: Full path name of file</span>
</span><span id="File.fileInfoEx-966"><a href="#File.fileInfoEx-966"><span class="linenos"> 966</span></a><span class="sd">        type: File type.</span>
</span><span id="File.fileInfoEx-967"><a href="#File.fileInfoEx-967"><span class="linenos"> 967</span></a><span class="sd">                2 - HASHED</span>
</span><span id="File.fileInfoEx-968"><a href="#File.fileInfoEx-968"><span class="linenos"> 968</span></a><span class="sd">                3 - DYNAMIC</span>
</span><span id="File.fileInfoEx-969"><a href="#File.fileInfoEx-969"><span class="linenos"> 969</span></a><span class="sd">                4 - DIRECTORY</span>
</span><span id="File.fileInfoEx-970"><a href="#File.fileInfoEx-970"><span class="linenos"> 970</span></a><span class="sd">                5 - SEQUENTIAL</span>
</span><span id="File.fileInfoEx-971"><a href="#File.fileInfoEx-971"><span class="linenos"> 971</span></a><span class="sd">                7 - NFA</span>
</span><span id="File.fileInfoEx-972"><a href="#File.fileInfoEx-972"><span class="linenos"> 972</span></a><span class="sd">                8 - OS</span>
</span><span id="File.fileInfoEx-973"><a href="#File.fileInfoEx-973"><span class="linenos"> 973</span></a><span class="sd">                13 - EDA</span>
</span><span id="File.fileInfoEx-974"><a href="#File.fileInfoEx-974"><span class="linenos"> 974</span></a><span class="sd">        hashAlg: Hashing file type</span>
</span><span id="File.fileInfoEx-975"><a href="#File.fileInfoEx-975"><span class="linenos"> 975</span></a><span class="sd">                HASH &amp; DYNAMI(KEYONLY) Hash type (0, 1, or 3)</span>
</span><span id="File.fileInfoEx-976"><a href="#File.fileInfoEx-976"><span class="linenos"> 976</span></a><span class="sd">                DYNAMIC (KEYDATA) Hash type (32 , 33, or 35)</span>
</span><span id="File.fileInfoEx-977"><a href="#File.fileInfoEx-977"><span class="linenos"> 977</span></a><span class="sd">                DYNAMIC (WHOLEFILE) Hash type (48, 49, or 51)</span>
</span><span id="File.fileInfoEx-978"><a href="#File.fileInfoEx-978"><span class="linenos"> 978</span></a><span class="sd">                OTHERS</span>
</span><span id="File.fileInfoEx-979"><a href="#File.fileInfoEx-979"><span class="linenos"> 979</span></a><span class="sd">        modulus: Modulo of file</span>
</span><span id="File.fileInfoEx-980"><a href="#File.fileInfoEx-980"><span class="linenos"> 980</span></a><span class="sd">        minModulus: Minimum modulo</span>
</span><span id="File.fileInfoEx-981"><a href="#File.fileInfoEx-981"><span class="linenos"> 981</span></a><span class="sd">        groupSize: Group size of file</span>
</span><span id="File.fileInfoEx-982"><a href="#File.fileInfoEx-982"><span class="linenos"> 982</span></a><span class="sd">        largeRecordSize: Block size of file</span>
</span><span id="File.fileInfoEx-983"><a href="#File.fileInfoEx-983"><span class="linenos"> 983</span></a><span class="sd">        mergeLoad: Merge factor percentage</span>
</span><span id="File.fileInfoEx-984"><a href="#File.fileInfoEx-984"><span class="linenos"> 984</span></a><span class="sd">        splitLoad: Split factor percentage</span>
</span><span id="File.fileInfoEx-985"><a href="#File.fileInfoEx-985"><span class="linenos"> 985</span></a><span class="sd">        currentLoad: Current load percentage</span>
</span><span id="File.fileInfoEx-986"><a href="#File.fileInfoEx-986"><span class="linenos"> 986</span></a><span class="sd">        nodeName: Node name</span>
</span><span id="File.fileInfoEx-987"><a href="#File.fileInfoEx-987"><span class="linenos"> 987</span></a><span class="sd">        isAKFile: Does file contain alternate key indexes?</span>
</span><span id="File.fileInfoEx-988"><a href="#File.fileInfoEx-988"><span class="linenos"> 988</span></a><span class="sd">        currentLine: Next line number to read or write</span>
</span><span id="File.fileInfoEx-989"><a href="#File.fileInfoEx-989"><span class="linenos"> 989</span></a><span class="sd">        partNum: Part number</span>
</span><span id="File.fileInfoEx-990"><a href="#File.fileInfoEx-990"><span class="linenos"> 990</span></a><span class="sd">        fileStatus: Status</span>
</span><span id="File.fileInfoEx-991"><a href="#File.fileInfoEx-991"><span class="linenos"> 991</span></a><span class="sd">        relname: Filename</span>
</span><span id="File.fileInfoEx-992"><a href="#File.fileInfoEx-992"><span class="linenos"> 992</span></a><span class="sd">        blksize: Block size of file</span>
</span><span id="File.fileInfoEx-993"><a href="#File.fileInfoEx-993"><span class="linenos"> 993</span></a><span class="sd">        privilege: Access permissions</span>
</span><span id="File.fileInfoEx-994"><a href="#File.fileInfoEx-994"><span class="linenos"> 994</span></a><span class="sd">        whichIndex: Index to which the last SETINDEX statement was applied</span>
</span><span id="File.fileInfoEx-995"><a href="#File.fileInfoEx-995"><span class="linenos"> 995</span></a><span class="sd">        whatXValue: Index record read by last browsing statement, such as READFWD and READBCK</span>
</span><span id="File.fileInfoEx-996"><a href="#File.fileInfoEx-996"><span class="linenos"> 996</span></a><span class="sd">        isRecoverable: File type: recoverable or nonrecoverable</span>
</span><span id="File.fileInfoEx-997"><a href="#File.fileInfoEx-997"><span class="linenos"> 997</span></a><span class="sd">        isNumerical: Numeric keys</span>
</span><span id="File.fileInfoEx-998"><a href="#File.fileInfoEx-998"><span class="linenos"> 998</span></a><span class="sd">        isReplicated: Type of U2 Data Replication file</span>
</span><span id="File.fileInfoEx-999"><a href="#File.fileInfoEx-999"><span class="linenos"> 999</span></a><span class="sd">        beforeUpdateTrigger: BEFORE-UPDATE-TRIGGER catalog program name of the file &lt;xx&gt;.</span>
</span><span id="File.fileInfoEx-1000"><a href="#File.fileInfoEx-1000"><span class="linenos">1000</span></a><span class="sd">        beforeDeleteTrigger: BEFORE-DELETE-TRIGGER catalog program name of the file &lt;xx&gt;.</span>
</span><span id="File.fileInfoEx-1001"><a href="#File.fileInfoEx-1001"><span class="linenos">1001</span></a><span class="sd">        isEncrypted: Is the file encrypted?</span>
</span><span id="File.fileInfoEx-1002"><a href="#File.fileInfoEx-1002"><span class="linenos">1002</span></a><span class="sd">        encinfo: Type of file encryption</span>
</span><span id="File.fileInfoEx-1003"><a href="#File.fileInfoEx-1003"><span class="linenos">1003</span></a><span class="sd">        afterUpdateTrigger: AFTER-UPDATE-TRIGGER catalog program name of the file &lt;xx&gt;.</span>
</span><span id="File.fileInfoEx-1004"><a href="#File.fileInfoEx-1004"><span class="linenos">1004</span></a><span class="sd">        afterDeleteTrigger: AFTER-DELETE-TRIGGER catalog program name of the file &lt;xx&gt;.</span>
</span><span id="File.fileInfoEx-1005"><a href="#File.fileInfoEx-1005"><span class="linenos">1005</span></a><span class="sd">        is64bit: Defines the bit type</span>
</span><span id="File.fileInfoEx-1006"><a href="#File.fileInfoEx-1006"><span class="linenos">1006</span></a>
</span><span id="File.fileInfoEx-1007"><a href="#File.fileInfoEx-1007"><span class="linenos">1007</span></a><span class="sd">        Args: void</span>
</span><span id="File.fileInfoEx-1008"><a href="#File.fileInfoEx-1008"><span class="linenos">1008</span></a>
</span><span id="File.fileInfoEx-1009"><a href="#File.fileInfoEx-1009"><span class="linenos">1009</span></a><span class="sd">        Returns: void</span>
</span><span id="File.fileInfoEx-1010"><a href="#File.fileInfoEx-1010"><span class="linenos">1010</span></a>
</span><span id="File.fileInfoEx-1011"><a href="#File.fileInfoEx-1011"><span class="linenos">1011</span></a><span class="sd">        Raise:</span>
</span><span id="File.fileInfoEx-1012"><a href="#File.fileInfoEx-1012"><span class="linenos">1012</span></a><span class="sd">            UOError</span>
</span><span id="File.fileInfoEx-1013"><a href="#File.fileInfoEx-1013"><span class="linenos">1013</span></a>
</span><span id="File.fileInfoEx-1014"><a href="#File.fileInfoEx-1014"><span class="linenos">1014</span></a><span class="sd">        Examples:</span>
</span><span id="File.fileInfoEx-1015"><a href="#File.fileInfoEx-1015"><span class="linenos">1015</span></a><span class="sd">            &gt;&gt;&gt; f = uopy.File(&#39;TEST&#39;)</span>
</span><span id="File.fileInfoEx-1016"><a href="#File.fileInfoEx-1016"><span class="linenos">1016</span></a><span class="sd">            &gt;&gt;&gt; f.fileInfoEx()</span>
</span><span id="File.fileInfoEx-1017"><a href="#File.fileInfoEx-1017"><span class="linenos">1017</span></a><span class="sd">            &gt;&gt;&gt; print(f.vocName)</span>
</span><span id="File.fileInfoEx-1018"><a href="#File.fileInfoEx-1018"><span class="linenos">1018</span></a><span class="sd">            &gt;&gt;&gt; print(f.pathName)</span>
</span><span id="File.fileInfoEx-1019"><a href="#File.fileInfoEx-1019"><span class="linenos">1019</span></a><span class="sd">            &gt;&gt;&gt; print(f.groupSize)</span>
</span><span id="File.fileInfoEx-1020"><a href="#File.fileInfoEx-1020"><span class="linenos">1020</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="File.fileInfoEx-1021"><a href="#File.fileInfoEx-1021"><span class="linenos">1021</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter fileInfoEx&quot;</span><span class="p">)</span>
</span><span id="File.fileInfoEx-1022"><a href="#File.fileInfoEx-1022"><span class="linenos">1022</span></a>
</span><span id="File.fileInfoEx-1023"><a href="#File.fileInfoEx-1023"><span class="linenos">1023</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_check_opened</span><span class="p">()</span>
</span><span id="File.fileInfoEx-1024"><a href="#File.fileInfoEx-1024"><span class="linenos">1024</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="File.fileInfoEx-1025"><a href="#File.fileInfoEx-1025"><span class="linenos">1025</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.fileInfoEx-1026"><a href="#File.fileInfoEx-1026"><span class="linenos">1026</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="File.fileInfoEx-1027"><a href="#File.fileInfoEx-1027"><span class="linenos">1027</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_FILEINFOEx</span><span class="p">)</span>
</span><span id="File.fileInfoEx-1028"><a href="#File.fileInfoEx-1028"><span class="linenos">1028</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</span><span id="File.fileInfoEx-1029"><a href="#File.fileInfoEx-1029"><span class="linenos">1029</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="File.fileInfoEx-1030"><a href="#File.fileInfoEx-1030"><span class="linenos">1030</span></a>
</span><span id="File.fileInfoEx-1031"><a href="#File.fileInfoEx-1031"><span class="linenos">1031</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="File.fileInfoEx-1032"><a href="#File.fileInfoEx-1032"><span class="linenos">1032</span></a>                <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_USC</span><span class="p">:</span>
</span><span id="File.fileInfoEx-1033"><a href="#File.fileInfoEx-1033"><span class="linenos">1033</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span>
</span><span id="File.fileInfoEx-1034"><a href="#File.fileInfoEx-1034"><span class="linenos">1034</span></a>                        <span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1035"><a href="#File.fileInfoEx-1035"><span class="linenos">1035</span></a>                        <span class="n">obj</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1036"><a href="#File.fileInfoEx-1036"><span class="linenos">1036</span></a>                        <span class="n">message</span><span class="o">=</span><span class="s2">&quot;fileInfoEx is not supported on versions prior to UniData 8.2.4 or prior to UniVerse 12.2.1.&quot;</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1037"><a href="#File.fileInfoEx-1037"><span class="linenos">1037</span></a>                    <span class="p">)</span>
</span><span id="File.fileInfoEx-1038"><a href="#File.fileInfoEx-1038"><span class="linenos">1038</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="File.fileInfoEx-1039"><a href="#File.fileInfoEx-1039"><span class="linenos">1039</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
</span><span id="File.fileInfoEx-1040"><a href="#File.fileInfoEx-1040"><span class="linenos">1040</span></a>
</span><span id="File.fileInfoEx-1041"><a href="#File.fileInfoEx-1041"><span class="linenos">1041</span></a>            <span class="n">fileinfo_set</span> <span class="o">=</span> <span class="n">RecordSet</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="File.fileInfoEx-1042"><a href="#File.fileInfoEx-1042"><span class="linenos">1042</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">db_type</span> <span class="o">==</span> <span class="s2">&quot;UD&quot;</span><span class="p">:</span>
</span><span id="File.fileInfoEx-1043"><a href="#File.fileInfoEx-1043"><span class="linenos">1043</span></a>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fileinfo_set</span><span class="o">.</span><span class="n">list</span><span class="p">)</span> <span class="o">!=</span> <span class="n">UDFileInfoEx</span><span class="o">.</span><span class="n">LIST_COUNT</span><span class="p">:</span>
</span><span id="File.fileInfoEx-1044"><a href="#File.fileInfoEx-1044"><span class="linenos">1044</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">()</span>
</span><span id="File.fileInfoEx-1045"><a href="#File.fileInfoEx-1045"><span class="linenos">1045</span></a>                <span class="p">(</span>
</span><span id="File.fileInfoEx-1046"><a href="#File.fileInfoEx-1046"><span class="linenos">1046</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">isFileVar</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1047"><a href="#File.fileInfoEx-1047"><span class="linenos">1047</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">vocName</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1048"><a href="#File.fileInfoEx-1048"><span class="linenos">1048</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">pathName</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1049"><a href="#File.fileInfoEx-1049"><span class="linenos">1049</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1050"><a href="#File.fileInfoEx-1050"><span class="linenos">1050</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">hashAlg</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1051"><a href="#File.fileInfoEx-1051"><span class="linenos">1051</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">modulus</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1052"><a href="#File.fileInfoEx-1052"><span class="linenos">1052</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">minModulus</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1053"><a href="#File.fileInfoEx-1053"><span class="linenos">1053</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">groupSize</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1054"><a href="#File.fileInfoEx-1054"><span class="linenos">1054</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">largeRecordSize</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1055"><a href="#File.fileInfoEx-1055"><span class="linenos">1055</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">mergeLoad</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1056"><a href="#File.fileInfoEx-1056"><span class="linenos">1056</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">splitLoad</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1057"><a href="#File.fileInfoEx-1057"><span class="linenos">1057</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">currentLoad</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1058"><a href="#File.fileInfoEx-1058"><span class="linenos">1058</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">nodeName</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1059"><a href="#File.fileInfoEx-1059"><span class="linenos">1059</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">isAKFile</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1060"><a href="#File.fileInfoEx-1060"><span class="linenos">1060</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">currentLine</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1061"><a href="#File.fileInfoEx-1061"><span class="linenos">1061</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">partNum</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1062"><a href="#File.fileInfoEx-1062"><span class="linenos">1062</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">fileStatus</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1063"><a href="#File.fileInfoEx-1063"><span class="linenos">1063</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">relname</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1064"><a href="#File.fileInfoEx-1064"><span class="linenos">1064</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">blksize</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1065"><a href="#File.fileInfoEx-1065"><span class="linenos">1065</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">privilege</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1066"><a href="#File.fileInfoEx-1066"><span class="linenos">1066</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">whichIndex</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1067"><a href="#File.fileInfoEx-1067"><span class="linenos">1067</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">whatXValue</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1068"><a href="#File.fileInfoEx-1068"><span class="linenos">1068</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">isRecoverable</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1069"><a href="#File.fileInfoEx-1069"><span class="linenos">1069</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">isNumerical</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1070"><a href="#File.fileInfoEx-1070"><span class="linenos">1070</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">isReplicated</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1071"><a href="#File.fileInfoEx-1071"><span class="linenos">1071</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">beforeUpdateTrigger</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1072"><a href="#File.fileInfoEx-1072"><span class="linenos">1072</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">beforeDeleteTrigger</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1073"><a href="#File.fileInfoEx-1073"><span class="linenos">1073</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">isEncrypted</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1074"><a href="#File.fileInfoEx-1074"><span class="linenos">1074</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">encinfo</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1075"><a href="#File.fileInfoEx-1075"><span class="linenos">1075</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">afterUpdateTrigger</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1076"><a href="#File.fileInfoEx-1076"><span class="linenos">1076</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">afterDeleteTrigger</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1077"><a href="#File.fileInfoEx-1077"><span class="linenos">1077</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">is64bit</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1078"><a href="#File.fileInfoEx-1078"><span class="linenos">1078</span></a>                <span class="p">)</span> <span class="o">=</span> <span class="n">fileinfo_set</span><span class="o">.</span><span class="n">list</span>
</span><span id="File.fileInfoEx-1079"><a href="#File.fileInfoEx-1079"><span class="linenos">1079</span></a>                <span class="k">pass</span>
</span><span id="File.fileInfoEx-1080"><a href="#File.fileInfoEx-1080"><span class="linenos">1080</span></a>            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">db_type</span> <span class="o">==</span> <span class="s2">&quot;UV&quot;</span><span class="p">:</span>
</span><span id="File.fileInfoEx-1081"><a href="#File.fileInfoEx-1081"><span class="linenos">1081</span></a>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fileinfo_set</span><span class="o">.</span><span class="n">list</span><span class="p">)</span> <span class="o">!=</span> <span class="n">FileInfoEx</span><span class="o">.</span><span class="n">LIST_COUNT</span><span class="p">:</span>
</span><span id="File.fileInfoEx-1082"><a href="#File.fileInfoEx-1082"><span class="linenos">1082</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">()</span>
</span><span id="File.fileInfoEx-1083"><a href="#File.fileInfoEx-1083"><span class="linenos">1083</span></a>                <span class="p">(</span>
</span><span id="File.fileInfoEx-1084"><a href="#File.fileInfoEx-1084"><span class="linenos">1084</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">isFileVar</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1085"><a href="#File.fileInfoEx-1085"><span class="linenos">1085</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">vocName</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1086"><a href="#File.fileInfoEx-1086"><span class="linenos">1086</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">pathName</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1087"><a href="#File.fileInfoEx-1087"><span class="linenos">1087</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1088"><a href="#File.fileInfoEx-1088"><span class="linenos">1088</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">hashAlg</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1089"><a href="#File.fileInfoEx-1089"><span class="linenos">1089</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">modulus</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1090"><a href="#File.fileInfoEx-1090"><span class="linenos">1090</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">minModulus</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1091"><a href="#File.fileInfoEx-1091"><span class="linenos">1091</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">groupSize</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1092"><a href="#File.fileInfoEx-1092"><span class="linenos">1092</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">largeRecordSize</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1093"><a href="#File.fileInfoEx-1093"><span class="linenos">1093</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">mergeLoad</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1094"><a href="#File.fileInfoEx-1094"><span class="linenos">1094</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">splitLoad</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1095"><a href="#File.fileInfoEx-1095"><span class="linenos">1095</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">currentLoad</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1096"><a href="#File.fileInfoEx-1096"><span class="linenos">1096</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">nodeName</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1097"><a href="#File.fileInfoEx-1097"><span class="linenos">1097</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">isAKFile</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1098"><a href="#File.fileInfoEx-1098"><span class="linenos">1098</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">currentLine</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1099"><a href="#File.fileInfoEx-1099"><span class="linenos">1099</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">partNum</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1100"><a href="#File.fileInfoEx-1100"><span class="linenos">1100</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">fileStatus</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1101"><a href="#File.fileInfoEx-1101"><span class="linenos">1101</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">recoveryType</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1102"><a href="#File.fileInfoEx-1102"><span class="linenos">1102</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">recoveryId</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1103"><a href="#File.fileInfoEx-1103"><span class="linenos">1103</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">isFixedModulus</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1104"><a href="#File.fileInfoEx-1104"><span class="linenos">1104</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">nlsmap</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1105"><a href="#File.fileInfoEx-1105"><span class="linenos">1105</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">encryption</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1106"><a href="#File.fileInfoEx-1106"><span class="linenos">1106</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">repStatus</span><span class="p">,</span>
</span><span id="File.fileInfoEx-1107"><a href="#File.fileInfoEx-1107"><span class="linenos">1107</span></a>                <span class="p">)</span> <span class="o">=</span> <span class="n">fileinfo_set</span><span class="o">.</span><span class="n">list</span>
</span><span id="File.fileInfoEx-1108"><a href="#File.fileInfoEx-1108"><span class="linenos">1108</span></a>                <span class="k">pass</span>
</span><span id="File.fileInfoEx-1109"><a href="#File.fileInfoEx-1109"><span class="linenos">1109</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">fileinfo_set</span><span class="p">)</span>
</span><span id="File.fileInfoEx-1110"><a href="#File.fileInfoEx-1110"><span class="linenos">1110</span></a>        <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Get information about the specified files configuration, such as the
files parameters, its modulus and load, its operating system file name, and its VOC name.
The information returned depends on the file type and the value of the key.</p>

<p>After calling the method fileInfoEx, you can access these attributes to get their values.
For UV, these attributes will be available:
isFileVar: 1 if file.variable is a valid file variable; 0 otherwise.
vocName: VOC name of the file.
pathName: Path name of the file.
type: File type: 1 Static hashed | 3 Dynamic hashed | 4 Type 1 | 5 Sequential | 7 Distributed and Multivolume
hashAlg: Hashing algorithm: 2 for GENERAL, 3 for SEQ.NUM.
modulus: Current modulus.
minModulus: Minimum modulus.
groupSize: Group size, in 1-KB units.
largeRecordSize: Large record size.
mergeLoad: Merge load parameter.
splitLoad: Split load parameter.
currentLoad: Current loading of the file (%).
nodeName: Empty string if the file resides on the local system. Otherwise, the name of the node where the file resides.
isAKFile: 1 if secondary indexes exist on the file; 0 otherwise.
currentLine: Current line number.
partNum: For a distributed file, returns the list of currently open part numbers.
fileStatus: For a distributed file, returns the list of status codes indicating whether the last I/O operation succeeded
            or failed for each part. A value of 1 indicates the corresponding part file is not open.
recoveryType: 1 if the file is marked as recoverable, 0 if it is not. Returns an empty string
              if recovery is not supported on the file type (such as type 1 and type 19 files).
recoveryId: Always returns an empty string.
isFixedModulus: Always returns 0.
nlsmap: If NLS is enabled, the file map name; otherwise an empty string.
        If the map name is the default specified in the uvconfig file, the returned string is the map name followed by the name of the configurable parameter in parentheses.
encryption: Returns a dynamic array containing the following information:
             For a file encrypted with the WHOLERECORD option:
            -1@VM@VM
             For a file encrypted at the field level:
            @VM@VM
            @VM[@FM
            ...@VM]
             Returns an empty string if the file is not encrypted.
repStatus: Return values can be:
            0  The file is not published, subscribed, or subwriteable.
            1  The file is being published.
            2  The file is being subscribed.
            3  The file is subwriteable.
            Note: If U2 Data Replication is not running, this function
            returns 0 for any file used with this function.
For UD, these attributes will be available:
isFileVar: File open status. 1= Open, 0= Not open
vocName: VOC name
pathName: Full path name of file
type: File type.
        2 - HASHED
        3 - DYNAMIC
        4 - DIRECTORY
        5 - SEQUENTIAL
        7 - NFA
        8 - OS
        13 - EDA
hashAlg: Hashing file type
        HASH &amp; DYNAMI(KEYONLY) Hash type (0, 1, or 3)
        DYNAMIC (KEYDATA) Hash type (32 , 33, or 35)
        DYNAMIC (WHOLEFILE) Hash type (48, 49, or 51)
        OTHERS
modulus: Modulo of file
minModulus: Minimum modulo
groupSize: Group size of file
largeRecordSize: Block size of file
mergeLoad: Merge factor percentage
splitLoad: Split factor percentage
currentLoad: Current load percentage
nodeName: Node name
isAKFile: Does file contain alternate key indexes?
currentLine: Next line number to read or write
partNum: Part number
fileStatus: Status
relname: Filename
blksize: Block size of file
privilege: Access permissions
whichIndex: Index to which the last SETINDEX statement was applied
whatXValue: Index record read by last browsing statement, such as READFWD and READBCK
isRecoverable: File type: recoverable or nonrecoverable
isNumerical: Numeric keys
isReplicated: Type of U2 Data Replication file
beforeUpdateTrigger: BEFORE-UPDATE-TRIGGER catalog program name of the file <xx>.
beforeDeleteTrigger: BEFORE-DELETE-TRIGGER catalog program name of the file <xx>.
isEncrypted: Is the file encrypted?
encinfo: Type of file encryption
afterUpdateTrigger: AFTER-UPDATE-TRIGGER catalog program name of the file <xx>.
afterDeleteTrigger: AFTER-DELETE-TRIGGER catalog program name of the file <xx>.
is64bit: Defines the bit type</p>

<p>Args: void</p>

<p>Returns: void</p>

<p>Raise:
    UOError</p>

<p>Examples:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>f = <a href="#File">uopy.File</a>('TEST')
      f.fileInfoEx()
      print(f.vocName)
      print(f.pathName)
      print(f.groupSize)</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            </div>
                </section>
                <section id="SequentialFile">
                            <input id="SequentialFile-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">SequentialFile</span><wbr>(<span class="base">uopy._uniobject.UniObject</span>):

                <label class="view-source-button" for="SequentialFile-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SequentialFile"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SequentialFile-20"><a href="#SequentialFile-20"><span class="linenos"> 20</span></a><span class="k">class</span> <span class="nc">SequentialFile</span><span class="p">(</span><span class="n">UniObject</span><span class="p">):</span>
</span><span id="SequentialFile-21"><a href="#SequentialFile-21"><span class="linenos"> 21</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;SequentialFile is used to define and manage MV Sequential Files (which are OS files).</span>
</span><span id="SequentialFile-22"><a href="#SequentialFile-22"><span class="linenos"> 22</span></a>
</span><span id="SequentialFile-23"><a href="#SequentialFile-23"><span class="linenos"> 23</span></a><span class="sd">    SequentialFile can be used in the Python with statement so that whatever occurs in the with statement block,</span>
</span><span id="SequentialFile-24"><a href="#SequentialFile-24"><span class="linenos"> 24</span></a><span class="sd">    they are guaranteed to be closed upon exit.</span>
</span><span id="SequentialFile-25"><a href="#SequentialFile-25"><span class="linenos"> 25</span></a>
</span><span id="SequentialFile-26"><a href="#SequentialFile-26"><span class="linenos"> 26</span></a><span class="sd">    Examples:</span>
</span><span id="SequentialFile-27"><a href="#SequentialFile-27"><span class="linenos"> 27</span></a><span class="sd">          &gt;&gt;&gt; with SequentialFile(&quot;BP&quot;, &quot;TEST_SEQ&quot;, True) as seq_file:</span>
</span><span id="SequentialFile-28"><a href="#SequentialFile-28"><span class="linenos"> 28</span></a><span class="sd">          &gt;&gt;&gt;   seq_file.write_line(&quot;This is test line 1&quot;)</span>
</span><span id="SequentialFile-29"><a href="#SequentialFile-29"><span class="linenos"> 29</span></a><span class="sd">          &gt;&gt;&gt;   seq_file.write_line(&quot;This is test line 2&quot;)</span>
</span><span id="SequentialFile-30"><a href="#SequentialFile-30"><span class="linenos"> 30</span></a><span class="sd">          &gt;&gt;&gt;   seq_file.seek(0) # go to the beginning of the file</span>
</span><span id="SequentialFile-31"><a href="#SequentialFile-31"><span class="linenos"> 31</span></a><span class="sd">          &gt;&gt;&gt;   seq_file.write_line(&quot;This is test line 0&quot;) # overwrite the first line</span>
</span><span id="SequentialFile-32"><a href="#SequentialFile-32"><span class="linenos"> 32</span></a><span class="sd">          &gt;&gt;&gt;   seq_file.seek(0)</span>
</span><span id="SequentialFile-33"><a href="#SequentialFile-33"><span class="linenos"> 33</span></a><span class="sd">          &gt;&gt;&gt;   seq_file.read_line()</span>
</span><span id="SequentialFile-34"><a href="#SequentialFile-34"><span class="linenos"> 34</span></a><span class="sd">          This is test line 0</span>
</span><span id="SequentialFile-35"><a href="#SequentialFile-35"><span class="linenos"> 35</span></a><span class="sd">          &gt;&gt;&gt;   seq_file.read_line()</span>
</span><span id="SequentialFile-36"><a href="#SequentialFile-36"><span class="linenos"> 36</span></a><span class="sd">          This is test line 2</span>
</span><span id="SequentialFile-37"><a href="#SequentialFile-37"><span class="linenos"> 37</span></a>
</span><span id="SequentialFile-38"><a href="#SequentialFile-38"><span class="linenos"> 38</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="SequentialFile-39"><a href="#SequentialFile-39"><span class="linenos"> 39</span></a>
</span><span id="SequentialFile-40"><a href="#SequentialFile-40"><span class="linenos"> 40</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">create_flag</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="SequentialFile-41"><a href="#SequentialFile-41"><span class="linenos"> 41</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes a SequentialFile object.</span>
</span><span id="SequentialFile-42"><a href="#SequentialFile-42"><span class="linenos"> 42</span></a>
</span><span id="SequentialFile-43"><a href="#SequentialFile-43"><span class="linenos"> 43</span></a><span class="sd">        Args:</span>
</span><span id="SequentialFile-44"><a href="#SequentialFile-44"><span class="linenos"> 44</span></a><span class="sd">            file_name (str): the directory file name.</span>
</span><span id="SequentialFile-45"><a href="#SequentialFile-45"><span class="linenos"> 45</span></a><span class="sd">            record_id (str): the sequential file name.</span>
</span><span id="SequentialFile-46"><a href="#SequentialFile-46"><span class="linenos"> 46</span></a><span class="sd">            create_flag (boolean, optional): when False (default), do not create the file if nonexistent;</span>
</span><span id="SequentialFile-47"><a href="#SequentialFile-47"><span class="linenos"> 47</span></a><span class="sd">                otherwise, create the file if nonexistent.</span>
</span><span id="SequentialFile-48"><a href="#SequentialFile-48"><span class="linenos"> 48</span></a><span class="sd">            session (Session, optional): the Session object that the SequentialFile object is bound to.</span>
</span><span id="SequentialFile-49"><a href="#SequentialFile-49"><span class="linenos"> 49</span></a><span class="sd">                If omitted, the last opened Session in the current thread will be used.</span>
</span><span id="SequentialFile-50"><a href="#SequentialFile-50"><span class="linenos"> 50</span></a>
</span><span id="SequentialFile-51"><a href="#SequentialFile-51"><span class="linenos"> 51</span></a><span class="sd">        Returns:</span>
</span><span id="SequentialFile-52"><a href="#SequentialFile-52"><span class="linenos"> 52</span></a><span class="sd">            None</span>
</span><span id="SequentialFile-53"><a href="#SequentialFile-53"><span class="linenos"> 53</span></a>
</span><span id="SequentialFile-54"><a href="#SequentialFile-54"><span class="linenos"> 54</span></a><span class="sd">        Raises:</span>
</span><span id="SequentialFile-55"><a href="#SequentialFile-55"><span class="linenos"> 55</span></a><span class="sd">            UOError</span>
</span><span id="SequentialFile-56"><a href="#SequentialFile-56"><span class="linenos"> 56</span></a>
</span><span id="SequentialFile-57"><a href="#SequentialFile-57"><span class="linenos"> 57</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile-58"><a href="#SequentialFile-58"><span class="linenos"> 58</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</span><span id="SequentialFile-59"><a href="#SequentialFile-59"><span class="linenos"> 59</span></a>
</span><span id="SequentialFile-60"><a href="#SequentialFile-60"><span class="linenos"> 60</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
</span><span id="SequentialFile-61"><a href="#SequentialFile-61"><span class="linenos"> 61</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_seq_record_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">record_id</span><span class="p">)</span>
</span><span id="SequentialFile-62"><a href="#SequentialFile-62"><span class="linenos"> 62</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="SequentialFile-63"><a href="#SequentialFile-63"><span class="linenos"> 63</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_seq_timeout</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="SequentialFile-64"><a href="#SequentialFile-64"><span class="linenos"> 64</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="SequentialFile-65"><a href="#SequentialFile-65"><span class="linenos"> 65</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="SequentialFile-66"><a href="#SequentialFile-66"><span class="linenos"> 66</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_block_size</span> <span class="o">=</span> <span class="n">_DEFAULT_BLOCK_SIZE</span>
</span><span id="SequentialFile-67"><a href="#SequentialFile-67"><span class="linenos"> 67</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_read_all</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="SequentialFile-68"><a href="#SequentialFile-68"><span class="linenos"> 68</span></a>
</span><span id="SequentialFile-69"><a href="#SequentialFile-69"><span class="linenos"> 69</span></a>        <span class="k">if</span> <span class="n">create_flag</span><span class="p">:</span>
</span><span id="SequentialFile-70"><a href="#SequentialFile-70"><span class="linenos"> 70</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_seq_create_flag</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="SequentialFile-71"><a href="#SequentialFile-71"><span class="linenos"> 71</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SequentialFile-72"><a href="#SequentialFile-72"><span class="linenos"> 72</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_seq_create_flag</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="SequentialFile-73"><a href="#SequentialFile-73"><span class="linenos"> 73</span></a>
</span><span id="SequentialFile-74"><a href="#SequentialFile-74"><span class="linenos"> 74</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
</span><span id="SequentialFile-75"><a href="#SequentialFile-75"><span class="linenos"> 75</span></a>
</span><span id="SequentialFile-76"><a href="#SequentialFile-76"><span class="linenos"> 76</span></a>    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SequentialFile-77"><a href="#SequentialFile-77"><span class="linenos"> 77</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span><span class="p">:</span>
</span><span id="SequentialFile-78"><a href="#SequentialFile-78"><span class="linenos"> 78</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
</span><span id="SequentialFile-79"><a href="#SequentialFile-79"><span class="linenos"> 79</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="SequentialFile-80"><a href="#SequentialFile-80"><span class="linenos"> 80</span></a>
</span><span id="SequentialFile-81"><a href="#SequentialFile-81"><span class="linenos"> 81</span></a>    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exec_type</span><span class="p">,</span> <span class="n">exec_value</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
</span><span id="SequentialFile-82"><a href="#SequentialFile-82"><span class="linenos"> 82</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="SequentialFile-83"><a href="#SequentialFile-83"><span class="linenos"> 83</span></a>
</span><span id="SequentialFile-84"><a href="#SequentialFile-84"><span class="linenos"> 84</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SequentialFile-85"><a href="#SequentialFile-85"><span class="linenos"> 85</span></a>        <span class="n">format_string</span> <span class="o">=</span> <span class="s2">&quot;&lt;</span><span class="si">{}</span><span class="s2"> object </span><span class="si">{}</span><span class="s2"> at 0x</span><span class="si">{:016X}</span><span class="s2">&gt;&quot;</span>
</span><span id="SequentialFile-86"><a href="#SequentialFile-86"><span class="linenos"> 86</span></a>        <span class="n">details</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;dir&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_name</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_record_id</span><span class="p">}</span>
</span><span id="SequentialFile-87"><a href="#SequentialFile-87"><span class="linenos"> 87</span></a>        <span class="k">return</span> <span class="n">format_string</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
</span><span id="SequentialFile-88"><a href="#SequentialFile-88"><span class="linenos"> 88</span></a>            <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">SequentialFile</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span> <span class="n">SequentialFile</span><span class="o">.</span><span class="vm">__qualname__</span><span class="p">]),</span>
</span><span id="SequentialFile-89"><a href="#SequentialFile-89"><span class="linenos"> 89</span></a>            <span class="n">details</span><span class="p">,</span>
</span><span id="SequentialFile-90"><a href="#SequentialFile-90"><span class="linenos"> 90</span></a>            <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span>
</span><span id="SequentialFile-91"><a href="#SequentialFile-91"><span class="linenos"> 91</span></a>        <span class="p">)</span>
</span><span id="SequentialFile-92"><a href="#SequentialFile-92"><span class="linenos"> 92</span></a>
</span><span id="SequentialFile-93"><a href="#SequentialFile-93"><span class="linenos"> 93</span></a>    <span class="nd">@property</span>
</span><span id="SequentialFile-94"><a href="#SequentialFile-94"><span class="linenos"> 94</span></a>    <span class="k">def</span> <span class="nf">status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SequentialFile-95"><a href="#SequentialFile-95"><span class="linenos"> 95</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;int: The status code set by the remote server after a sequential file operation.&quot;&quot;&quot;</span>
</span><span id="SequentialFile-96"><a href="#SequentialFile-96"><span class="linenos"> 96</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span>
</span><span id="SequentialFile-97"><a href="#SequentialFile-97"><span class="linenos"> 97</span></a>
</span><span id="SequentialFile-98"><a href="#SequentialFile-98"><span class="linenos"> 98</span></a>    <span class="nd">@property</span>
</span><span id="SequentialFile-99"><a href="#SequentialFile-99"><span class="linenos"> 99</span></a>    <span class="k">def</span> <span class="nf">block_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SequentialFile-100"><a href="#SequentialFile-100"><span class="linenos">100</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;int: The block size for read_block(). The default value is 8192.</span>
</span><span id="SequentialFile-101"><a href="#SequentialFile-101"><span class="linenos">101</span></a>
</span><span id="SequentialFile-102"><a href="#SequentialFile-102"><span class="linenos">102</span></a><span class="sd">        If left unset, read_block() will read the whole file back.</span>
</span><span id="SequentialFile-103"><a href="#SequentialFile-103"><span class="linenos">103</span></a><span class="sd">        If set explicitly, it will be the maximum size of the data read_block() returns.</span>
</span><span id="SequentialFile-104"><a href="#SequentialFile-104"><span class="linenos">104</span></a>
</span><span id="SequentialFile-105"><a href="#SequentialFile-105"><span class="linenos">105</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile-106"><a href="#SequentialFile-106"><span class="linenos">106</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_block_size</span>
</span><span id="SequentialFile-107"><a href="#SequentialFile-107"><span class="linenos">107</span></a>
</span><span id="SequentialFile-108"><a href="#SequentialFile-108"><span class="linenos">108</span></a>    <span class="nd">@block_size</span><span class="o">.</span><span class="n">setter</span>
</span><span id="SequentialFile-109"><a href="#SequentialFile-109"><span class="linenos">109</span></a>    <span class="k">def</span> <span class="nf">block_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="SequentialFile-110"><a href="#SequentialFile-110"><span class="linenos">110</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="SequentialFile-111"><a href="#SequentialFile-111"><span class="linenos">111</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;read buffer size must be an integer!&quot;</span><span class="p">)</span>
</span><span id="SequentialFile-112"><a href="#SequentialFile-112"><span class="linenos">112</span></a>        <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile-113"><a href="#SequentialFile-113"><span class="linenos">113</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;read buffer size must between greater than 0!&quot;</span><span class="p">)</span>
</span><span id="SequentialFile-114"><a href="#SequentialFile-114"><span class="linenos">114</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_block_size</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="SequentialFile-115"><a href="#SequentialFile-115"><span class="linenos">115</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_read_all</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="SequentialFile-116"><a href="#SequentialFile-116"><span class="linenos">116</span></a>
</span><span id="SequentialFile-117"><a href="#SequentialFile-117"><span class="linenos">117</span></a>    <span class="nd">@property</span>
</span><span id="SequentialFile-118"><a href="#SequentialFile-118"><span class="linenos">118</span></a>    <span class="k">def</span> <span class="nf">timeout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SequentialFile-119"><a href="#SequentialFile-119"><span class="linenos">119</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;int: the timeout for sequential file operations.&quot;&quot;&quot;</span>
</span><span id="SequentialFile-120"><a href="#SequentialFile-120"><span class="linenos">120</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_timeout</span>
</span><span id="SequentialFile-121"><a href="#SequentialFile-121"><span class="linenos">121</span></a>
</span><span id="SequentialFile-122"><a href="#SequentialFile-122"><span class="linenos">122</span></a>    <span class="nd">@timeout</span><span class="o">.</span><span class="n">setter</span>
</span><span id="SequentialFile-123"><a href="#SequentialFile-123"><span class="linenos">123</span></a>    <span class="k">def</span> <span class="nf">timeout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_timeout</span><span class="p">):</span>
</span><span id="SequentialFile-124"><a href="#SequentialFile-124"><span class="linenos">124</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">)</span>
</span><span id="SequentialFile-125"><a href="#SequentialFile-125"><span class="linenos">125</span></a>
</span><span id="SequentialFile-126"><a href="#SequentialFile-126"><span class="linenos">126</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="SequentialFile-127"><a href="#SequentialFile-127"><span class="linenos">127</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile-128"><a href="#SequentialFile-128"><span class="linenos">128</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile-129"><a href="#SequentialFile-129"><span class="linenos">129</span></a>
</span><span id="SequentialFile-130"><a href="#SequentialFile-130"><span class="linenos">130</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_TIMEOUT</span><span class="p">)</span>
</span><span id="SequentialFile-131"><a href="#SequentialFile-131"><span class="linenos">131</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span><span class="p">)</span>
</span><span id="SequentialFile-132"><a href="#SequentialFile-132"><span class="linenos">132</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">new_timeout</span><span class="p">)</span>
</span><span id="SequentialFile-133"><a href="#SequentialFile-133"><span class="linenos">133</span></a>
</span><span id="SequentialFile-134"><a href="#SequentialFile-134"><span class="linenos">134</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="SequentialFile-135"><a href="#SequentialFile-135"><span class="linenos">135</span></a>
</span><span id="SequentialFile-136"><a href="#SequentialFile-136"><span class="linenos">136</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile-137"><a href="#SequentialFile-137"><span class="linenos">137</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="SequentialFile-138"><a href="#SequentialFile-138"><span class="linenos">138</span></a>
</span><span id="SequentialFile-139"><a href="#SequentialFile-139"><span class="linenos">139</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_seq_timeout</span> <span class="o">=</span> <span class="n">new_timeout</span>
</span><span id="SequentialFile-140"><a href="#SequentialFile-140"><span class="linenos">140</span></a>
</span><span id="SequentialFile-141"><a href="#SequentialFile-141"><span class="linenos">141</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="SequentialFile-142"><a href="#SequentialFile-142"><span class="linenos">142</span></a>
</span><span id="SequentialFile-143"><a href="#SequentialFile-143"><span class="linenos">143</span></a>    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SequentialFile-144"><a href="#SequentialFile-144"><span class="linenos">144</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Open the server-side file, creating it if the create_flag is True and the file doesn&#39;t exist.</span>
</span><span id="SequentialFile-145"><a href="#SequentialFile-145"><span class="linenos">145</span></a>
</span><span id="SequentialFile-146"><a href="#SequentialFile-146"><span class="linenos">146</span></a><span class="sd">        Args:</span>
</span><span id="SequentialFile-147"><a href="#SequentialFile-147"><span class="linenos">147</span></a>
</span><span id="SequentialFile-148"><a href="#SequentialFile-148"><span class="linenos">148</span></a><span class="sd">        Returns:</span>
</span><span id="SequentialFile-149"><a href="#SequentialFile-149"><span class="linenos">149</span></a>
</span><span id="SequentialFile-150"><a href="#SequentialFile-150"><span class="linenos">150</span></a><span class="sd">        Raises:</span>
</span><span id="SequentialFile-151"><a href="#SequentialFile-151"><span class="linenos">151</span></a><span class="sd">            UOError</span>
</span><span id="SequentialFile-152"><a href="#SequentialFile-152"><span class="linenos">152</span></a>
</span><span id="SequentialFile-153"><a href="#SequentialFile-153"><span class="linenos">153</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile-154"><a href="#SequentialFile-154"><span class="linenos">154</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_record_id</span><span class="p">)</span>
</span><span id="SequentialFile-155"><a href="#SequentialFile-155"><span class="linenos">155</span></a>
</span><span id="SequentialFile-156"><a href="#SequentialFile-156"><span class="linenos">156</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span><span class="p">:</span>
</span><span id="SequentialFile-157"><a href="#SequentialFile-157"><span class="linenos">157</span></a>            <span class="k">return</span>
</span><span id="SequentialFile-158"><a href="#SequentialFile-158"><span class="linenos">158</span></a>
</span><span id="SequentialFile-159"><a href="#SequentialFile-159"><span class="linenos">159</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="SequentialFile-160"><a href="#SequentialFile-160"><span class="linenos">160</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile-161"><a href="#SequentialFile-161"><span class="linenos">161</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile-162"><a href="#SequentialFile-162"><span class="linenos">162</span></a>
</span><span id="SequentialFile-163"><a href="#SequentialFile-163"><span class="linenos">163</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_OPENSEQ</span><span class="p">)</span>
</span><span id="SequentialFile-164"><a href="#SequentialFile-164"><span class="linenos">164</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_name</span><span class="p">))</span>
</span><span id="SequentialFile-165"><a href="#SequentialFile-165"><span class="linenos">165</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_seq_record_id</span><span class="p">))</span>
</span><span id="SequentialFile-166"><a href="#SequentialFile-166"><span class="linenos">166</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_create_flag</span><span class="p">)</span>
</span><span id="SequentialFile-167"><a href="#SequentialFile-167"><span class="linenos">167</span></a>
</span><span id="SequentialFile-168"><a href="#SequentialFile-168"><span class="linenos">168</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="SequentialFile-169"><a href="#SequentialFile-169"><span class="linenos">169</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile-170"><a href="#SequentialFile-170"><span class="linenos">170</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_name</span><span class="p">)</span>
</span><span id="SequentialFile-171"><a href="#SequentialFile-171"><span class="linenos">171</span></a>
</span><span id="SequentialFile-172"><a href="#SequentialFile-172"><span class="linenos">172</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="SequentialFile-173"><a href="#SequentialFile-173"><span class="linenos">173</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="SequentialFile-174"><a href="#SequentialFile-174"><span class="linenos">174</span></a>
</span><span id="SequentialFile-175"><a href="#SequentialFile-175"><span class="linenos">175</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="SequentialFile-176"><a href="#SequentialFile-176"><span class="linenos">176</span></a>
</span><span id="SequentialFile-177"><a href="#SequentialFile-177"><span class="linenos">177</span></a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SequentialFile-178"><a href="#SequentialFile-178"><span class="linenos">178</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close an opened sequential file.</span>
</span><span id="SequentialFile-179"><a href="#SequentialFile-179"><span class="linenos">179</span></a>
</span><span id="SequentialFile-180"><a href="#SequentialFile-180"><span class="linenos">180</span></a><span class="sd">        Args:</span>
</span><span id="SequentialFile-181"><a href="#SequentialFile-181"><span class="linenos">181</span></a>
</span><span id="SequentialFile-182"><a href="#SequentialFile-182"><span class="linenos">182</span></a><span class="sd">        Returns:</span>
</span><span id="SequentialFile-183"><a href="#SequentialFile-183"><span class="linenos">183</span></a><span class="sd">            None</span>
</span><span id="SequentialFile-184"><a href="#SequentialFile-184"><span class="linenos">184</span></a>
</span><span id="SequentialFile-185"><a href="#SequentialFile-185"><span class="linenos">185</span></a><span class="sd">        Raises:</span>
</span><span id="SequentialFile-186"><a href="#SequentialFile-186"><span class="linenos">186</span></a><span class="sd">            UOError</span>
</span><span id="SequentialFile-187"><a href="#SequentialFile-187"><span class="linenos">187</span></a>
</span><span id="SequentialFile-188"><a href="#SequentialFile-188"><span class="linenos">188</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile-189"><a href="#SequentialFile-189"><span class="linenos">189</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_record_id</span><span class="p">)</span>
</span><span id="SequentialFile-190"><a href="#SequentialFile-190"><span class="linenos">190</span></a>
</span><span id="SequentialFile-191"><a href="#SequentialFile-191"><span class="linenos">191</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span><span class="p">:</span>
</span><span id="SequentialFile-192"><a href="#SequentialFile-192"><span class="linenos">192</span></a>            <span class="k">return</span>
</span><span id="SequentialFile-193"><a href="#SequentialFile-193"><span class="linenos">193</span></a>
</span><span id="SequentialFile-194"><a href="#SequentialFile-194"><span class="linenos">194</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="SequentialFile-195"><a href="#SequentialFile-195"><span class="linenos">195</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile-196"><a href="#SequentialFile-196"><span class="linenos">196</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile-197"><a href="#SequentialFile-197"><span class="linenos">197</span></a>
</span><span id="SequentialFile-198"><a href="#SequentialFile-198"><span class="linenos">198</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_CLOSESEQ</span><span class="p">)</span>
</span><span id="SequentialFile-199"><a href="#SequentialFile-199"><span class="linenos">199</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span><span class="p">)</span>
</span><span id="SequentialFile-200"><a href="#SequentialFile-200"><span class="linenos">200</span></a>
</span><span id="SequentialFile-201"><a href="#SequentialFile-201"><span class="linenos">201</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="SequentialFile-202"><a href="#SequentialFile-202"><span class="linenos">202</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile-203"><a href="#SequentialFile-203"><span class="linenos">203</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="SequentialFile-204"><a href="#SequentialFile-204"><span class="linenos">204</span></a>
</span><span id="SequentialFile-205"><a href="#SequentialFile-205"><span class="linenos">205</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="SequentialFile-206"><a href="#SequentialFile-206"><span class="linenos">206</span></a>
</span><span id="SequentialFile-207"><a href="#SequentialFile-207"><span class="linenos">207</span></a>    <span class="k">def</span> <span class="nf">seek</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">relative_pos</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="SequentialFile-208"><a href="#SequentialFile-208"><span class="linenos">208</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Move the file pointer within the Sequential File by an offset position specified in bytes.</span>
</span><span id="SequentialFile-209"><a href="#SequentialFile-209"><span class="linenos">209</span></a>
</span><span id="SequentialFile-210"><a href="#SequentialFile-210"><span class="linenos">210</span></a><span class="sd">        Args:</span>
</span><span id="SequentialFile-211"><a href="#SequentialFile-211"><span class="linenos">211</span></a><span class="sd">            offset (int): specifies the number of bytes before or after relative_pos.</span>
</span><span id="SequentialFile-212"><a href="#SequentialFile-212"><span class="linenos">212</span></a><span class="sd">                    A negative value moves the pointer to a position before aRelPos.</span>
</span><span id="SequentialFile-213"><a href="#SequentialFile-213"><span class="linenos">213</span></a><span class="sd">            relative_pos (int): specifies the relative position within a file from which to seek. Default value is 0.</span>
</span><span id="SequentialFile-214"><a href="#SequentialFile-214"><span class="linenos">214</span></a><span class="sd">                    0 (default) start from the beginning of the file.</span>
</span><span id="SequentialFile-215"><a href="#SequentialFile-215"><span class="linenos">215</span></a><span class="sd">                    1 start from the current position.</span>
</span><span id="SequentialFile-216"><a href="#SequentialFile-216"><span class="linenos">216</span></a><span class="sd">                    2 start from the end of the file.</span>
</span><span id="SequentialFile-217"><a href="#SequentialFile-217"><span class="linenos">217</span></a>
</span><span id="SequentialFile-218"><a href="#SequentialFile-218"><span class="linenos">218</span></a><span class="sd">        Returns:</span>
</span><span id="SequentialFile-219"><a href="#SequentialFile-219"><span class="linenos">219</span></a><span class="sd">            None</span>
</span><span id="SequentialFile-220"><a href="#SequentialFile-220"><span class="linenos">220</span></a>
</span><span id="SequentialFile-221"><a href="#SequentialFile-221"><span class="linenos">221</span></a><span class="sd">        Raises:</span>
</span><span id="SequentialFile-222"><a href="#SequentialFile-222"><span class="linenos">222</span></a><span class="sd">            UOError</span>
</span><span id="SequentialFile-223"><a href="#SequentialFile-223"><span class="linenos">223</span></a>
</span><span id="SequentialFile-224"><a href="#SequentialFile-224"><span class="linenos">224</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile-225"><a href="#SequentialFile-225"><span class="linenos">225</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">relative_pos</span><span class="p">)</span>
</span><span id="SequentialFile-226"><a href="#SequentialFile-226"><span class="linenos">226</span></a>
</span><span id="SequentialFile-227"><a href="#SequentialFile-227"><span class="linenos">227</span></a>        <span class="k">if</span> <span class="n">relative_pos</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="n">_SEQ_FILE_START</span><span class="p">,</span> <span class="n">_SEQ_FILE_CURR</span><span class="p">,</span> <span class="n">_SEQ_FILE_END</span><span class="p">}:</span>
</span><span id="SequentialFile-228"><a href="#SequentialFile-228"><span class="linenos">228</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_EINVAL</span><span class="p">)</span>
</span><span id="SequentialFile-229"><a href="#SequentialFile-229"><span class="linenos">229</span></a>
</span><span id="SequentialFile-230"><a href="#SequentialFile-230"><span class="linenos">230</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="SequentialFile-231"><a href="#SequentialFile-231"><span class="linenos">231</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile-232"><a href="#SequentialFile-232"><span class="linenos">232</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile-233"><a href="#SequentialFile-233"><span class="linenos">233</span></a>
</span><span id="SequentialFile-234"><a href="#SequentialFile-234"><span class="linenos">234</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_SEEK</span><span class="p">)</span>
</span><span id="SequentialFile-235"><a href="#SequentialFile-235"><span class="linenos">235</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span><span class="p">)</span>
</span><span id="SequentialFile-236"><a href="#SequentialFile-236"><span class="linenos">236</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
</span><span id="SequentialFile-237"><a href="#SequentialFile-237"><span class="linenos">237</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">relative_pos</span><span class="p">)</span>
</span><span id="SequentialFile-238"><a href="#SequentialFile-238"><span class="linenos">238</span></a>
</span><span id="SequentialFile-239"><a href="#SequentialFile-239"><span class="linenos">239</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="SequentialFile-240"><a href="#SequentialFile-240"><span class="linenos">240</span></a>
</span><span id="SequentialFile-241"><a href="#SequentialFile-241"><span class="linenos">241</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile-242"><a href="#SequentialFile-242"><span class="linenos">242</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="SequentialFile-243"><a href="#SequentialFile-243"><span class="linenos">243</span></a>
</span><span id="SequentialFile-244"><a href="#SequentialFile-244"><span class="linenos">244</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="SequentialFile-245"><a href="#SequentialFile-245"><span class="linenos">245</span></a>
</span><span id="SequentialFile-246"><a href="#SequentialFile-246"><span class="linenos">246</span></a>    <span class="k">def</span> <span class="nf">write_eof</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SequentialFile-247"><a href="#SequentialFile-247"><span class="linenos">247</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Write an EOF marker to the sequential file.</span>
</span><span id="SequentialFile-248"><a href="#SequentialFile-248"><span class="linenos">248</span></a>
</span><span id="SequentialFile-249"><a href="#SequentialFile-249"><span class="linenos">249</span></a><span class="sd">        Args:</span>
</span><span id="SequentialFile-250"><a href="#SequentialFile-250"><span class="linenos">250</span></a>
</span><span id="SequentialFile-251"><a href="#SequentialFile-251"><span class="linenos">251</span></a><span class="sd">        Returns:</span>
</span><span id="SequentialFile-252"><a href="#SequentialFile-252"><span class="linenos">252</span></a><span class="sd">            None</span>
</span><span id="SequentialFile-253"><a href="#SequentialFile-253"><span class="linenos">253</span></a>
</span><span id="SequentialFile-254"><a href="#SequentialFile-254"><span class="linenos">254</span></a><span class="sd">        Raises:</span>
</span><span id="SequentialFile-255"><a href="#SequentialFile-255"><span class="linenos">255</span></a><span class="sd">            UOError</span>
</span><span id="SequentialFile-256"><a href="#SequentialFile-256"><span class="linenos">256</span></a>
</span><span id="SequentialFile-257"><a href="#SequentialFile-257"><span class="linenos">257</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile-258"><a href="#SequentialFile-258"><span class="linenos">258</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">)</span>
</span><span id="SequentialFile-259"><a href="#SequentialFile-259"><span class="linenos">259</span></a>
</span><span id="SequentialFile-260"><a href="#SequentialFile-260"><span class="linenos">260</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="SequentialFile-261"><a href="#SequentialFile-261"><span class="linenos">261</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile-262"><a href="#SequentialFile-262"><span class="linenos">262</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile-263"><a href="#SequentialFile-263"><span class="linenos">263</span></a>
</span><span id="SequentialFile-264"><a href="#SequentialFile-264"><span class="linenos">264</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_WEOFSEQ</span><span class="p">)</span>
</span><span id="SequentialFile-265"><a href="#SequentialFile-265"><span class="linenos">265</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span><span class="p">)</span>
</span><span id="SequentialFile-266"><a href="#SequentialFile-266"><span class="linenos">266</span></a>
</span><span id="SequentialFile-267"><a href="#SequentialFile-267"><span class="linenos">267</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="SequentialFile-268"><a href="#SequentialFile-268"><span class="linenos">268</span></a>
</span><span id="SequentialFile-269"><a href="#SequentialFile-269"><span class="linenos">269</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile-270"><a href="#SequentialFile-270"><span class="linenos">270</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="SequentialFile-271"><a href="#SequentialFile-271"><span class="linenos">271</span></a>
</span><span id="SequentialFile-272"><a href="#SequentialFile-272"><span class="linenos">272</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="SequentialFile-273"><a href="#SequentialFile-273"><span class="linenos">273</span></a>
</span><span id="SequentialFile-274"><a href="#SequentialFile-274"><span class="linenos">274</span></a>    <span class="k">def</span> <span class="nf">write_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blk_data</span><span class="p">):</span>
</span><span id="SequentialFile-275"><a href="#SequentialFile-275"><span class="linenos">275</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Write the given block to the sequential file at the location currently set.</span>
</span><span id="SequentialFile-276"><a href="#SequentialFile-276"><span class="linenos">276</span></a>
</span><span id="SequentialFile-277"><a href="#SequentialFile-277"><span class="linenos">277</span></a><span class="sd">        Args:</span>
</span><span id="SequentialFile-278"><a href="#SequentialFile-278"><span class="linenos">278</span></a><span class="sd">            blk_data (any): The data to write - can be str, bytes or DynArray.</span>
</span><span id="SequentialFile-279"><a href="#SequentialFile-279"><span class="linenos">279</span></a>
</span><span id="SequentialFile-280"><a href="#SequentialFile-280"><span class="linenos">280</span></a><span class="sd">        Returns:</span>
</span><span id="SequentialFile-281"><a href="#SequentialFile-281"><span class="linenos">281</span></a><span class="sd">            None</span>
</span><span id="SequentialFile-282"><a href="#SequentialFile-282"><span class="linenos">282</span></a>
</span><span id="SequentialFile-283"><a href="#SequentialFile-283"><span class="linenos">283</span></a><span class="sd">        Raises:</span>
</span><span id="SequentialFile-284"><a href="#SequentialFile-284"><span class="linenos">284</span></a><span class="sd">            UOError</span>
</span><span id="SequentialFile-285"><a href="#SequentialFile-285"><span class="linenos">285</span></a>
</span><span id="SequentialFile-286"><a href="#SequentialFile-286"><span class="linenos">286</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile-287"><a href="#SequentialFile-287"><span class="linenos">287</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">blk_data</span><span class="p">)</span>
</span><span id="SequentialFile-288"><a href="#SequentialFile-288"><span class="linenos">288</span></a>
</span><span id="SequentialFile-289"><a href="#SequentialFile-289"><span class="linenos">289</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="SequentialFile-290"><a href="#SequentialFile-290"><span class="linenos">290</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile-291"><a href="#SequentialFile-291"><span class="linenos">291</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile-292"><a href="#SequentialFile-292"><span class="linenos">292</span></a>
</span><span id="SequentialFile-293"><a href="#SequentialFile-293"><span class="linenos">293</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_WRITEBLK</span><span class="p">)</span>
</span><span id="SequentialFile-294"><a href="#SequentialFile-294"><span class="linenos">294</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span><span class="p">)</span>
</span><span id="SequentialFile-295"><a href="#SequentialFile-295"><span class="linenos">295</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">blk_data</span><span class="p">))</span>
</span><span id="SequentialFile-296"><a href="#SequentialFile-296"><span class="linenos">296</span></a>
</span><span id="SequentialFile-297"><a href="#SequentialFile-297"><span class="linenos">297</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="SequentialFile-298"><a href="#SequentialFile-298"><span class="linenos">298</span></a>
</span><span id="SequentialFile-299"><a href="#SequentialFile-299"><span class="linenos">299</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile-300"><a href="#SequentialFile-300"><span class="linenos">300</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="SequentialFile-301"><a href="#SequentialFile-301"><span class="linenos">301</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="SequentialFile-302"><a href="#SequentialFile-302"><span class="linenos">302</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="SequentialFile-303"><a href="#SequentialFile-303"><span class="linenos">303</span></a>
</span><span id="SequentialFile-304"><a href="#SequentialFile-304"><span class="linenos">304</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="SequentialFile-305"><a href="#SequentialFile-305"><span class="linenos">305</span></a>
</span><span id="SequentialFile-306"><a href="#SequentialFile-306"><span class="linenos">306</span></a>    <span class="k">def</span> <span class="nf">write_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line_data</span><span class="p">):</span>
</span><span id="SequentialFile-307"><a href="#SequentialFile-307"><span class="linenos">307</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Write the given line to the sequential file at the location currently set.</span>
</span><span id="SequentialFile-308"><a href="#SequentialFile-308"><span class="linenos">308</span></a>
</span><span id="SequentialFile-309"><a href="#SequentialFile-309"><span class="linenos">309</span></a><span class="sd">        Args:</span>
</span><span id="SequentialFile-310"><a href="#SequentialFile-310"><span class="linenos">310</span></a><span class="sd">            line_data (any): The data to write - can be str, bytes or DynArray.</span>
</span><span id="SequentialFile-311"><a href="#SequentialFile-311"><span class="linenos">311</span></a>
</span><span id="SequentialFile-312"><a href="#SequentialFile-312"><span class="linenos">312</span></a><span class="sd">        Returns:</span>
</span><span id="SequentialFile-313"><a href="#SequentialFile-313"><span class="linenos">313</span></a><span class="sd">            None</span>
</span><span id="SequentialFile-314"><a href="#SequentialFile-314"><span class="linenos">314</span></a>
</span><span id="SequentialFile-315"><a href="#SequentialFile-315"><span class="linenos">315</span></a><span class="sd">        Raises:</span>
</span><span id="SequentialFile-316"><a href="#SequentialFile-316"><span class="linenos">316</span></a><span class="sd">            UOError</span>
</span><span id="SequentialFile-317"><a href="#SequentialFile-317"><span class="linenos">317</span></a>
</span><span id="SequentialFile-318"><a href="#SequentialFile-318"><span class="linenos">318</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile-319"><a href="#SequentialFile-319"><span class="linenos">319</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">line_data</span><span class="p">)</span>
</span><span id="SequentialFile-320"><a href="#SequentialFile-320"><span class="linenos">320</span></a>
</span><span id="SequentialFile-321"><a href="#SequentialFile-321"><span class="linenos">321</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="SequentialFile-322"><a href="#SequentialFile-322"><span class="linenos">322</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile-323"><a href="#SequentialFile-323"><span class="linenos">323</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile-324"><a href="#SequentialFile-324"><span class="linenos">324</span></a>
</span><span id="SequentialFile-325"><a href="#SequentialFile-325"><span class="linenos">325</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_WRITESEQ</span><span class="p">)</span>
</span><span id="SequentialFile-326"><a href="#SequentialFile-326"><span class="linenos">326</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span><span class="p">)</span>
</span><span id="SequentialFile-327"><a href="#SequentialFile-327"><span class="linenos">327</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">line_data</span><span class="p">))</span>
</span><span id="SequentialFile-328"><a href="#SequentialFile-328"><span class="linenos">328</span></a>
</span><span id="SequentialFile-329"><a href="#SequentialFile-329"><span class="linenos">329</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="SequentialFile-330"><a href="#SequentialFile-330"><span class="linenos">330</span></a>
</span><span id="SequentialFile-331"><a href="#SequentialFile-331"><span class="linenos">331</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile-332"><a href="#SequentialFile-332"><span class="linenos">332</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="SequentialFile-333"><a href="#SequentialFile-333"><span class="linenos">333</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="SequentialFile-334"><a href="#SequentialFile-334"><span class="linenos">334</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="SequentialFile-335"><a href="#SequentialFile-335"><span class="linenos">335</span></a>
</span><span id="SequentialFile-336"><a href="#SequentialFile-336"><span class="linenos">336</span></a>            <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="SequentialFile-337"><a href="#SequentialFile-337"><span class="linenos">337</span></a>
</span><span id="SequentialFile-338"><a href="#SequentialFile-338"><span class="linenos">338</span></a>    <span class="k">def</span> <span class="nf">read_line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SequentialFile-339"><a href="#SequentialFile-339"><span class="linenos">339</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Reads a line of data from the sequential file.</span>
</span><span id="SequentialFile-340"><a href="#SequentialFile-340"><span class="linenos">340</span></a>
</span><span id="SequentialFile-341"><a href="#SequentialFile-341"><span class="linenos">341</span></a><span class="sd">        The lines must be delimited with a newline character.</span>
</span><span id="SequentialFile-342"><a href="#SequentialFile-342"><span class="linenos">342</span></a>
</span><span id="SequentialFile-343"><a href="#SequentialFile-343"><span class="linenos">343</span></a><span class="sd">        status property will return one of the following values:</span>
</span><span id="SequentialFile-344"><a href="#SequentialFile-344"><span class="linenos">344</span></a><span class="sd">        -1    The file is not open for reading.</span>
</span><span id="SequentialFile-345"><a href="#SequentialFile-345"><span class="linenos">345</span></a><span class="sd">        0        The read was successful.</span>
</span><span id="SequentialFile-346"><a href="#SequentialFile-346"><span class="linenos">346</span></a><span class="sd">        1        The end of file was reached.</span>
</span><span id="SequentialFile-347"><a href="#SequentialFile-347"><span class="linenos">347</span></a>
</span><span id="SequentialFile-348"><a href="#SequentialFile-348"><span class="linenos">348</span></a><span class="sd">        Args:</span>
</span><span id="SequentialFile-349"><a href="#SequentialFile-349"><span class="linenos">349</span></a>
</span><span id="SequentialFile-350"><a href="#SequentialFile-350"><span class="linenos">350</span></a><span class="sd">        Returns:</span>
</span><span id="SequentialFile-351"><a href="#SequentialFile-351"><span class="linenos">351</span></a><span class="sd">            str: the line of data read.</span>
</span><span id="SequentialFile-352"><a href="#SequentialFile-352"><span class="linenos">352</span></a>
</span><span id="SequentialFile-353"><a href="#SequentialFile-353"><span class="linenos">353</span></a><span class="sd">        Raises:</span>
</span><span id="SequentialFile-354"><a href="#SequentialFile-354"><span class="linenos">354</span></a><span class="sd">            UOError</span>
</span><span id="SequentialFile-355"><a href="#SequentialFile-355"><span class="linenos">355</span></a>
</span><span id="SequentialFile-356"><a href="#SequentialFile-356"><span class="linenos">356</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile-357"><a href="#SequentialFile-357"><span class="linenos">357</span></a>
</span><span id="SequentialFile-358"><a href="#SequentialFile-358"><span class="linenos">358</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">)</span>
</span><span id="SequentialFile-359"><a href="#SequentialFile-359"><span class="linenos">359</span></a>
</span><span id="SequentialFile-360"><a href="#SequentialFile-360"><span class="linenos">360</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="SequentialFile-361"><a href="#SequentialFile-361"><span class="linenos">361</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile-362"><a href="#SequentialFile-362"><span class="linenos">362</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile-363"><a href="#SequentialFile-363"><span class="linenos">363</span></a>
</span><span id="SequentialFile-364"><a href="#SequentialFile-364"><span class="linenos">364</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_READSEQ</span><span class="p">)</span>
</span><span id="SequentialFile-365"><a href="#SequentialFile-365"><span class="linenos">365</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span><span class="p">)</span>
</span><span id="SequentialFile-366"><a href="#SequentialFile-366"><span class="linenos">366</span></a>
</span><span id="SequentialFile-367"><a href="#SequentialFile-367"><span class="linenos">367</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="SequentialFile-368"><a href="#SequentialFile-368"><span class="linenos">368</span></a>
</span><span id="SequentialFile-369"><a href="#SequentialFile-369"><span class="linenos">369</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile-370"><a href="#SequentialFile-370"><span class="linenos">370</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="SequentialFile-371"><a href="#SequentialFile-371"><span class="linenos">371</span></a>                <span class="n">line_</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="SequentialFile-372"><a href="#SequentialFile-372"><span class="linenos">372</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="SequentialFile-373"><a href="#SequentialFile-373"><span class="linenos">373</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="SequentialFile-374"><a href="#SequentialFile-374"><span class="linenos">374</span></a>
</span><span id="SequentialFile-375"><a href="#SequentialFile-375"><span class="linenos">375</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">line_</span><span class="p">)</span>
</span><span id="SequentialFile-376"><a href="#SequentialFile-376"><span class="linenos">376</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">line_</span><span class="p">)</span>
</span><span id="SequentialFile-377"><a href="#SequentialFile-377"><span class="linenos">377</span></a>
</span><span id="SequentialFile-378"><a href="#SequentialFile-378"><span class="linenos">378</span></a>    <span class="k">def</span> <span class="nf">read_block</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SequentialFile-379"><a href="#SequentialFile-379"><span class="linenos">379</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Reads a block of data from the sequential file.</span>
</span><span id="SequentialFile-380"><a href="#SequentialFile-380"><span class="linenos">380</span></a>
</span><span id="SequentialFile-381"><a href="#SequentialFile-381"><span class="linenos">381</span></a><span class="sd">        Upon completion, the status property will return one of the following values:</span>
</span><span id="SequentialFile-382"><a href="#SequentialFile-382"><span class="linenos">382</span></a><span class="sd">        -1    The file is not open for reading.</span>
</span><span id="SequentialFile-383"><a href="#SequentialFile-383"><span class="linenos">383</span></a><span class="sd">        0     The read was successful.</span>
</span><span id="SequentialFile-384"><a href="#SequentialFile-384"><span class="linenos">384</span></a><span class="sd">        1     The end of file was reached.</span>
</span><span id="SequentialFile-385"><a href="#SequentialFile-385"><span class="linenos">385</span></a>
</span><span id="SequentialFile-386"><a href="#SequentialFile-386"><span class="linenos">386</span></a><span class="sd">        Args:</span>
</span><span id="SequentialFile-387"><a href="#SequentialFile-387"><span class="linenos">387</span></a>
</span><span id="SequentialFile-388"><a href="#SequentialFile-388"><span class="linenos">388</span></a><span class="sd">        Returns:</span>
</span><span id="SequentialFile-389"><a href="#SequentialFile-389"><span class="linenos">389</span></a><span class="sd">            bytes: the data block read.</span>
</span><span id="SequentialFile-390"><a href="#SequentialFile-390"><span class="linenos">390</span></a>
</span><span id="SequentialFile-391"><a href="#SequentialFile-391"><span class="linenos">391</span></a><span class="sd">        Raises:</span>
</span><span id="SequentialFile-392"><a href="#SequentialFile-392"><span class="linenos">392</span></a><span class="sd">            UOError</span>
</span><span id="SequentialFile-393"><a href="#SequentialFile-393"><span class="linenos">393</span></a>
</span><span id="SequentialFile-394"><a href="#SequentialFile-394"><span class="linenos">394</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile-395"><a href="#SequentialFile-395"><span class="linenos">395</span></a>
</span><span id="SequentialFile-396"><a href="#SequentialFile-396"><span class="linenos">396</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">)</span>
</span><span id="SequentialFile-397"><a href="#SequentialFile-397"><span class="linenos">397</span></a>
</span><span id="SequentialFile-398"><a href="#SequentialFile-398"><span class="linenos">398</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="SequentialFile-399"><a href="#SequentialFile-399"><span class="linenos">399</span></a>            <span class="n">bytes_buf</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span>
</span><span id="SequentialFile-400"><a href="#SequentialFile-400"><span class="linenos">400</span></a>
</span><span id="SequentialFile-401"><a href="#SequentialFile-401"><span class="linenos">401</span></a>            <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile-402"><a href="#SequentialFile-402"><span class="linenos">402</span></a>                <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile-403"><a href="#SequentialFile-403"><span class="linenos">403</span></a>                <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile-404"><a href="#SequentialFile-404"><span class="linenos">404</span></a>
</span><span id="SequentialFile-405"><a href="#SequentialFile-405"><span class="linenos">405</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_READBLK</span><span class="p">)</span>
</span><span id="SequentialFile-406"><a href="#SequentialFile-406"><span class="linenos">406</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span><span class="p">)</span>
</span><span id="SequentialFile-407"><a href="#SequentialFile-407"><span class="linenos">407</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_block_size</span><span class="p">)</span>
</span><span id="SequentialFile-408"><a href="#SequentialFile-408"><span class="linenos">408</span></a>
</span><span id="SequentialFile-409"><a href="#SequentialFile-409"><span class="linenos">409</span></a>                <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="SequentialFile-410"><a href="#SequentialFile-410"><span class="linenos">410</span></a>
</span><span id="SequentialFile-411"><a href="#SequentialFile-411"><span class="linenos">411</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="SequentialFile-412"><a href="#SequentialFile-412"><span class="linenos">412</span></a>
</span><span id="SequentialFile-413"><a href="#SequentialFile-413"><span class="linenos">413</span></a>                <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile-414"><a href="#SequentialFile-414"><span class="linenos">414</span></a>                    <span class="n">bytes_buf</span> <span class="o">+=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="SequentialFile-415"><a href="#SequentialFile-415"><span class="linenos">415</span></a>
</span><span id="SequentialFile-416"><a href="#SequentialFile-416"><span class="linenos">416</span></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_read_all</span><span class="p">:</span>
</span><span id="SequentialFile-417"><a href="#SequentialFile-417"><span class="linenos">417</span></a>                        <span class="k">break</span>
</span><span id="SequentialFile-418"><a href="#SequentialFile-418"><span class="linenos">418</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="SequentialFile-419"><a href="#SequentialFile-419"><span class="linenos">419</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="SequentialFile-420"><a href="#SequentialFile-420"><span class="linenos">420</span></a>
</span><span id="SequentialFile-421"><a href="#SequentialFile-421"><span class="linenos">421</span></a>            <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">bytes_buf</span><span class="p">)</span>
</span><span id="SequentialFile-422"><a href="#SequentialFile-422"><span class="linenos">422</span></a>            <span class="k">return</span> <span class="n">bytes_buf</span>
</span></pre></div>


            <div class="docstring"><p>SequentialFile is used to define and manage MV Sequential Files (which are OS files).</p>

<p>SequentialFile can be used in the Python with statement so that whatever occurs in the with statement block,
they are guaranteed to be closed upon exit.</p>

<p>Examples:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>with SequentialFile("BP", "TEST_SEQ", True) as seq_file:
        seq_file.write_line("This is test line 1")
        seq_file.write_line("This is test line 2")
        seq_file.seek(0) # go to the beginning of the file
        seq_file.write_line("This is test line 0") # overwrite the first line
        seq_file.seek(0)
        seq_file.read_line()
            This is test line 0
        seq_file.read_line()
            This is test line 2</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            <div id="SequentialFile.__init__" class="classattr">
                                        <input id="SequentialFile.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">SequentialFile</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">file_name</span>, </span><span class="param"><span class="n">record_id</span>, </span><span class="param"><span class="n">create_flag</span><span class="o">=</span><span class="kc">False</span>, </span><span class="param"><span class="n">session</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="SequentialFile.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SequentialFile.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SequentialFile.__init__-40"><a href="#SequentialFile.__init__-40"><span class="linenos">40</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">create_flag</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="SequentialFile.__init__-41"><a href="#SequentialFile.__init__-41"><span class="linenos">41</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes a SequentialFile object.</span>
</span><span id="SequentialFile.__init__-42"><a href="#SequentialFile.__init__-42"><span class="linenos">42</span></a>
</span><span id="SequentialFile.__init__-43"><a href="#SequentialFile.__init__-43"><span class="linenos">43</span></a><span class="sd">        Args:</span>
</span><span id="SequentialFile.__init__-44"><a href="#SequentialFile.__init__-44"><span class="linenos">44</span></a><span class="sd">            file_name (str): the directory file name.</span>
</span><span id="SequentialFile.__init__-45"><a href="#SequentialFile.__init__-45"><span class="linenos">45</span></a><span class="sd">            record_id (str): the sequential file name.</span>
</span><span id="SequentialFile.__init__-46"><a href="#SequentialFile.__init__-46"><span class="linenos">46</span></a><span class="sd">            create_flag (boolean, optional): when False (default), do not create the file if nonexistent;</span>
</span><span id="SequentialFile.__init__-47"><a href="#SequentialFile.__init__-47"><span class="linenos">47</span></a><span class="sd">                otherwise, create the file if nonexistent.</span>
</span><span id="SequentialFile.__init__-48"><a href="#SequentialFile.__init__-48"><span class="linenos">48</span></a><span class="sd">            session (Session, optional): the Session object that the SequentialFile object is bound to.</span>
</span><span id="SequentialFile.__init__-49"><a href="#SequentialFile.__init__-49"><span class="linenos">49</span></a><span class="sd">                If omitted, the last opened Session in the current thread will be used.</span>
</span><span id="SequentialFile.__init__-50"><a href="#SequentialFile.__init__-50"><span class="linenos">50</span></a>
</span><span id="SequentialFile.__init__-51"><a href="#SequentialFile.__init__-51"><span class="linenos">51</span></a><span class="sd">        Returns:</span>
</span><span id="SequentialFile.__init__-52"><a href="#SequentialFile.__init__-52"><span class="linenos">52</span></a><span class="sd">            None</span>
</span><span id="SequentialFile.__init__-53"><a href="#SequentialFile.__init__-53"><span class="linenos">53</span></a>
</span><span id="SequentialFile.__init__-54"><a href="#SequentialFile.__init__-54"><span class="linenos">54</span></a><span class="sd">        Raises:</span>
</span><span id="SequentialFile.__init__-55"><a href="#SequentialFile.__init__-55"><span class="linenos">55</span></a><span class="sd">            UOError</span>
</span><span id="SequentialFile.__init__-56"><a href="#SequentialFile.__init__-56"><span class="linenos">56</span></a>
</span><span id="SequentialFile.__init__-57"><a href="#SequentialFile.__init__-57"><span class="linenos">57</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile.__init__-58"><a href="#SequentialFile.__init__-58"><span class="linenos">58</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</span><span id="SequentialFile.__init__-59"><a href="#SequentialFile.__init__-59"><span class="linenos">59</span></a>
</span><span id="SequentialFile.__init__-60"><a href="#SequentialFile.__init__-60"><span class="linenos">60</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
</span><span id="SequentialFile.__init__-61"><a href="#SequentialFile.__init__-61"><span class="linenos">61</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_seq_record_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">record_id</span><span class="p">)</span>
</span><span id="SequentialFile.__init__-62"><a href="#SequentialFile.__init__-62"><span class="linenos">62</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="SequentialFile.__init__-63"><a href="#SequentialFile.__init__-63"><span class="linenos">63</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_seq_timeout</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="SequentialFile.__init__-64"><a href="#SequentialFile.__init__-64"><span class="linenos">64</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="SequentialFile.__init__-65"><a href="#SequentialFile.__init__-65"><span class="linenos">65</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="SequentialFile.__init__-66"><a href="#SequentialFile.__init__-66"><span class="linenos">66</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_block_size</span> <span class="o">=</span> <span class="n">_DEFAULT_BLOCK_SIZE</span>
</span><span id="SequentialFile.__init__-67"><a href="#SequentialFile.__init__-67"><span class="linenos">67</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_read_all</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="SequentialFile.__init__-68"><a href="#SequentialFile.__init__-68"><span class="linenos">68</span></a>
</span><span id="SequentialFile.__init__-69"><a href="#SequentialFile.__init__-69"><span class="linenos">69</span></a>        <span class="k">if</span> <span class="n">create_flag</span><span class="p">:</span>
</span><span id="SequentialFile.__init__-70"><a href="#SequentialFile.__init__-70"><span class="linenos">70</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_seq_create_flag</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="SequentialFile.__init__-71"><a href="#SequentialFile.__init__-71"><span class="linenos">71</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SequentialFile.__init__-72"><a href="#SequentialFile.__init__-72"><span class="linenos">72</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_seq_create_flag</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="SequentialFile.__init__-73"><a href="#SequentialFile.__init__-73"><span class="linenos">73</span></a>
</span><span id="SequentialFile.__init__-74"><a href="#SequentialFile.__init__-74"><span class="linenos">74</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Initializes a SequentialFile object.</p>

<p>Args:
    file_name (str): the directory file name.
    record_id (str): the sequential file name.
    create_flag (boolean, optional): when False (default), do not create the file if nonexistent;
        otherwise, create the file if nonexistent.
    session (Session, optional): the Session object that the SequentialFile object is bound to.
        If omitted, the last opened Session in the current thread will be used.</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="SequentialFile.status" class="classattr">
                                <div class="attr variable">
            <span class="name">status</span>

        
    </div>
    <a class="headerlink" href="#SequentialFile.status"></a>
    
            <div class="docstring"><p>int: The status code set by the remote server after a sequential file operation.</p>
</div>


                            </div>
                            <div id="SequentialFile.block_size" class="classattr">
                                <div class="attr variable">
            <span class="name">block_size</span>

        
    </div>
    <a class="headerlink" href="#SequentialFile.block_size"></a>
    
            <div class="docstring"><p>int: The block size for read_block(). The default value is 8192.</p>

<p>If left unset, read_block() will read the whole file back.
If set explicitly, it will be the maximum size of the data read_block() returns.</p>
</div>


                            </div>
                            <div id="SequentialFile.timeout" class="classattr">
                                <div class="attr variable">
            <span class="name">timeout</span>

        
    </div>
    <a class="headerlink" href="#SequentialFile.timeout"></a>
    
            <div class="docstring"><p>int: the timeout for sequential file operations.</p>
</div>


                            </div>
                            <div id="SequentialFile.open" class="classattr">
                                        <input id="SequentialFile.open-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">open</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SequentialFile.open-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SequentialFile.open"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SequentialFile.open-143"><a href="#SequentialFile.open-143"><span class="linenos">143</span></a>    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SequentialFile.open-144"><a href="#SequentialFile.open-144"><span class="linenos">144</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Open the server-side file, creating it if the create_flag is True and the file doesn&#39;t exist.</span>
</span><span id="SequentialFile.open-145"><a href="#SequentialFile.open-145"><span class="linenos">145</span></a>
</span><span id="SequentialFile.open-146"><a href="#SequentialFile.open-146"><span class="linenos">146</span></a><span class="sd">        Args:</span>
</span><span id="SequentialFile.open-147"><a href="#SequentialFile.open-147"><span class="linenos">147</span></a>
</span><span id="SequentialFile.open-148"><a href="#SequentialFile.open-148"><span class="linenos">148</span></a><span class="sd">        Returns:</span>
</span><span id="SequentialFile.open-149"><a href="#SequentialFile.open-149"><span class="linenos">149</span></a>
</span><span id="SequentialFile.open-150"><a href="#SequentialFile.open-150"><span class="linenos">150</span></a><span class="sd">        Raises:</span>
</span><span id="SequentialFile.open-151"><a href="#SequentialFile.open-151"><span class="linenos">151</span></a><span class="sd">            UOError</span>
</span><span id="SequentialFile.open-152"><a href="#SequentialFile.open-152"><span class="linenos">152</span></a>
</span><span id="SequentialFile.open-153"><a href="#SequentialFile.open-153"><span class="linenos">153</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile.open-154"><a href="#SequentialFile.open-154"><span class="linenos">154</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_record_id</span><span class="p">)</span>
</span><span id="SequentialFile.open-155"><a href="#SequentialFile.open-155"><span class="linenos">155</span></a>
</span><span id="SequentialFile.open-156"><a href="#SequentialFile.open-156"><span class="linenos">156</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span><span class="p">:</span>
</span><span id="SequentialFile.open-157"><a href="#SequentialFile.open-157"><span class="linenos">157</span></a>            <span class="k">return</span>
</span><span id="SequentialFile.open-158"><a href="#SequentialFile.open-158"><span class="linenos">158</span></a>
</span><span id="SequentialFile.open-159"><a href="#SequentialFile.open-159"><span class="linenos">159</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="SequentialFile.open-160"><a href="#SequentialFile.open-160"><span class="linenos">160</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile.open-161"><a href="#SequentialFile.open-161"><span class="linenos">161</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile.open-162"><a href="#SequentialFile.open-162"><span class="linenos">162</span></a>
</span><span id="SequentialFile.open-163"><a href="#SequentialFile.open-163"><span class="linenos">163</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_OPENSEQ</span><span class="p">)</span>
</span><span id="SequentialFile.open-164"><a href="#SequentialFile.open-164"><span class="linenos">164</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_name</span><span class="p">))</span>
</span><span id="SequentialFile.open-165"><a href="#SequentialFile.open-165"><span class="linenos">165</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_seq_record_id</span><span class="p">))</span>
</span><span id="SequentialFile.open-166"><a href="#SequentialFile.open-166"><span class="linenos">166</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_create_flag</span><span class="p">)</span>
</span><span id="SequentialFile.open-167"><a href="#SequentialFile.open-167"><span class="linenos">167</span></a>
</span><span id="SequentialFile.open-168"><a href="#SequentialFile.open-168"><span class="linenos">168</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="SequentialFile.open-169"><a href="#SequentialFile.open-169"><span class="linenos">169</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile.open-170"><a href="#SequentialFile.open-170"><span class="linenos">170</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_name</span><span class="p">)</span>
</span><span id="SequentialFile.open-171"><a href="#SequentialFile.open-171"><span class="linenos">171</span></a>
</span><span id="SequentialFile.open-172"><a href="#SequentialFile.open-172"><span class="linenos">172</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="SequentialFile.open-173"><a href="#SequentialFile.open-173"><span class="linenos">173</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="SequentialFile.open-174"><a href="#SequentialFile.open-174"><span class="linenos">174</span></a>
</span><span id="SequentialFile.open-175"><a href="#SequentialFile.open-175"><span class="linenos">175</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Open the server-side file, creating it if the create_flag is True and the file doesn't exist.</p>

<p>Args:</p>

<p>Returns:</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="SequentialFile.close" class="classattr">
                                        <input id="SequentialFile.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SequentialFile.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SequentialFile.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SequentialFile.close-177"><a href="#SequentialFile.close-177"><span class="linenos">177</span></a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SequentialFile.close-178"><a href="#SequentialFile.close-178"><span class="linenos">178</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close an opened sequential file.</span>
</span><span id="SequentialFile.close-179"><a href="#SequentialFile.close-179"><span class="linenos">179</span></a>
</span><span id="SequentialFile.close-180"><a href="#SequentialFile.close-180"><span class="linenos">180</span></a><span class="sd">        Args:</span>
</span><span id="SequentialFile.close-181"><a href="#SequentialFile.close-181"><span class="linenos">181</span></a>
</span><span id="SequentialFile.close-182"><a href="#SequentialFile.close-182"><span class="linenos">182</span></a><span class="sd">        Returns:</span>
</span><span id="SequentialFile.close-183"><a href="#SequentialFile.close-183"><span class="linenos">183</span></a><span class="sd">            None</span>
</span><span id="SequentialFile.close-184"><a href="#SequentialFile.close-184"><span class="linenos">184</span></a>
</span><span id="SequentialFile.close-185"><a href="#SequentialFile.close-185"><span class="linenos">185</span></a><span class="sd">        Raises:</span>
</span><span id="SequentialFile.close-186"><a href="#SequentialFile.close-186"><span class="linenos">186</span></a><span class="sd">            UOError</span>
</span><span id="SequentialFile.close-187"><a href="#SequentialFile.close-187"><span class="linenos">187</span></a>
</span><span id="SequentialFile.close-188"><a href="#SequentialFile.close-188"><span class="linenos">188</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile.close-189"><a href="#SequentialFile.close-189"><span class="linenos">189</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_record_id</span><span class="p">)</span>
</span><span id="SequentialFile.close-190"><a href="#SequentialFile.close-190"><span class="linenos">190</span></a>
</span><span id="SequentialFile.close-191"><a href="#SequentialFile.close-191"><span class="linenos">191</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_opened</span><span class="p">:</span>
</span><span id="SequentialFile.close-192"><a href="#SequentialFile.close-192"><span class="linenos">192</span></a>            <span class="k">return</span>
</span><span id="SequentialFile.close-193"><a href="#SequentialFile.close-193"><span class="linenos">193</span></a>
</span><span id="SequentialFile.close-194"><a href="#SequentialFile.close-194"><span class="linenos">194</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="SequentialFile.close-195"><a href="#SequentialFile.close-195"><span class="linenos">195</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile.close-196"><a href="#SequentialFile.close-196"><span class="linenos">196</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile.close-197"><a href="#SequentialFile.close-197"><span class="linenos">197</span></a>
</span><span id="SequentialFile.close-198"><a href="#SequentialFile.close-198"><span class="linenos">198</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_CLOSESEQ</span><span class="p">)</span>
</span><span id="SequentialFile.close-199"><a href="#SequentialFile.close-199"><span class="linenos">199</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span><span class="p">)</span>
</span><span id="SequentialFile.close-200"><a href="#SequentialFile.close-200"><span class="linenos">200</span></a>
</span><span id="SequentialFile.close-201"><a href="#SequentialFile.close-201"><span class="linenos">201</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="SequentialFile.close-202"><a href="#SequentialFile.close-202"><span class="linenos">202</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile.close-203"><a href="#SequentialFile.close-203"><span class="linenos">203</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="SequentialFile.close-204"><a href="#SequentialFile.close-204"><span class="linenos">204</span></a>
</span><span id="SequentialFile.close-205"><a href="#SequentialFile.close-205"><span class="linenos">205</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Close an opened sequential file.</p>

<p>Args:</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="SequentialFile.seek" class="classattr">
                                        <input id="SequentialFile.seek-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">seek</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">offset</span>, </span><span class="param"><span class="n">relative_pos</span><span class="o">=</span><span class="mi">0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SequentialFile.seek-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SequentialFile.seek"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SequentialFile.seek-207"><a href="#SequentialFile.seek-207"><span class="linenos">207</span></a>    <span class="k">def</span> <span class="nf">seek</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">relative_pos</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="SequentialFile.seek-208"><a href="#SequentialFile.seek-208"><span class="linenos">208</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Move the file pointer within the Sequential File by an offset position specified in bytes.</span>
</span><span id="SequentialFile.seek-209"><a href="#SequentialFile.seek-209"><span class="linenos">209</span></a>
</span><span id="SequentialFile.seek-210"><a href="#SequentialFile.seek-210"><span class="linenos">210</span></a><span class="sd">        Args:</span>
</span><span id="SequentialFile.seek-211"><a href="#SequentialFile.seek-211"><span class="linenos">211</span></a><span class="sd">            offset (int): specifies the number of bytes before or after relative_pos.</span>
</span><span id="SequentialFile.seek-212"><a href="#SequentialFile.seek-212"><span class="linenos">212</span></a><span class="sd">                    A negative value moves the pointer to a position before aRelPos.</span>
</span><span id="SequentialFile.seek-213"><a href="#SequentialFile.seek-213"><span class="linenos">213</span></a><span class="sd">            relative_pos (int): specifies the relative position within a file from which to seek. Default value is 0.</span>
</span><span id="SequentialFile.seek-214"><a href="#SequentialFile.seek-214"><span class="linenos">214</span></a><span class="sd">                    0 (default) start from the beginning of the file.</span>
</span><span id="SequentialFile.seek-215"><a href="#SequentialFile.seek-215"><span class="linenos">215</span></a><span class="sd">                    1 start from the current position.</span>
</span><span id="SequentialFile.seek-216"><a href="#SequentialFile.seek-216"><span class="linenos">216</span></a><span class="sd">                    2 start from the end of the file.</span>
</span><span id="SequentialFile.seek-217"><a href="#SequentialFile.seek-217"><span class="linenos">217</span></a>
</span><span id="SequentialFile.seek-218"><a href="#SequentialFile.seek-218"><span class="linenos">218</span></a><span class="sd">        Returns:</span>
</span><span id="SequentialFile.seek-219"><a href="#SequentialFile.seek-219"><span class="linenos">219</span></a><span class="sd">            None</span>
</span><span id="SequentialFile.seek-220"><a href="#SequentialFile.seek-220"><span class="linenos">220</span></a>
</span><span id="SequentialFile.seek-221"><a href="#SequentialFile.seek-221"><span class="linenos">221</span></a><span class="sd">        Raises:</span>
</span><span id="SequentialFile.seek-222"><a href="#SequentialFile.seek-222"><span class="linenos">222</span></a><span class="sd">            UOError</span>
</span><span id="SequentialFile.seek-223"><a href="#SequentialFile.seek-223"><span class="linenos">223</span></a>
</span><span id="SequentialFile.seek-224"><a href="#SequentialFile.seek-224"><span class="linenos">224</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile.seek-225"><a href="#SequentialFile.seek-225"><span class="linenos">225</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">relative_pos</span><span class="p">)</span>
</span><span id="SequentialFile.seek-226"><a href="#SequentialFile.seek-226"><span class="linenos">226</span></a>
</span><span id="SequentialFile.seek-227"><a href="#SequentialFile.seek-227"><span class="linenos">227</span></a>        <span class="k">if</span> <span class="n">relative_pos</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="n">_SEQ_FILE_START</span><span class="p">,</span> <span class="n">_SEQ_FILE_CURR</span><span class="p">,</span> <span class="n">_SEQ_FILE_END</span><span class="p">}:</span>
</span><span id="SequentialFile.seek-228"><a href="#SequentialFile.seek-228"><span class="linenos">228</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_EINVAL</span><span class="p">)</span>
</span><span id="SequentialFile.seek-229"><a href="#SequentialFile.seek-229"><span class="linenos">229</span></a>
</span><span id="SequentialFile.seek-230"><a href="#SequentialFile.seek-230"><span class="linenos">230</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="SequentialFile.seek-231"><a href="#SequentialFile.seek-231"><span class="linenos">231</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile.seek-232"><a href="#SequentialFile.seek-232"><span class="linenos">232</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile.seek-233"><a href="#SequentialFile.seek-233"><span class="linenos">233</span></a>
</span><span id="SequentialFile.seek-234"><a href="#SequentialFile.seek-234"><span class="linenos">234</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_SEEK</span><span class="p">)</span>
</span><span id="SequentialFile.seek-235"><a href="#SequentialFile.seek-235"><span class="linenos">235</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span><span class="p">)</span>
</span><span id="SequentialFile.seek-236"><a href="#SequentialFile.seek-236"><span class="linenos">236</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
</span><span id="SequentialFile.seek-237"><a href="#SequentialFile.seek-237"><span class="linenos">237</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">relative_pos</span><span class="p">)</span>
</span><span id="SequentialFile.seek-238"><a href="#SequentialFile.seek-238"><span class="linenos">238</span></a>
</span><span id="SequentialFile.seek-239"><a href="#SequentialFile.seek-239"><span class="linenos">239</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="SequentialFile.seek-240"><a href="#SequentialFile.seek-240"><span class="linenos">240</span></a>
</span><span id="SequentialFile.seek-241"><a href="#SequentialFile.seek-241"><span class="linenos">241</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile.seek-242"><a href="#SequentialFile.seek-242"><span class="linenos">242</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="SequentialFile.seek-243"><a href="#SequentialFile.seek-243"><span class="linenos">243</span></a>
</span><span id="SequentialFile.seek-244"><a href="#SequentialFile.seek-244"><span class="linenos">244</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Move the file pointer within the Sequential File by an offset position specified in bytes.</p>

<p>Args:
    offset (int): specifies the number of bytes before or after relative_pos.
            A negative value moves the pointer to a position before aRelPos.
    relative_pos (int): specifies the relative position within a file from which to seek. Default value is 0.
            0 (default) start from the beginning of the file.
            1 start from the current position.
            2 start from the end of the file.</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="SequentialFile.write_eof" class="classattr">
                                        <input id="SequentialFile.write_eof-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">write_eof</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SequentialFile.write_eof-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SequentialFile.write_eof"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SequentialFile.write_eof-246"><a href="#SequentialFile.write_eof-246"><span class="linenos">246</span></a>    <span class="k">def</span> <span class="nf">write_eof</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SequentialFile.write_eof-247"><a href="#SequentialFile.write_eof-247"><span class="linenos">247</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Write an EOF marker to the sequential file.</span>
</span><span id="SequentialFile.write_eof-248"><a href="#SequentialFile.write_eof-248"><span class="linenos">248</span></a>
</span><span id="SequentialFile.write_eof-249"><a href="#SequentialFile.write_eof-249"><span class="linenos">249</span></a><span class="sd">        Args:</span>
</span><span id="SequentialFile.write_eof-250"><a href="#SequentialFile.write_eof-250"><span class="linenos">250</span></a>
</span><span id="SequentialFile.write_eof-251"><a href="#SequentialFile.write_eof-251"><span class="linenos">251</span></a><span class="sd">        Returns:</span>
</span><span id="SequentialFile.write_eof-252"><a href="#SequentialFile.write_eof-252"><span class="linenos">252</span></a><span class="sd">            None</span>
</span><span id="SequentialFile.write_eof-253"><a href="#SequentialFile.write_eof-253"><span class="linenos">253</span></a>
</span><span id="SequentialFile.write_eof-254"><a href="#SequentialFile.write_eof-254"><span class="linenos">254</span></a><span class="sd">        Raises:</span>
</span><span id="SequentialFile.write_eof-255"><a href="#SequentialFile.write_eof-255"><span class="linenos">255</span></a><span class="sd">            UOError</span>
</span><span id="SequentialFile.write_eof-256"><a href="#SequentialFile.write_eof-256"><span class="linenos">256</span></a>
</span><span id="SequentialFile.write_eof-257"><a href="#SequentialFile.write_eof-257"><span class="linenos">257</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile.write_eof-258"><a href="#SequentialFile.write_eof-258"><span class="linenos">258</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">)</span>
</span><span id="SequentialFile.write_eof-259"><a href="#SequentialFile.write_eof-259"><span class="linenos">259</span></a>
</span><span id="SequentialFile.write_eof-260"><a href="#SequentialFile.write_eof-260"><span class="linenos">260</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="SequentialFile.write_eof-261"><a href="#SequentialFile.write_eof-261"><span class="linenos">261</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile.write_eof-262"><a href="#SequentialFile.write_eof-262"><span class="linenos">262</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile.write_eof-263"><a href="#SequentialFile.write_eof-263"><span class="linenos">263</span></a>
</span><span id="SequentialFile.write_eof-264"><a href="#SequentialFile.write_eof-264"><span class="linenos">264</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_WEOFSEQ</span><span class="p">)</span>
</span><span id="SequentialFile.write_eof-265"><a href="#SequentialFile.write_eof-265"><span class="linenos">265</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span><span class="p">)</span>
</span><span id="SequentialFile.write_eof-266"><a href="#SequentialFile.write_eof-266"><span class="linenos">266</span></a>
</span><span id="SequentialFile.write_eof-267"><a href="#SequentialFile.write_eof-267"><span class="linenos">267</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="SequentialFile.write_eof-268"><a href="#SequentialFile.write_eof-268"><span class="linenos">268</span></a>
</span><span id="SequentialFile.write_eof-269"><a href="#SequentialFile.write_eof-269"><span class="linenos">269</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile.write_eof-270"><a href="#SequentialFile.write_eof-270"><span class="linenos">270</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="SequentialFile.write_eof-271"><a href="#SequentialFile.write_eof-271"><span class="linenos">271</span></a>
</span><span id="SequentialFile.write_eof-272"><a href="#SequentialFile.write_eof-272"><span class="linenos">272</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Write an EOF marker to the sequential file.</p>

<p>Args:</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="SequentialFile.write_block" class="classattr">
                                        <input id="SequentialFile.write_block-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">write_block</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">blk_data</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SequentialFile.write_block-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SequentialFile.write_block"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SequentialFile.write_block-274"><a href="#SequentialFile.write_block-274"><span class="linenos">274</span></a>    <span class="k">def</span> <span class="nf">write_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blk_data</span><span class="p">):</span>
</span><span id="SequentialFile.write_block-275"><a href="#SequentialFile.write_block-275"><span class="linenos">275</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Write the given block to the sequential file at the location currently set.</span>
</span><span id="SequentialFile.write_block-276"><a href="#SequentialFile.write_block-276"><span class="linenos">276</span></a>
</span><span id="SequentialFile.write_block-277"><a href="#SequentialFile.write_block-277"><span class="linenos">277</span></a><span class="sd">        Args:</span>
</span><span id="SequentialFile.write_block-278"><a href="#SequentialFile.write_block-278"><span class="linenos">278</span></a><span class="sd">            blk_data (any): The data to write - can be str, bytes or DynArray.</span>
</span><span id="SequentialFile.write_block-279"><a href="#SequentialFile.write_block-279"><span class="linenos">279</span></a>
</span><span id="SequentialFile.write_block-280"><a href="#SequentialFile.write_block-280"><span class="linenos">280</span></a><span class="sd">        Returns:</span>
</span><span id="SequentialFile.write_block-281"><a href="#SequentialFile.write_block-281"><span class="linenos">281</span></a><span class="sd">            None</span>
</span><span id="SequentialFile.write_block-282"><a href="#SequentialFile.write_block-282"><span class="linenos">282</span></a>
</span><span id="SequentialFile.write_block-283"><a href="#SequentialFile.write_block-283"><span class="linenos">283</span></a><span class="sd">        Raises:</span>
</span><span id="SequentialFile.write_block-284"><a href="#SequentialFile.write_block-284"><span class="linenos">284</span></a><span class="sd">            UOError</span>
</span><span id="SequentialFile.write_block-285"><a href="#SequentialFile.write_block-285"><span class="linenos">285</span></a>
</span><span id="SequentialFile.write_block-286"><a href="#SequentialFile.write_block-286"><span class="linenos">286</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile.write_block-287"><a href="#SequentialFile.write_block-287"><span class="linenos">287</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">blk_data</span><span class="p">)</span>
</span><span id="SequentialFile.write_block-288"><a href="#SequentialFile.write_block-288"><span class="linenos">288</span></a>
</span><span id="SequentialFile.write_block-289"><a href="#SequentialFile.write_block-289"><span class="linenos">289</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="SequentialFile.write_block-290"><a href="#SequentialFile.write_block-290"><span class="linenos">290</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile.write_block-291"><a href="#SequentialFile.write_block-291"><span class="linenos">291</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile.write_block-292"><a href="#SequentialFile.write_block-292"><span class="linenos">292</span></a>
</span><span id="SequentialFile.write_block-293"><a href="#SequentialFile.write_block-293"><span class="linenos">293</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_WRITEBLK</span><span class="p">)</span>
</span><span id="SequentialFile.write_block-294"><a href="#SequentialFile.write_block-294"><span class="linenos">294</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span><span class="p">)</span>
</span><span id="SequentialFile.write_block-295"><a href="#SequentialFile.write_block-295"><span class="linenos">295</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">blk_data</span><span class="p">))</span>
</span><span id="SequentialFile.write_block-296"><a href="#SequentialFile.write_block-296"><span class="linenos">296</span></a>
</span><span id="SequentialFile.write_block-297"><a href="#SequentialFile.write_block-297"><span class="linenos">297</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="SequentialFile.write_block-298"><a href="#SequentialFile.write_block-298"><span class="linenos">298</span></a>
</span><span id="SequentialFile.write_block-299"><a href="#SequentialFile.write_block-299"><span class="linenos">299</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile.write_block-300"><a href="#SequentialFile.write_block-300"><span class="linenos">300</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="SequentialFile.write_block-301"><a href="#SequentialFile.write_block-301"><span class="linenos">301</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="SequentialFile.write_block-302"><a href="#SequentialFile.write_block-302"><span class="linenos">302</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="SequentialFile.write_block-303"><a href="#SequentialFile.write_block-303"><span class="linenos">303</span></a>
</span><span id="SequentialFile.write_block-304"><a href="#SequentialFile.write_block-304"><span class="linenos">304</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Write the given block to the sequential file at the location currently set.</p>

<p>Args:
    blk_data (any): The data to write - can be str, bytes or DynArray.</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="SequentialFile.write_line" class="classattr">
                                        <input id="SequentialFile.write_line-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">write_line</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">line_data</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SequentialFile.write_line-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SequentialFile.write_line"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SequentialFile.write_line-306"><a href="#SequentialFile.write_line-306"><span class="linenos">306</span></a>    <span class="k">def</span> <span class="nf">write_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line_data</span><span class="p">):</span>
</span><span id="SequentialFile.write_line-307"><a href="#SequentialFile.write_line-307"><span class="linenos">307</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Write the given line to the sequential file at the location currently set.</span>
</span><span id="SequentialFile.write_line-308"><a href="#SequentialFile.write_line-308"><span class="linenos">308</span></a>
</span><span id="SequentialFile.write_line-309"><a href="#SequentialFile.write_line-309"><span class="linenos">309</span></a><span class="sd">        Args:</span>
</span><span id="SequentialFile.write_line-310"><a href="#SequentialFile.write_line-310"><span class="linenos">310</span></a><span class="sd">            line_data (any): The data to write - can be str, bytes or DynArray.</span>
</span><span id="SequentialFile.write_line-311"><a href="#SequentialFile.write_line-311"><span class="linenos">311</span></a>
</span><span id="SequentialFile.write_line-312"><a href="#SequentialFile.write_line-312"><span class="linenos">312</span></a><span class="sd">        Returns:</span>
</span><span id="SequentialFile.write_line-313"><a href="#SequentialFile.write_line-313"><span class="linenos">313</span></a><span class="sd">            None</span>
</span><span id="SequentialFile.write_line-314"><a href="#SequentialFile.write_line-314"><span class="linenos">314</span></a>
</span><span id="SequentialFile.write_line-315"><a href="#SequentialFile.write_line-315"><span class="linenos">315</span></a><span class="sd">        Raises:</span>
</span><span id="SequentialFile.write_line-316"><a href="#SequentialFile.write_line-316"><span class="linenos">316</span></a><span class="sd">            UOError</span>
</span><span id="SequentialFile.write_line-317"><a href="#SequentialFile.write_line-317"><span class="linenos">317</span></a>
</span><span id="SequentialFile.write_line-318"><a href="#SequentialFile.write_line-318"><span class="linenos">318</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile.write_line-319"><a href="#SequentialFile.write_line-319"><span class="linenos">319</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">line_data</span><span class="p">)</span>
</span><span id="SequentialFile.write_line-320"><a href="#SequentialFile.write_line-320"><span class="linenos">320</span></a>
</span><span id="SequentialFile.write_line-321"><a href="#SequentialFile.write_line-321"><span class="linenos">321</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="SequentialFile.write_line-322"><a href="#SequentialFile.write_line-322"><span class="linenos">322</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile.write_line-323"><a href="#SequentialFile.write_line-323"><span class="linenos">323</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile.write_line-324"><a href="#SequentialFile.write_line-324"><span class="linenos">324</span></a>
</span><span id="SequentialFile.write_line-325"><a href="#SequentialFile.write_line-325"><span class="linenos">325</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_WRITESEQ</span><span class="p">)</span>
</span><span id="SequentialFile.write_line-326"><a href="#SequentialFile.write_line-326"><span class="linenos">326</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span><span class="p">)</span>
</span><span id="SequentialFile.write_line-327"><a href="#SequentialFile.write_line-327"><span class="linenos">327</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">line_data</span><span class="p">))</span>
</span><span id="SequentialFile.write_line-328"><a href="#SequentialFile.write_line-328"><span class="linenos">328</span></a>
</span><span id="SequentialFile.write_line-329"><a href="#SequentialFile.write_line-329"><span class="linenos">329</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="SequentialFile.write_line-330"><a href="#SequentialFile.write_line-330"><span class="linenos">330</span></a>
</span><span id="SequentialFile.write_line-331"><a href="#SequentialFile.write_line-331"><span class="linenos">331</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile.write_line-332"><a href="#SequentialFile.write_line-332"><span class="linenos">332</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="SequentialFile.write_line-333"><a href="#SequentialFile.write_line-333"><span class="linenos">333</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="SequentialFile.write_line-334"><a href="#SequentialFile.write_line-334"><span class="linenos">334</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="SequentialFile.write_line-335"><a href="#SequentialFile.write_line-335"><span class="linenos">335</span></a>
</span><span id="SequentialFile.write_line-336"><a href="#SequentialFile.write_line-336"><span class="linenos">336</span></a>            <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Write the given line to the sequential file at the location currently set.</p>

<p>Args:
    line_data (any): The data to write - can be str, bytes or DynArray.</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="SequentialFile.read_line" class="classattr">
                                        <input id="SequentialFile.read_line-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">read_line</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SequentialFile.read_line-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SequentialFile.read_line"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SequentialFile.read_line-338"><a href="#SequentialFile.read_line-338"><span class="linenos">338</span></a>    <span class="k">def</span> <span class="nf">read_line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SequentialFile.read_line-339"><a href="#SequentialFile.read_line-339"><span class="linenos">339</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Reads a line of data from the sequential file.</span>
</span><span id="SequentialFile.read_line-340"><a href="#SequentialFile.read_line-340"><span class="linenos">340</span></a>
</span><span id="SequentialFile.read_line-341"><a href="#SequentialFile.read_line-341"><span class="linenos">341</span></a><span class="sd">        The lines must be delimited with a newline character.</span>
</span><span id="SequentialFile.read_line-342"><a href="#SequentialFile.read_line-342"><span class="linenos">342</span></a>
</span><span id="SequentialFile.read_line-343"><a href="#SequentialFile.read_line-343"><span class="linenos">343</span></a><span class="sd">        status property will return one of the following values:</span>
</span><span id="SequentialFile.read_line-344"><a href="#SequentialFile.read_line-344"><span class="linenos">344</span></a><span class="sd">        -1    The file is not open for reading.</span>
</span><span id="SequentialFile.read_line-345"><a href="#SequentialFile.read_line-345"><span class="linenos">345</span></a><span class="sd">        0        The read was successful.</span>
</span><span id="SequentialFile.read_line-346"><a href="#SequentialFile.read_line-346"><span class="linenos">346</span></a><span class="sd">        1        The end of file was reached.</span>
</span><span id="SequentialFile.read_line-347"><a href="#SequentialFile.read_line-347"><span class="linenos">347</span></a>
</span><span id="SequentialFile.read_line-348"><a href="#SequentialFile.read_line-348"><span class="linenos">348</span></a><span class="sd">        Args:</span>
</span><span id="SequentialFile.read_line-349"><a href="#SequentialFile.read_line-349"><span class="linenos">349</span></a>
</span><span id="SequentialFile.read_line-350"><a href="#SequentialFile.read_line-350"><span class="linenos">350</span></a><span class="sd">        Returns:</span>
</span><span id="SequentialFile.read_line-351"><a href="#SequentialFile.read_line-351"><span class="linenos">351</span></a><span class="sd">            str: the line of data read.</span>
</span><span id="SequentialFile.read_line-352"><a href="#SequentialFile.read_line-352"><span class="linenos">352</span></a>
</span><span id="SequentialFile.read_line-353"><a href="#SequentialFile.read_line-353"><span class="linenos">353</span></a><span class="sd">        Raises:</span>
</span><span id="SequentialFile.read_line-354"><a href="#SequentialFile.read_line-354"><span class="linenos">354</span></a><span class="sd">            UOError</span>
</span><span id="SequentialFile.read_line-355"><a href="#SequentialFile.read_line-355"><span class="linenos">355</span></a>
</span><span id="SequentialFile.read_line-356"><a href="#SequentialFile.read_line-356"><span class="linenos">356</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile.read_line-357"><a href="#SequentialFile.read_line-357"><span class="linenos">357</span></a>
</span><span id="SequentialFile.read_line-358"><a href="#SequentialFile.read_line-358"><span class="linenos">358</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">)</span>
</span><span id="SequentialFile.read_line-359"><a href="#SequentialFile.read_line-359"><span class="linenos">359</span></a>
</span><span id="SequentialFile.read_line-360"><a href="#SequentialFile.read_line-360"><span class="linenos">360</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="SequentialFile.read_line-361"><a href="#SequentialFile.read_line-361"><span class="linenos">361</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile.read_line-362"><a href="#SequentialFile.read_line-362"><span class="linenos">362</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile.read_line-363"><a href="#SequentialFile.read_line-363"><span class="linenos">363</span></a>
</span><span id="SequentialFile.read_line-364"><a href="#SequentialFile.read_line-364"><span class="linenos">364</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_READSEQ</span><span class="p">)</span>
</span><span id="SequentialFile.read_line-365"><a href="#SequentialFile.read_line-365"><span class="linenos">365</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span><span class="p">)</span>
</span><span id="SequentialFile.read_line-366"><a href="#SequentialFile.read_line-366"><span class="linenos">366</span></a>
</span><span id="SequentialFile.read_line-367"><a href="#SequentialFile.read_line-367"><span class="linenos">367</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="SequentialFile.read_line-368"><a href="#SequentialFile.read_line-368"><span class="linenos">368</span></a>
</span><span id="SequentialFile.read_line-369"><a href="#SequentialFile.read_line-369"><span class="linenos">369</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile.read_line-370"><a href="#SequentialFile.read_line-370"><span class="linenos">370</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="SequentialFile.read_line-371"><a href="#SequentialFile.read_line-371"><span class="linenos">371</span></a>                <span class="n">line_</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="SequentialFile.read_line-372"><a href="#SequentialFile.read_line-372"><span class="linenos">372</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="SequentialFile.read_line-373"><a href="#SequentialFile.read_line-373"><span class="linenos">373</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="SequentialFile.read_line-374"><a href="#SequentialFile.read_line-374"><span class="linenos">374</span></a>
</span><span id="SequentialFile.read_line-375"><a href="#SequentialFile.read_line-375"><span class="linenos">375</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">line_</span><span class="p">)</span>
</span><span id="SequentialFile.read_line-376"><a href="#SequentialFile.read_line-376"><span class="linenos">376</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">line_</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Reads a line of data from the sequential file.</p>

<p>The lines must be delimited with a newline character.</p>

<p>status property will return one of the following values:
-1    The file is not open for reading.
0        The read was successful.
1        The end of file was reached.</p>

<p>Args:</p>

<p>Returns:
    str: the line of data read.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="SequentialFile.read_block" class="classattr">
                                        <input id="SequentialFile.read_block-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">read_block</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SequentialFile.read_block-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SequentialFile.read_block"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SequentialFile.read_block-378"><a href="#SequentialFile.read_block-378"><span class="linenos">378</span></a>    <span class="k">def</span> <span class="nf">read_block</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SequentialFile.read_block-379"><a href="#SequentialFile.read_block-379"><span class="linenos">379</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Reads a block of data from the sequential file.</span>
</span><span id="SequentialFile.read_block-380"><a href="#SequentialFile.read_block-380"><span class="linenos">380</span></a>
</span><span id="SequentialFile.read_block-381"><a href="#SequentialFile.read_block-381"><span class="linenos">381</span></a><span class="sd">        Upon completion, the status property will return one of the following values:</span>
</span><span id="SequentialFile.read_block-382"><a href="#SequentialFile.read_block-382"><span class="linenos">382</span></a><span class="sd">        -1    The file is not open for reading.</span>
</span><span id="SequentialFile.read_block-383"><a href="#SequentialFile.read_block-383"><span class="linenos">383</span></a><span class="sd">        0     The read was successful.</span>
</span><span id="SequentialFile.read_block-384"><a href="#SequentialFile.read_block-384"><span class="linenos">384</span></a><span class="sd">        1     The end of file was reached.</span>
</span><span id="SequentialFile.read_block-385"><a href="#SequentialFile.read_block-385"><span class="linenos">385</span></a>
</span><span id="SequentialFile.read_block-386"><a href="#SequentialFile.read_block-386"><span class="linenos">386</span></a><span class="sd">        Args:</span>
</span><span id="SequentialFile.read_block-387"><a href="#SequentialFile.read_block-387"><span class="linenos">387</span></a>
</span><span id="SequentialFile.read_block-388"><a href="#SequentialFile.read_block-388"><span class="linenos">388</span></a><span class="sd">        Returns:</span>
</span><span id="SequentialFile.read_block-389"><a href="#SequentialFile.read_block-389"><span class="linenos">389</span></a><span class="sd">            bytes: the data block read.</span>
</span><span id="SequentialFile.read_block-390"><a href="#SequentialFile.read_block-390"><span class="linenos">390</span></a>
</span><span id="SequentialFile.read_block-391"><a href="#SequentialFile.read_block-391"><span class="linenos">391</span></a><span class="sd">        Raises:</span>
</span><span id="SequentialFile.read_block-392"><a href="#SequentialFile.read_block-392"><span class="linenos">392</span></a><span class="sd">            UOError</span>
</span><span id="SequentialFile.read_block-393"><a href="#SequentialFile.read_block-393"><span class="linenos">393</span></a>
</span><span id="SequentialFile.read_block-394"><a href="#SequentialFile.read_block-394"><span class="linenos">394</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SequentialFile.read_block-395"><a href="#SequentialFile.read_block-395"><span class="linenos">395</span></a>
</span><span id="SequentialFile.read_block-396"><a href="#SequentialFile.read_block-396"><span class="linenos">396</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">)</span>
</span><span id="SequentialFile.read_block-397"><a href="#SequentialFile.read_block-397"><span class="linenos">397</span></a>
</span><span id="SequentialFile.read_block-398"><a href="#SequentialFile.read_block-398"><span class="linenos">398</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="SequentialFile.read_block-399"><a href="#SequentialFile.read_block-399"><span class="linenos">399</span></a>            <span class="n">bytes_buf</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span>
</span><span id="SequentialFile.read_block-400"><a href="#SequentialFile.read_block-400"><span class="linenos">400</span></a>
</span><span id="SequentialFile.read_block-401"><a href="#SequentialFile.read_block-401"><span class="linenos">401</span></a>            <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile.read_block-402"><a href="#SequentialFile.read_block-402"><span class="linenos">402</span></a>                <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile.read_block-403"><a href="#SequentialFile.read_block-403"><span class="linenos">403</span></a>                <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="SequentialFile.read_block-404"><a href="#SequentialFile.read_block-404"><span class="linenos">404</span></a>
</span><span id="SequentialFile.read_block-405"><a href="#SequentialFile.read_block-405"><span class="linenos">405</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_READBLK</span><span class="p">)</span>
</span><span id="SequentialFile.read_block-406"><a href="#SequentialFile.read_block-406"><span class="linenos">406</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seq_file_handle</span><span class="p">)</span>
</span><span id="SequentialFile.read_block-407"><a href="#SequentialFile.read_block-407"><span class="linenos">407</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_block_size</span><span class="p">)</span>
</span><span id="SequentialFile.read_block-408"><a href="#SequentialFile.read_block-408"><span class="linenos">408</span></a>
</span><span id="SequentialFile.read_block-409"><a href="#SequentialFile.read_block-409"><span class="linenos">409</span></a>                <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="SequentialFile.read_block-410"><a href="#SequentialFile.read_block-410"><span class="linenos">410</span></a>
</span><span id="SequentialFile.read_block-411"><a href="#SequentialFile.read_block-411"><span class="linenos">411</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="SequentialFile.read_block-412"><a href="#SequentialFile.read_block-412"><span class="linenos">412</span></a>
</span><span id="SequentialFile.read_block-413"><a href="#SequentialFile.read_block-413"><span class="linenos">413</span></a>                <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="SequentialFile.read_block-414"><a href="#SequentialFile.read_block-414"><span class="linenos">414</span></a>                    <span class="n">bytes_buf</span> <span class="o">+=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="SequentialFile.read_block-415"><a href="#SequentialFile.read_block-415"><span class="linenos">415</span></a>
</span><span id="SequentialFile.read_block-416"><a href="#SequentialFile.read_block-416"><span class="linenos">416</span></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_read_all</span><span class="p">:</span>
</span><span id="SequentialFile.read_block-417"><a href="#SequentialFile.read_block-417"><span class="linenos">417</span></a>                        <span class="k">break</span>
</span><span id="SequentialFile.read_block-418"><a href="#SequentialFile.read_block-418"><span class="linenos">418</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="SequentialFile.read_block-419"><a href="#SequentialFile.read_block-419"><span class="linenos">419</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="SequentialFile.read_block-420"><a href="#SequentialFile.read_block-420"><span class="linenos">420</span></a>
</span><span id="SequentialFile.read_block-421"><a href="#SequentialFile.read_block-421"><span class="linenos">421</span></a>            <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">bytes_buf</span><span class="p">)</span>
</span><span id="SequentialFile.read_block-422"><a href="#SequentialFile.read_block-422"><span class="linenos">422</span></a>            <span class="k">return</span> <span class="n">bytes_buf</span>
</span></pre></div>


            <div class="docstring"><p>Reads a block of data from the sequential file.</p>

<p>Upon completion, the status property will return one of the following values:
-1    The file is not open for reading.
0     The read was successful.
1     The end of file was reached.</p>

<p>Args:</p>

<p>Returns:
    bytes: the data block read.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                </section>
                <section id="Dictionary">
                            <input id="Dictionary-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Dictionary</span><wbr>(<span class="base"><a href="#File">uopy.File</a></span>):

                <label class="view-source-button" for="Dictionary-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dictionary"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dictionary-17"><a href="#Dictionary-17"><span class="linenos"> 17</span></a><span class="k">class</span> <span class="nc">Dictionary</span><span class="p">(</span><span class="n">File</span><span class="p">):</span>
</span><span id="Dictionary-18"><a href="#Dictionary-18"><span class="linenos"> 18</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Dictionary provides convenient access to MV dictionary files.&quot;&quot;&quot;</span>
</span><span id="Dictionary-19"><a href="#Dictionary-19"><span class="linenos"> 19</span></a>
</span><span id="Dictionary-20"><a href="#Dictionary-20"><span class="linenos"> 20</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Dictionary-21"><a href="#Dictionary-21"><span class="linenos"> 21</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a Dictionary object.</span>
</span><span id="Dictionary-22"><a href="#Dictionary-22"><span class="linenos"> 22</span></a>
</span><span id="Dictionary-23"><a href="#Dictionary-23"><span class="linenos"> 23</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary-24"><a href="#Dictionary-24"><span class="linenos"> 24</span></a><span class="sd">            name (str): the name of the MV file to be opened.</span>
</span><span id="Dictionary-25"><a href="#Dictionary-25"><span class="linenos"> 25</span></a><span class="sd">            session (Session, optional): the Session object that the Dictionary object is bound to.</span>
</span><span id="Dictionary-26"><a href="#Dictionary-26"><span class="linenos"> 26</span></a><span class="sd">                If omitted, the last opened Session in the current thread will be used.</span>
</span><span id="Dictionary-27"><a href="#Dictionary-27"><span class="linenos"> 27</span></a>
</span><span id="Dictionary-28"><a href="#Dictionary-28"><span class="linenos"> 28</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary-29"><a href="#Dictionary-29"><span class="linenos"> 29</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary-30"><a href="#Dictionary-30"><span class="linenos"> 30</span></a>
</span><span id="Dictionary-31"><a href="#Dictionary-31"><span class="linenos"> 31</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary-32"><a href="#Dictionary-32"><span class="linenos"> 32</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">session</span><span class="p">)</span>  <span class="c1"># 1 is for dictionary</span>
</span><span id="Dictionary-33"><a href="#Dictionary-33"><span class="linenos"> 33</span></a>
</span><span id="Dictionary-34"><a href="#Dictionary-34"><span class="linenos"> 34</span></a>    <span class="k">def</span> <span class="nf">get_assoc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">):</span>
</span><span id="Dictionary-35"><a href="#Dictionary-35"><span class="linenos"> 35</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the ASSOC field of the dictionary record.</span>
</span><span id="Dictionary-36"><a href="#Dictionary-36"><span class="linenos"> 36</span></a>
</span><span id="Dictionary-37"><a href="#Dictionary-37"><span class="linenos"> 37</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary-38"><a href="#Dictionary-38"><span class="linenos"> 38</span></a><span class="sd">            record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary-39"><a href="#Dictionary-39"><span class="linenos"> 39</span></a>
</span><span id="Dictionary-40"><a href="#Dictionary-40"><span class="linenos"> 40</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary-41"><a href="#Dictionary-41"><span class="linenos"> 41</span></a><span class="sd">            DynArray: the value of the ASSOC field.</span>
</span><span id="Dictionary-42"><a href="#Dictionary-42"><span class="linenos"> 42</span></a>
</span><span id="Dictionary-43"><a href="#Dictionary-43"><span class="linenos"> 43</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary-44"><a href="#Dictionary-44"><span class="linenos"> 44</span></a><span class="sd">            UOError.</span>
</span><span id="Dictionary-45"><a href="#Dictionary-45"><span class="linenos"> 45</span></a>
</span><span id="Dictionary-46"><a href="#Dictionary-46"><span class="linenos"> 46</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary-47"><a href="#Dictionary-47"><span class="linenos"> 47</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_ASSOC_INDEX</span><span class="p">)</span>
</span><span id="Dictionary-48"><a href="#Dictionary-48"><span class="linenos"> 48</span></a>
</span><span id="Dictionary-49"><a href="#Dictionary-49"><span class="linenos"> 49</span></a>    <span class="k">def</span> <span class="nf">set_assoc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">assoc</span><span class="p">):</span>
</span><span id="Dictionary-50"><a href="#Dictionary-50"><span class="linenos"> 50</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the ASSOC field of the dictionary record.</span>
</span><span id="Dictionary-51"><a href="#Dictionary-51"><span class="linenos"> 51</span></a>
</span><span id="Dictionary-52"><a href="#Dictionary-52"><span class="linenos"> 52</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary-53"><a href="#Dictionary-53"><span class="linenos"> 53</span></a><span class="sd">            record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary-54"><a href="#Dictionary-54"><span class="linenos"> 54</span></a><span class="sd">            assoc (str or DynArray): the value of the ASSOC field.</span>
</span><span id="Dictionary-55"><a href="#Dictionary-55"><span class="linenos"> 55</span></a>
</span><span id="Dictionary-56"><a href="#Dictionary-56"><span class="linenos"> 56</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary-57"><a href="#Dictionary-57"><span class="linenos"> 57</span></a><span class="sd">            None</span>
</span><span id="Dictionary-58"><a href="#Dictionary-58"><span class="linenos"> 58</span></a>
</span><span id="Dictionary-59"><a href="#Dictionary-59"><span class="linenos"> 59</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary-60"><a href="#Dictionary-60"><span class="linenos"> 60</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary-61"><a href="#Dictionary-61"><span class="linenos"> 61</span></a>
</span><span id="Dictionary-62"><a href="#Dictionary-62"><span class="linenos"> 62</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary-63"><a href="#Dictionary-63"><span class="linenos"> 63</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_ASSOC_INDEX</span><span class="p">,</span> <span class="n">assoc</span><span class="p">)</span>
</span><span id="Dictionary-64"><a href="#Dictionary-64"><span class="linenos"> 64</span></a>
</span><span id="Dictionary-65"><a href="#Dictionary-65"><span class="linenos"> 65</span></a>    <span class="k">def</span> <span class="nf">get_conv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">):</span>
</span><span id="Dictionary-66"><a href="#Dictionary-66"><span class="linenos"> 66</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the CONV field of the dictionary record.</span>
</span><span id="Dictionary-67"><a href="#Dictionary-67"><span class="linenos"> 67</span></a>
</span><span id="Dictionary-68"><a href="#Dictionary-68"><span class="linenos"> 68</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary-69"><a href="#Dictionary-69"><span class="linenos"> 69</span></a><span class="sd">            record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary-70"><a href="#Dictionary-70"><span class="linenos"> 70</span></a>
</span><span id="Dictionary-71"><a href="#Dictionary-71"><span class="linenos"> 71</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary-72"><a href="#Dictionary-72"><span class="linenos"> 72</span></a><span class="sd">            DynArray: the value of the CONV field.</span>
</span><span id="Dictionary-73"><a href="#Dictionary-73"><span class="linenos"> 73</span></a>
</span><span id="Dictionary-74"><a href="#Dictionary-74"><span class="linenos"> 74</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary-75"><a href="#Dictionary-75"><span class="linenos"> 75</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary-76"><a href="#Dictionary-76"><span class="linenos"> 76</span></a>
</span><span id="Dictionary-77"><a href="#Dictionary-77"><span class="linenos"> 77</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary-78"><a href="#Dictionary-78"><span class="linenos"> 78</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_CONV_INDEX</span><span class="p">)</span>
</span><span id="Dictionary-79"><a href="#Dictionary-79"><span class="linenos"> 79</span></a>
</span><span id="Dictionary-80"><a href="#Dictionary-80"><span class="linenos"> 80</span></a>    <span class="k">def</span> <span class="nf">set_conv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">conv_code</span><span class="p">):</span>
</span><span id="Dictionary-81"><a href="#Dictionary-81"><span class="linenos"> 81</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the CONV field of the dictionary record.</span>
</span><span id="Dictionary-82"><a href="#Dictionary-82"><span class="linenos"> 82</span></a>
</span><span id="Dictionary-83"><a href="#Dictionary-83"><span class="linenos"> 83</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary-84"><a href="#Dictionary-84"><span class="linenos"> 84</span></a><span class="sd">             record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary-85"><a href="#Dictionary-85"><span class="linenos"> 85</span></a><span class="sd">             conv_code (str or DynArray): the value of the CONV field.</span>
</span><span id="Dictionary-86"><a href="#Dictionary-86"><span class="linenos"> 86</span></a>
</span><span id="Dictionary-87"><a href="#Dictionary-87"><span class="linenos"> 87</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary-88"><a href="#Dictionary-88"><span class="linenos"> 88</span></a><span class="sd">             None</span>
</span><span id="Dictionary-89"><a href="#Dictionary-89"><span class="linenos"> 89</span></a>
</span><span id="Dictionary-90"><a href="#Dictionary-90"><span class="linenos"> 90</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary-91"><a href="#Dictionary-91"><span class="linenos"> 91</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary-92"><a href="#Dictionary-92"><span class="linenos"> 92</span></a>
</span><span id="Dictionary-93"><a href="#Dictionary-93"><span class="linenos"> 93</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary-94"><a href="#Dictionary-94"><span class="linenos"> 94</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_CONV_INDEX</span><span class="p">,</span> <span class="n">conv_code</span><span class="p">)</span>
</span><span id="Dictionary-95"><a href="#Dictionary-95"><span class="linenos"> 95</span></a>
</span><span id="Dictionary-96"><a href="#Dictionary-96"><span class="linenos"> 96</span></a>    <span class="k">def</span> <span class="nf">get_format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">):</span>
</span><span id="Dictionary-97"><a href="#Dictionary-97"><span class="linenos"> 97</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the FORMAT field of the dictionary record.</span>
</span><span id="Dictionary-98"><a href="#Dictionary-98"><span class="linenos"> 98</span></a>
</span><span id="Dictionary-99"><a href="#Dictionary-99"><span class="linenos"> 99</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary-100"><a href="#Dictionary-100"><span class="linenos">100</span></a><span class="sd">            record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary-101"><a href="#Dictionary-101"><span class="linenos">101</span></a>
</span><span id="Dictionary-102"><a href="#Dictionary-102"><span class="linenos">102</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary-103"><a href="#Dictionary-103"><span class="linenos">103</span></a><span class="sd">            DynArray: the value of the FORMAT field.</span>
</span><span id="Dictionary-104"><a href="#Dictionary-104"><span class="linenos">104</span></a>
</span><span id="Dictionary-105"><a href="#Dictionary-105"><span class="linenos">105</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary-106"><a href="#Dictionary-106"><span class="linenos">106</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary-107"><a href="#Dictionary-107"><span class="linenos">107</span></a>
</span><span id="Dictionary-108"><a href="#Dictionary-108"><span class="linenos">108</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary-109"><a href="#Dictionary-109"><span class="linenos">109</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_FORMAT_INDEX</span><span class="p">)</span>
</span><span id="Dictionary-110"><a href="#Dictionary-110"><span class="linenos">110</span></a>
</span><span id="Dictionary-111"><a href="#Dictionary-111"><span class="linenos">111</span></a>    <span class="k">def</span> <span class="nf">set_format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">format_code</span><span class="p">):</span>
</span><span id="Dictionary-112"><a href="#Dictionary-112"><span class="linenos">112</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the FORMAT field of the dictionary record.</span>
</span><span id="Dictionary-113"><a href="#Dictionary-113"><span class="linenos">113</span></a>
</span><span id="Dictionary-114"><a href="#Dictionary-114"><span class="linenos">114</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary-115"><a href="#Dictionary-115"><span class="linenos">115</span></a><span class="sd">             record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary-116"><a href="#Dictionary-116"><span class="linenos">116</span></a><span class="sd">             format_code (str or DynArray): the value of the FORMAT field.</span>
</span><span id="Dictionary-117"><a href="#Dictionary-117"><span class="linenos">117</span></a>
</span><span id="Dictionary-118"><a href="#Dictionary-118"><span class="linenos">118</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary-119"><a href="#Dictionary-119"><span class="linenos">119</span></a><span class="sd">             None</span>
</span><span id="Dictionary-120"><a href="#Dictionary-120"><span class="linenos">120</span></a>
</span><span id="Dictionary-121"><a href="#Dictionary-121"><span class="linenos">121</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary-122"><a href="#Dictionary-122"><span class="linenos">122</span></a><span class="sd">             UOError</span>
</span><span id="Dictionary-123"><a href="#Dictionary-123"><span class="linenos">123</span></a>
</span><span id="Dictionary-124"><a href="#Dictionary-124"><span class="linenos">124</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary-125"><a href="#Dictionary-125"><span class="linenos">125</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_FORMAT_INDEX</span><span class="p">,</span> <span class="n">format_code</span><span class="p">)</span>
</span><span id="Dictionary-126"><a href="#Dictionary-126"><span class="linenos">126</span></a>
</span><span id="Dictionary-127"><a href="#Dictionary-127"><span class="linenos">127</span></a>    <span class="k">def</span> <span class="nf">get_loc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">):</span>
</span><span id="Dictionary-128"><a href="#Dictionary-128"><span class="linenos">128</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the LOC field of the dictionary record.</span>
</span><span id="Dictionary-129"><a href="#Dictionary-129"><span class="linenos">129</span></a>
</span><span id="Dictionary-130"><a href="#Dictionary-130"><span class="linenos">130</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary-131"><a href="#Dictionary-131"><span class="linenos">131</span></a><span class="sd">            record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary-132"><a href="#Dictionary-132"><span class="linenos">132</span></a>
</span><span id="Dictionary-133"><a href="#Dictionary-133"><span class="linenos">133</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary-134"><a href="#Dictionary-134"><span class="linenos">134</span></a><span class="sd">            DynArray: the value of the LOC field.</span>
</span><span id="Dictionary-135"><a href="#Dictionary-135"><span class="linenos">135</span></a>
</span><span id="Dictionary-136"><a href="#Dictionary-136"><span class="linenos">136</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary-137"><a href="#Dictionary-137"><span class="linenos">137</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary-138"><a href="#Dictionary-138"><span class="linenos">138</span></a>
</span><span id="Dictionary-139"><a href="#Dictionary-139"><span class="linenos">139</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary-140"><a href="#Dictionary-140"><span class="linenos">140</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_LOC_INDEX</span><span class="p">)</span>
</span><span id="Dictionary-141"><a href="#Dictionary-141"><span class="linenos">141</span></a>
</span><span id="Dictionary-142"><a href="#Dictionary-142"><span class="linenos">142</span></a>    <span class="k">def</span> <span class="nf">set_loc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">loc</span><span class="p">):</span>
</span><span id="Dictionary-143"><a href="#Dictionary-143"><span class="linenos">143</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the LOC field of the dictionary record.</span>
</span><span id="Dictionary-144"><a href="#Dictionary-144"><span class="linenos">144</span></a>
</span><span id="Dictionary-145"><a href="#Dictionary-145"><span class="linenos">145</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary-146"><a href="#Dictionary-146"><span class="linenos">146</span></a><span class="sd">             record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary-147"><a href="#Dictionary-147"><span class="linenos">147</span></a><span class="sd">             loc (str or DynArray): the value of the LOC field.</span>
</span><span id="Dictionary-148"><a href="#Dictionary-148"><span class="linenos">148</span></a>
</span><span id="Dictionary-149"><a href="#Dictionary-149"><span class="linenos">149</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary-150"><a href="#Dictionary-150"><span class="linenos">150</span></a><span class="sd">             None</span>
</span><span id="Dictionary-151"><a href="#Dictionary-151"><span class="linenos">151</span></a>
</span><span id="Dictionary-152"><a href="#Dictionary-152"><span class="linenos">152</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary-153"><a href="#Dictionary-153"><span class="linenos">153</span></a><span class="sd">             UOError</span>
</span><span id="Dictionary-154"><a href="#Dictionary-154"><span class="linenos">154</span></a>
</span><span id="Dictionary-155"><a href="#Dictionary-155"><span class="linenos">155</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary-156"><a href="#Dictionary-156"><span class="linenos">156</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_LOC_INDEX</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span>
</span><span id="Dictionary-157"><a href="#Dictionary-157"><span class="linenos">157</span></a>
</span><span id="Dictionary-158"><a href="#Dictionary-158"><span class="linenos">158</span></a>    <span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">):</span>
</span><span id="Dictionary-159"><a href="#Dictionary-159"><span class="linenos">159</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the NAME field of the dictionary record.</span>
</span><span id="Dictionary-160"><a href="#Dictionary-160"><span class="linenos">160</span></a>
</span><span id="Dictionary-161"><a href="#Dictionary-161"><span class="linenos">161</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary-162"><a href="#Dictionary-162"><span class="linenos">162</span></a><span class="sd">            record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary-163"><a href="#Dictionary-163"><span class="linenos">163</span></a>
</span><span id="Dictionary-164"><a href="#Dictionary-164"><span class="linenos">164</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary-165"><a href="#Dictionary-165"><span class="linenos">165</span></a><span class="sd">            DynArray: the value of the NAME field.</span>
</span><span id="Dictionary-166"><a href="#Dictionary-166"><span class="linenos">166</span></a>
</span><span id="Dictionary-167"><a href="#Dictionary-167"><span class="linenos">167</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary-168"><a href="#Dictionary-168"><span class="linenos">168</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary-169"><a href="#Dictionary-169"><span class="linenos">169</span></a>
</span><span id="Dictionary-170"><a href="#Dictionary-170"><span class="linenos">170</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary-171"><a href="#Dictionary-171"><span class="linenos">171</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_NAME_INDEX</span><span class="p">)</span>
</span><span id="Dictionary-172"><a href="#Dictionary-172"><span class="linenos">172</span></a>
</span><span id="Dictionary-173"><a href="#Dictionary-173"><span class="linenos">173</span></a>    <span class="k">def</span> <span class="nf">set_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="Dictionary-174"><a href="#Dictionary-174"><span class="linenos">174</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the NAME field of the dictionary record.</span>
</span><span id="Dictionary-175"><a href="#Dictionary-175"><span class="linenos">175</span></a>
</span><span id="Dictionary-176"><a href="#Dictionary-176"><span class="linenos">176</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary-177"><a href="#Dictionary-177"><span class="linenos">177</span></a><span class="sd">             record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary-178"><a href="#Dictionary-178"><span class="linenos">178</span></a><span class="sd">             name (str or DynArray): the value of the NAME field.</span>
</span><span id="Dictionary-179"><a href="#Dictionary-179"><span class="linenos">179</span></a>
</span><span id="Dictionary-180"><a href="#Dictionary-180"><span class="linenos">180</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary-181"><a href="#Dictionary-181"><span class="linenos">181</span></a><span class="sd">             None</span>
</span><span id="Dictionary-182"><a href="#Dictionary-182"><span class="linenos">182</span></a>
</span><span id="Dictionary-183"><a href="#Dictionary-183"><span class="linenos">183</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary-184"><a href="#Dictionary-184"><span class="linenos">184</span></a><span class="sd">             UOError</span>
</span><span id="Dictionary-185"><a href="#Dictionary-185"><span class="linenos">185</span></a>
</span><span id="Dictionary-186"><a href="#Dictionary-186"><span class="linenos">186</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary-187"><a href="#Dictionary-187"><span class="linenos">187</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_NAME_INDEX</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
</span><span id="Dictionary-188"><a href="#Dictionary-188"><span class="linenos">188</span></a>
</span><span id="Dictionary-189"><a href="#Dictionary-189"><span class="linenos">189</span></a>    <span class="k">def</span> <span class="nf">get_sm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">):</span>
</span><span id="Dictionary-190"><a href="#Dictionary-190"><span class="linenos">190</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the SM field of the dictionary record.</span>
</span><span id="Dictionary-191"><a href="#Dictionary-191"><span class="linenos">191</span></a>
</span><span id="Dictionary-192"><a href="#Dictionary-192"><span class="linenos">192</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary-193"><a href="#Dictionary-193"><span class="linenos">193</span></a><span class="sd">            record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary-194"><a href="#Dictionary-194"><span class="linenos">194</span></a>
</span><span id="Dictionary-195"><a href="#Dictionary-195"><span class="linenos">195</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary-196"><a href="#Dictionary-196"><span class="linenos">196</span></a><span class="sd">            DynArray: the value of the SM field.</span>
</span><span id="Dictionary-197"><a href="#Dictionary-197"><span class="linenos">197</span></a>
</span><span id="Dictionary-198"><a href="#Dictionary-198"><span class="linenos">198</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary-199"><a href="#Dictionary-199"><span class="linenos">199</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary-200"><a href="#Dictionary-200"><span class="linenos">200</span></a>
</span><span id="Dictionary-201"><a href="#Dictionary-201"><span class="linenos">201</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary-202"><a href="#Dictionary-202"><span class="linenos">202</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_SM_INDEX</span><span class="p">)</span>
</span><span id="Dictionary-203"><a href="#Dictionary-203"><span class="linenos">203</span></a>
</span><span id="Dictionary-204"><a href="#Dictionary-204"><span class="linenos">204</span></a>    <span class="k">def</span> <span class="nf">set_sm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">sm</span><span class="p">):</span>
</span><span id="Dictionary-205"><a href="#Dictionary-205"><span class="linenos">205</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the SM field of the dictionary record.</span>
</span><span id="Dictionary-206"><a href="#Dictionary-206"><span class="linenos">206</span></a>
</span><span id="Dictionary-207"><a href="#Dictionary-207"><span class="linenos">207</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary-208"><a href="#Dictionary-208"><span class="linenos">208</span></a><span class="sd">             record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary-209"><a href="#Dictionary-209"><span class="linenos">209</span></a><span class="sd">             sm (str or DynArray): the value of the SM field.</span>
</span><span id="Dictionary-210"><a href="#Dictionary-210"><span class="linenos">210</span></a>
</span><span id="Dictionary-211"><a href="#Dictionary-211"><span class="linenos">211</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary-212"><a href="#Dictionary-212"><span class="linenos">212</span></a><span class="sd">             None</span>
</span><span id="Dictionary-213"><a href="#Dictionary-213"><span class="linenos">213</span></a>
</span><span id="Dictionary-214"><a href="#Dictionary-214"><span class="linenos">214</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary-215"><a href="#Dictionary-215"><span class="linenos">215</span></a><span class="sd">             UOError</span>
</span><span id="Dictionary-216"><a href="#Dictionary-216"><span class="linenos">216</span></a>
</span><span id="Dictionary-217"><a href="#Dictionary-217"><span class="linenos">217</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary-218"><a href="#Dictionary-218"><span class="linenos">218</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_SM_INDEX</span><span class="p">,</span> <span class="n">sm</span><span class="p">)</span>
</span><span id="Dictionary-219"><a href="#Dictionary-219"><span class="linenos">219</span></a>
</span><span id="Dictionary-220"><a href="#Dictionary-220"><span class="linenos">220</span></a>    <span class="k">def</span> <span class="nf">get_sql_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">):</span>
</span><span id="Dictionary-221"><a href="#Dictionary-221"><span class="linenos">221</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the SQLType field of the dictionary record.</span>
</span><span id="Dictionary-222"><a href="#Dictionary-222"><span class="linenos">222</span></a>
</span><span id="Dictionary-223"><a href="#Dictionary-223"><span class="linenos">223</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary-224"><a href="#Dictionary-224"><span class="linenos">224</span></a><span class="sd">            record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary-225"><a href="#Dictionary-225"><span class="linenos">225</span></a>
</span><span id="Dictionary-226"><a href="#Dictionary-226"><span class="linenos">226</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary-227"><a href="#Dictionary-227"><span class="linenos">227</span></a><span class="sd">            DynArray: the value of the SQLType field.</span>
</span><span id="Dictionary-228"><a href="#Dictionary-228"><span class="linenos">228</span></a>
</span><span id="Dictionary-229"><a href="#Dictionary-229"><span class="linenos">229</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary-230"><a href="#Dictionary-230"><span class="linenos">230</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary-231"><a href="#Dictionary-231"><span class="linenos">231</span></a>
</span><span id="Dictionary-232"><a href="#Dictionary-232"><span class="linenos">232</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary-233"><a href="#Dictionary-233"><span class="linenos">233</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_SQLTYPE_INDEX</span><span class="p">)</span>
</span><span id="Dictionary-234"><a href="#Dictionary-234"><span class="linenos">234</span></a>
</span><span id="Dictionary-235"><a href="#Dictionary-235"><span class="linenos">235</span></a>    <span class="k">def</span> <span class="nf">set_sql_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">sql_type</span><span class="p">):</span>
</span><span id="Dictionary-236"><a href="#Dictionary-236"><span class="linenos">236</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the SQLType field of the dictionary record.</span>
</span><span id="Dictionary-237"><a href="#Dictionary-237"><span class="linenos">237</span></a>
</span><span id="Dictionary-238"><a href="#Dictionary-238"><span class="linenos">238</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary-239"><a href="#Dictionary-239"><span class="linenos">239</span></a><span class="sd">             record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary-240"><a href="#Dictionary-240"><span class="linenos">240</span></a><span class="sd">             sql_type (str or DynArray): the value of the SQLType field.</span>
</span><span id="Dictionary-241"><a href="#Dictionary-241"><span class="linenos">241</span></a>
</span><span id="Dictionary-242"><a href="#Dictionary-242"><span class="linenos">242</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary-243"><a href="#Dictionary-243"><span class="linenos">243</span></a><span class="sd">             None</span>
</span><span id="Dictionary-244"><a href="#Dictionary-244"><span class="linenos">244</span></a>
</span><span id="Dictionary-245"><a href="#Dictionary-245"><span class="linenos">245</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary-246"><a href="#Dictionary-246"><span class="linenos">246</span></a><span class="sd">             UOError</span>
</span><span id="Dictionary-247"><a href="#Dictionary-247"><span class="linenos">247</span></a>
</span><span id="Dictionary-248"><a href="#Dictionary-248"><span class="linenos">248</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary-249"><a href="#Dictionary-249"><span class="linenos">249</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_SQLTYPE_INDEX</span><span class="p">,</span> <span class="n">sql_type</span><span class="p">)</span>
</span><span id="Dictionary-250"><a href="#Dictionary-250"><span class="linenos">250</span></a>
</span><span id="Dictionary-251"><a href="#Dictionary-251"><span class="linenos">251</span></a>    <span class="k">def</span> <span class="nf">get_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">):</span>
</span><span id="Dictionary-252"><a href="#Dictionary-252"><span class="linenos">252</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the TYPE field of the dictionary record.</span>
</span><span id="Dictionary-253"><a href="#Dictionary-253"><span class="linenos">253</span></a>
</span><span id="Dictionary-254"><a href="#Dictionary-254"><span class="linenos">254</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary-255"><a href="#Dictionary-255"><span class="linenos">255</span></a><span class="sd">            record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary-256"><a href="#Dictionary-256"><span class="linenos">256</span></a>
</span><span id="Dictionary-257"><a href="#Dictionary-257"><span class="linenos">257</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary-258"><a href="#Dictionary-258"><span class="linenos">258</span></a><span class="sd">            DynArray: the value of the TYPE field.</span>
</span><span id="Dictionary-259"><a href="#Dictionary-259"><span class="linenos">259</span></a>
</span><span id="Dictionary-260"><a href="#Dictionary-260"><span class="linenos">260</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary-261"><a href="#Dictionary-261"><span class="linenos">261</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary-262"><a href="#Dictionary-262"><span class="linenos">262</span></a>
</span><span id="Dictionary-263"><a href="#Dictionary-263"><span class="linenos">263</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary-264"><a href="#Dictionary-264"><span class="linenos">264</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_TYPE_INDEX</span><span class="p">)</span>
</span><span id="Dictionary-265"><a href="#Dictionary-265"><span class="linenos">265</span></a>
</span><span id="Dictionary-266"><a href="#Dictionary-266"><span class="linenos">266</span></a>    <span class="k">def</span> <span class="nf">set_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">field_type</span><span class="p">):</span>
</span><span id="Dictionary-267"><a href="#Dictionary-267"><span class="linenos">267</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the TYPE field of the dictionary record.</span>
</span><span id="Dictionary-268"><a href="#Dictionary-268"><span class="linenos">268</span></a>
</span><span id="Dictionary-269"><a href="#Dictionary-269"><span class="linenos">269</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary-270"><a href="#Dictionary-270"><span class="linenos">270</span></a><span class="sd">             record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary-271"><a href="#Dictionary-271"><span class="linenos">271</span></a><span class="sd">             field_type (str or DynArray): the value of the TYPE field.</span>
</span><span id="Dictionary-272"><a href="#Dictionary-272"><span class="linenos">272</span></a>
</span><span id="Dictionary-273"><a href="#Dictionary-273"><span class="linenos">273</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary-274"><a href="#Dictionary-274"><span class="linenos">274</span></a><span class="sd">             None</span>
</span><span id="Dictionary-275"><a href="#Dictionary-275"><span class="linenos">275</span></a>
</span><span id="Dictionary-276"><a href="#Dictionary-276"><span class="linenos">276</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary-277"><a href="#Dictionary-277"><span class="linenos">277</span></a><span class="sd">             UOError</span>
</span><span id="Dictionary-278"><a href="#Dictionary-278"><span class="linenos">278</span></a>
</span><span id="Dictionary-279"><a href="#Dictionary-279"><span class="linenos">279</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary-280"><a href="#Dictionary-280"><span class="linenos">280</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_TYPE_INDEX</span><span class="p">,</span> <span class="n">field_type</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Dictionary provides convenient access to MV dictionary files.</p>
</div>


                            <div id="Dictionary.__init__" class="classattr">
                                        <input id="Dictionary.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Dictionary</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">name</span>, </span><span class="param"><span class="n">session</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="Dictionary.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dictionary.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dictionary.__init__-20"><a href="#Dictionary.__init__-20"><span class="linenos">20</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Dictionary.__init__-21"><a href="#Dictionary.__init__-21"><span class="linenos">21</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a Dictionary object.</span>
</span><span id="Dictionary.__init__-22"><a href="#Dictionary.__init__-22"><span class="linenos">22</span></a>
</span><span id="Dictionary.__init__-23"><a href="#Dictionary.__init__-23"><span class="linenos">23</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary.__init__-24"><a href="#Dictionary.__init__-24"><span class="linenos">24</span></a><span class="sd">            name (str): the name of the MV file to be opened.</span>
</span><span id="Dictionary.__init__-25"><a href="#Dictionary.__init__-25"><span class="linenos">25</span></a><span class="sd">            session (Session, optional): the Session object that the Dictionary object is bound to.</span>
</span><span id="Dictionary.__init__-26"><a href="#Dictionary.__init__-26"><span class="linenos">26</span></a><span class="sd">                If omitted, the last opened Session in the current thread will be used.</span>
</span><span id="Dictionary.__init__-27"><a href="#Dictionary.__init__-27"><span class="linenos">27</span></a>
</span><span id="Dictionary.__init__-28"><a href="#Dictionary.__init__-28"><span class="linenos">28</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary.__init__-29"><a href="#Dictionary.__init__-29"><span class="linenos">29</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary.__init__-30"><a href="#Dictionary.__init__-30"><span class="linenos">30</span></a>
</span><span id="Dictionary.__init__-31"><a href="#Dictionary.__init__-31"><span class="linenos">31</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary.__init__-32"><a href="#Dictionary.__init__-32"><span class="linenos">32</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">session</span><span class="p">)</span>  <span class="c1"># 1 is for dictionary</span>
</span></pre></div>


            <div class="docstring"><p>Initialize a Dictionary object.</p>

<p>Args:
    name (str): the name of the MV file to be opened.
    session (Session, optional): the Session object that the Dictionary object is bound to.
        If omitted, the last opened Session in the current thread will be used.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Dictionary.get_assoc" class="classattr">
                                        <input id="Dictionary.get_assoc-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_assoc</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Dictionary.get_assoc-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dictionary.get_assoc"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dictionary.get_assoc-34"><a href="#Dictionary.get_assoc-34"><span class="linenos">34</span></a>    <span class="k">def</span> <span class="nf">get_assoc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">):</span>
</span><span id="Dictionary.get_assoc-35"><a href="#Dictionary.get_assoc-35"><span class="linenos">35</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the ASSOC field of the dictionary record.</span>
</span><span id="Dictionary.get_assoc-36"><a href="#Dictionary.get_assoc-36"><span class="linenos">36</span></a>
</span><span id="Dictionary.get_assoc-37"><a href="#Dictionary.get_assoc-37"><span class="linenos">37</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary.get_assoc-38"><a href="#Dictionary.get_assoc-38"><span class="linenos">38</span></a><span class="sd">            record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary.get_assoc-39"><a href="#Dictionary.get_assoc-39"><span class="linenos">39</span></a>
</span><span id="Dictionary.get_assoc-40"><a href="#Dictionary.get_assoc-40"><span class="linenos">40</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary.get_assoc-41"><a href="#Dictionary.get_assoc-41"><span class="linenos">41</span></a><span class="sd">            DynArray: the value of the ASSOC field.</span>
</span><span id="Dictionary.get_assoc-42"><a href="#Dictionary.get_assoc-42"><span class="linenos">42</span></a>
</span><span id="Dictionary.get_assoc-43"><a href="#Dictionary.get_assoc-43"><span class="linenos">43</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary.get_assoc-44"><a href="#Dictionary.get_assoc-44"><span class="linenos">44</span></a><span class="sd">            UOError.</span>
</span><span id="Dictionary.get_assoc-45"><a href="#Dictionary.get_assoc-45"><span class="linenos">45</span></a>
</span><span id="Dictionary.get_assoc-46"><a href="#Dictionary.get_assoc-46"><span class="linenos">46</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary.get_assoc-47"><a href="#Dictionary.get_assoc-47"><span class="linenos">47</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_ASSOC_INDEX</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return the ASSOC field of the dictionary record.</p>

<p>Args:
    record_id (str or DynArray): the record id of the dictionary file.</p>

<p>Returns:
    DynArray: the value of the ASSOC field.</p>

<p>Raises:
    UOError.</p>
</div>


                            </div>
                            <div id="Dictionary.set_assoc" class="classattr">
                                        <input id="Dictionary.set_assoc-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_assoc</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span>, </span><span class="param"><span class="n">assoc</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Dictionary.set_assoc-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dictionary.set_assoc"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dictionary.set_assoc-49"><a href="#Dictionary.set_assoc-49"><span class="linenos">49</span></a>    <span class="k">def</span> <span class="nf">set_assoc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">assoc</span><span class="p">):</span>
</span><span id="Dictionary.set_assoc-50"><a href="#Dictionary.set_assoc-50"><span class="linenos">50</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the ASSOC field of the dictionary record.</span>
</span><span id="Dictionary.set_assoc-51"><a href="#Dictionary.set_assoc-51"><span class="linenos">51</span></a>
</span><span id="Dictionary.set_assoc-52"><a href="#Dictionary.set_assoc-52"><span class="linenos">52</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary.set_assoc-53"><a href="#Dictionary.set_assoc-53"><span class="linenos">53</span></a><span class="sd">            record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary.set_assoc-54"><a href="#Dictionary.set_assoc-54"><span class="linenos">54</span></a><span class="sd">            assoc (str or DynArray): the value of the ASSOC field.</span>
</span><span id="Dictionary.set_assoc-55"><a href="#Dictionary.set_assoc-55"><span class="linenos">55</span></a>
</span><span id="Dictionary.set_assoc-56"><a href="#Dictionary.set_assoc-56"><span class="linenos">56</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary.set_assoc-57"><a href="#Dictionary.set_assoc-57"><span class="linenos">57</span></a><span class="sd">            None</span>
</span><span id="Dictionary.set_assoc-58"><a href="#Dictionary.set_assoc-58"><span class="linenos">58</span></a>
</span><span id="Dictionary.set_assoc-59"><a href="#Dictionary.set_assoc-59"><span class="linenos">59</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary.set_assoc-60"><a href="#Dictionary.set_assoc-60"><span class="linenos">60</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary.set_assoc-61"><a href="#Dictionary.set_assoc-61"><span class="linenos">61</span></a>
</span><span id="Dictionary.set_assoc-62"><a href="#Dictionary.set_assoc-62"><span class="linenos">62</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary.set_assoc-63"><a href="#Dictionary.set_assoc-63"><span class="linenos">63</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_ASSOC_INDEX</span><span class="p">,</span> <span class="n">assoc</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set the ASSOC field of the dictionary record.</p>

<p>Args:
    record_id (str or DynArray): the record id of the dictionary file.
    assoc (str or DynArray): the value of the ASSOC field.</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Dictionary.get_conv" class="classattr">
                                        <input id="Dictionary.get_conv-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_conv</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Dictionary.get_conv-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dictionary.get_conv"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dictionary.get_conv-65"><a href="#Dictionary.get_conv-65"><span class="linenos">65</span></a>    <span class="k">def</span> <span class="nf">get_conv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">):</span>
</span><span id="Dictionary.get_conv-66"><a href="#Dictionary.get_conv-66"><span class="linenos">66</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the CONV field of the dictionary record.</span>
</span><span id="Dictionary.get_conv-67"><a href="#Dictionary.get_conv-67"><span class="linenos">67</span></a>
</span><span id="Dictionary.get_conv-68"><a href="#Dictionary.get_conv-68"><span class="linenos">68</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary.get_conv-69"><a href="#Dictionary.get_conv-69"><span class="linenos">69</span></a><span class="sd">            record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary.get_conv-70"><a href="#Dictionary.get_conv-70"><span class="linenos">70</span></a>
</span><span id="Dictionary.get_conv-71"><a href="#Dictionary.get_conv-71"><span class="linenos">71</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary.get_conv-72"><a href="#Dictionary.get_conv-72"><span class="linenos">72</span></a><span class="sd">            DynArray: the value of the CONV field.</span>
</span><span id="Dictionary.get_conv-73"><a href="#Dictionary.get_conv-73"><span class="linenos">73</span></a>
</span><span id="Dictionary.get_conv-74"><a href="#Dictionary.get_conv-74"><span class="linenos">74</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary.get_conv-75"><a href="#Dictionary.get_conv-75"><span class="linenos">75</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary.get_conv-76"><a href="#Dictionary.get_conv-76"><span class="linenos">76</span></a>
</span><span id="Dictionary.get_conv-77"><a href="#Dictionary.get_conv-77"><span class="linenos">77</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary.get_conv-78"><a href="#Dictionary.get_conv-78"><span class="linenos">78</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_CONV_INDEX</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return the CONV field of the dictionary record.</p>

<p>Args:
    record_id (str or DynArray): the record id of the dictionary file.</p>

<p>Returns:
    DynArray: the value of the CONV field.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Dictionary.set_conv" class="classattr">
                                        <input id="Dictionary.set_conv-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_conv</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span>, </span><span class="param"><span class="n">conv_code</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Dictionary.set_conv-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dictionary.set_conv"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dictionary.set_conv-80"><a href="#Dictionary.set_conv-80"><span class="linenos">80</span></a>    <span class="k">def</span> <span class="nf">set_conv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">conv_code</span><span class="p">):</span>
</span><span id="Dictionary.set_conv-81"><a href="#Dictionary.set_conv-81"><span class="linenos">81</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the CONV field of the dictionary record.</span>
</span><span id="Dictionary.set_conv-82"><a href="#Dictionary.set_conv-82"><span class="linenos">82</span></a>
</span><span id="Dictionary.set_conv-83"><a href="#Dictionary.set_conv-83"><span class="linenos">83</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary.set_conv-84"><a href="#Dictionary.set_conv-84"><span class="linenos">84</span></a><span class="sd">             record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary.set_conv-85"><a href="#Dictionary.set_conv-85"><span class="linenos">85</span></a><span class="sd">             conv_code (str or DynArray): the value of the CONV field.</span>
</span><span id="Dictionary.set_conv-86"><a href="#Dictionary.set_conv-86"><span class="linenos">86</span></a>
</span><span id="Dictionary.set_conv-87"><a href="#Dictionary.set_conv-87"><span class="linenos">87</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary.set_conv-88"><a href="#Dictionary.set_conv-88"><span class="linenos">88</span></a><span class="sd">             None</span>
</span><span id="Dictionary.set_conv-89"><a href="#Dictionary.set_conv-89"><span class="linenos">89</span></a>
</span><span id="Dictionary.set_conv-90"><a href="#Dictionary.set_conv-90"><span class="linenos">90</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary.set_conv-91"><a href="#Dictionary.set_conv-91"><span class="linenos">91</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary.set_conv-92"><a href="#Dictionary.set_conv-92"><span class="linenos">92</span></a>
</span><span id="Dictionary.set_conv-93"><a href="#Dictionary.set_conv-93"><span class="linenos">93</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary.set_conv-94"><a href="#Dictionary.set_conv-94"><span class="linenos">94</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_CONV_INDEX</span><span class="p">,</span> <span class="n">conv_code</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set the CONV field of the dictionary record.</p>

<p>Args:
     record_id (str or DynArray): the record id of the dictionary file.
     conv_code (str or DynArray): the value of the CONV field.</p>

<p>Returns:
     None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Dictionary.get_format" class="classattr">
                                        <input id="Dictionary.get_format-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_format</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Dictionary.get_format-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dictionary.get_format"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dictionary.get_format-96"><a href="#Dictionary.get_format-96"><span class="linenos"> 96</span></a>    <span class="k">def</span> <span class="nf">get_format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">):</span>
</span><span id="Dictionary.get_format-97"><a href="#Dictionary.get_format-97"><span class="linenos"> 97</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the FORMAT field of the dictionary record.</span>
</span><span id="Dictionary.get_format-98"><a href="#Dictionary.get_format-98"><span class="linenos"> 98</span></a>
</span><span id="Dictionary.get_format-99"><a href="#Dictionary.get_format-99"><span class="linenos"> 99</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary.get_format-100"><a href="#Dictionary.get_format-100"><span class="linenos">100</span></a><span class="sd">            record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary.get_format-101"><a href="#Dictionary.get_format-101"><span class="linenos">101</span></a>
</span><span id="Dictionary.get_format-102"><a href="#Dictionary.get_format-102"><span class="linenos">102</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary.get_format-103"><a href="#Dictionary.get_format-103"><span class="linenos">103</span></a><span class="sd">            DynArray: the value of the FORMAT field.</span>
</span><span id="Dictionary.get_format-104"><a href="#Dictionary.get_format-104"><span class="linenos">104</span></a>
</span><span id="Dictionary.get_format-105"><a href="#Dictionary.get_format-105"><span class="linenos">105</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary.get_format-106"><a href="#Dictionary.get_format-106"><span class="linenos">106</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary.get_format-107"><a href="#Dictionary.get_format-107"><span class="linenos">107</span></a>
</span><span id="Dictionary.get_format-108"><a href="#Dictionary.get_format-108"><span class="linenos">108</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary.get_format-109"><a href="#Dictionary.get_format-109"><span class="linenos">109</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_FORMAT_INDEX</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return the FORMAT field of the dictionary record.</p>

<p>Args:
    record_id (str or DynArray): the record id of the dictionary file.</p>

<p>Returns:
    DynArray: the value of the FORMAT field.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Dictionary.set_format" class="classattr">
                                        <input id="Dictionary.set_format-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_format</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span>, </span><span class="param"><span class="n">format_code</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Dictionary.set_format-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dictionary.set_format"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dictionary.set_format-111"><a href="#Dictionary.set_format-111"><span class="linenos">111</span></a>    <span class="k">def</span> <span class="nf">set_format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">format_code</span><span class="p">):</span>
</span><span id="Dictionary.set_format-112"><a href="#Dictionary.set_format-112"><span class="linenos">112</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the FORMAT field of the dictionary record.</span>
</span><span id="Dictionary.set_format-113"><a href="#Dictionary.set_format-113"><span class="linenos">113</span></a>
</span><span id="Dictionary.set_format-114"><a href="#Dictionary.set_format-114"><span class="linenos">114</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary.set_format-115"><a href="#Dictionary.set_format-115"><span class="linenos">115</span></a><span class="sd">             record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary.set_format-116"><a href="#Dictionary.set_format-116"><span class="linenos">116</span></a><span class="sd">             format_code (str or DynArray): the value of the FORMAT field.</span>
</span><span id="Dictionary.set_format-117"><a href="#Dictionary.set_format-117"><span class="linenos">117</span></a>
</span><span id="Dictionary.set_format-118"><a href="#Dictionary.set_format-118"><span class="linenos">118</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary.set_format-119"><a href="#Dictionary.set_format-119"><span class="linenos">119</span></a><span class="sd">             None</span>
</span><span id="Dictionary.set_format-120"><a href="#Dictionary.set_format-120"><span class="linenos">120</span></a>
</span><span id="Dictionary.set_format-121"><a href="#Dictionary.set_format-121"><span class="linenos">121</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary.set_format-122"><a href="#Dictionary.set_format-122"><span class="linenos">122</span></a><span class="sd">             UOError</span>
</span><span id="Dictionary.set_format-123"><a href="#Dictionary.set_format-123"><span class="linenos">123</span></a>
</span><span id="Dictionary.set_format-124"><a href="#Dictionary.set_format-124"><span class="linenos">124</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary.set_format-125"><a href="#Dictionary.set_format-125"><span class="linenos">125</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_FORMAT_INDEX</span><span class="p">,</span> <span class="n">format_code</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set the FORMAT field of the dictionary record.</p>

<p>Args:
     record_id (str or DynArray): the record id of the dictionary file.
     format_code (str or DynArray): the value of the FORMAT field.</p>

<p>Returns:
     None</p>

<p>Raises:
     UOError</p>
</div>


                            </div>
                            <div id="Dictionary.get_loc" class="classattr">
                                        <input id="Dictionary.get_loc-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_loc</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Dictionary.get_loc-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dictionary.get_loc"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dictionary.get_loc-127"><a href="#Dictionary.get_loc-127"><span class="linenos">127</span></a>    <span class="k">def</span> <span class="nf">get_loc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">):</span>
</span><span id="Dictionary.get_loc-128"><a href="#Dictionary.get_loc-128"><span class="linenos">128</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the LOC field of the dictionary record.</span>
</span><span id="Dictionary.get_loc-129"><a href="#Dictionary.get_loc-129"><span class="linenos">129</span></a>
</span><span id="Dictionary.get_loc-130"><a href="#Dictionary.get_loc-130"><span class="linenos">130</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary.get_loc-131"><a href="#Dictionary.get_loc-131"><span class="linenos">131</span></a><span class="sd">            record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary.get_loc-132"><a href="#Dictionary.get_loc-132"><span class="linenos">132</span></a>
</span><span id="Dictionary.get_loc-133"><a href="#Dictionary.get_loc-133"><span class="linenos">133</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary.get_loc-134"><a href="#Dictionary.get_loc-134"><span class="linenos">134</span></a><span class="sd">            DynArray: the value of the LOC field.</span>
</span><span id="Dictionary.get_loc-135"><a href="#Dictionary.get_loc-135"><span class="linenos">135</span></a>
</span><span id="Dictionary.get_loc-136"><a href="#Dictionary.get_loc-136"><span class="linenos">136</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary.get_loc-137"><a href="#Dictionary.get_loc-137"><span class="linenos">137</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary.get_loc-138"><a href="#Dictionary.get_loc-138"><span class="linenos">138</span></a>
</span><span id="Dictionary.get_loc-139"><a href="#Dictionary.get_loc-139"><span class="linenos">139</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary.get_loc-140"><a href="#Dictionary.get_loc-140"><span class="linenos">140</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_LOC_INDEX</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return the LOC field of the dictionary record.</p>

<p>Args:
    record_id (str or DynArray): the record id of the dictionary file.</p>

<p>Returns:
    DynArray: the value of the LOC field.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Dictionary.set_loc" class="classattr">
                                        <input id="Dictionary.set_loc-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_loc</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span>, </span><span class="param"><span class="n">loc</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Dictionary.set_loc-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dictionary.set_loc"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dictionary.set_loc-142"><a href="#Dictionary.set_loc-142"><span class="linenos">142</span></a>    <span class="k">def</span> <span class="nf">set_loc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">loc</span><span class="p">):</span>
</span><span id="Dictionary.set_loc-143"><a href="#Dictionary.set_loc-143"><span class="linenos">143</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the LOC field of the dictionary record.</span>
</span><span id="Dictionary.set_loc-144"><a href="#Dictionary.set_loc-144"><span class="linenos">144</span></a>
</span><span id="Dictionary.set_loc-145"><a href="#Dictionary.set_loc-145"><span class="linenos">145</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary.set_loc-146"><a href="#Dictionary.set_loc-146"><span class="linenos">146</span></a><span class="sd">             record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary.set_loc-147"><a href="#Dictionary.set_loc-147"><span class="linenos">147</span></a><span class="sd">             loc (str or DynArray): the value of the LOC field.</span>
</span><span id="Dictionary.set_loc-148"><a href="#Dictionary.set_loc-148"><span class="linenos">148</span></a>
</span><span id="Dictionary.set_loc-149"><a href="#Dictionary.set_loc-149"><span class="linenos">149</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary.set_loc-150"><a href="#Dictionary.set_loc-150"><span class="linenos">150</span></a><span class="sd">             None</span>
</span><span id="Dictionary.set_loc-151"><a href="#Dictionary.set_loc-151"><span class="linenos">151</span></a>
</span><span id="Dictionary.set_loc-152"><a href="#Dictionary.set_loc-152"><span class="linenos">152</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary.set_loc-153"><a href="#Dictionary.set_loc-153"><span class="linenos">153</span></a><span class="sd">             UOError</span>
</span><span id="Dictionary.set_loc-154"><a href="#Dictionary.set_loc-154"><span class="linenos">154</span></a>
</span><span id="Dictionary.set_loc-155"><a href="#Dictionary.set_loc-155"><span class="linenos">155</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary.set_loc-156"><a href="#Dictionary.set_loc-156"><span class="linenos">156</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_LOC_INDEX</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set the LOC field of the dictionary record.</p>

<p>Args:
     record_id (str or DynArray): the record id of the dictionary file.
     loc (str or DynArray): the value of the LOC field.</p>

<p>Returns:
     None</p>

<p>Raises:
     UOError</p>
</div>


                            </div>
                            <div id="Dictionary.get_name" class="classattr">
                                        <input id="Dictionary.get_name-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_name</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Dictionary.get_name-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dictionary.get_name"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dictionary.get_name-158"><a href="#Dictionary.get_name-158"><span class="linenos">158</span></a>    <span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">):</span>
</span><span id="Dictionary.get_name-159"><a href="#Dictionary.get_name-159"><span class="linenos">159</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the NAME field of the dictionary record.</span>
</span><span id="Dictionary.get_name-160"><a href="#Dictionary.get_name-160"><span class="linenos">160</span></a>
</span><span id="Dictionary.get_name-161"><a href="#Dictionary.get_name-161"><span class="linenos">161</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary.get_name-162"><a href="#Dictionary.get_name-162"><span class="linenos">162</span></a><span class="sd">            record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary.get_name-163"><a href="#Dictionary.get_name-163"><span class="linenos">163</span></a>
</span><span id="Dictionary.get_name-164"><a href="#Dictionary.get_name-164"><span class="linenos">164</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary.get_name-165"><a href="#Dictionary.get_name-165"><span class="linenos">165</span></a><span class="sd">            DynArray: the value of the NAME field.</span>
</span><span id="Dictionary.get_name-166"><a href="#Dictionary.get_name-166"><span class="linenos">166</span></a>
</span><span id="Dictionary.get_name-167"><a href="#Dictionary.get_name-167"><span class="linenos">167</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary.get_name-168"><a href="#Dictionary.get_name-168"><span class="linenos">168</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary.get_name-169"><a href="#Dictionary.get_name-169"><span class="linenos">169</span></a>
</span><span id="Dictionary.get_name-170"><a href="#Dictionary.get_name-170"><span class="linenos">170</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary.get_name-171"><a href="#Dictionary.get_name-171"><span class="linenos">171</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_NAME_INDEX</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return the NAME field of the dictionary record.</p>

<p>Args:
    record_id (str or DynArray): the record id of the dictionary file.</p>

<p>Returns:
    DynArray: the value of the NAME field.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Dictionary.set_name" class="classattr">
                                        <input id="Dictionary.set_name-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_name</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span>, </span><span class="param"><span class="n">name</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Dictionary.set_name-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dictionary.set_name"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dictionary.set_name-173"><a href="#Dictionary.set_name-173"><span class="linenos">173</span></a>    <span class="k">def</span> <span class="nf">set_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="Dictionary.set_name-174"><a href="#Dictionary.set_name-174"><span class="linenos">174</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the NAME field of the dictionary record.</span>
</span><span id="Dictionary.set_name-175"><a href="#Dictionary.set_name-175"><span class="linenos">175</span></a>
</span><span id="Dictionary.set_name-176"><a href="#Dictionary.set_name-176"><span class="linenos">176</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary.set_name-177"><a href="#Dictionary.set_name-177"><span class="linenos">177</span></a><span class="sd">             record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary.set_name-178"><a href="#Dictionary.set_name-178"><span class="linenos">178</span></a><span class="sd">             name (str or DynArray): the value of the NAME field.</span>
</span><span id="Dictionary.set_name-179"><a href="#Dictionary.set_name-179"><span class="linenos">179</span></a>
</span><span id="Dictionary.set_name-180"><a href="#Dictionary.set_name-180"><span class="linenos">180</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary.set_name-181"><a href="#Dictionary.set_name-181"><span class="linenos">181</span></a><span class="sd">             None</span>
</span><span id="Dictionary.set_name-182"><a href="#Dictionary.set_name-182"><span class="linenos">182</span></a>
</span><span id="Dictionary.set_name-183"><a href="#Dictionary.set_name-183"><span class="linenos">183</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary.set_name-184"><a href="#Dictionary.set_name-184"><span class="linenos">184</span></a><span class="sd">             UOError</span>
</span><span id="Dictionary.set_name-185"><a href="#Dictionary.set_name-185"><span class="linenos">185</span></a>
</span><span id="Dictionary.set_name-186"><a href="#Dictionary.set_name-186"><span class="linenos">186</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary.set_name-187"><a href="#Dictionary.set_name-187"><span class="linenos">187</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_NAME_INDEX</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set the NAME field of the dictionary record.</p>

<p>Args:
     record_id (str or DynArray): the record id of the dictionary file.
     name (str or DynArray): the value of the NAME field.</p>

<p>Returns:
     None</p>

<p>Raises:
     UOError</p>
</div>


                            </div>
                            <div id="Dictionary.get_sm" class="classattr">
                                        <input id="Dictionary.get_sm-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_sm</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Dictionary.get_sm-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dictionary.get_sm"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dictionary.get_sm-189"><a href="#Dictionary.get_sm-189"><span class="linenos">189</span></a>    <span class="k">def</span> <span class="nf">get_sm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">):</span>
</span><span id="Dictionary.get_sm-190"><a href="#Dictionary.get_sm-190"><span class="linenos">190</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the SM field of the dictionary record.</span>
</span><span id="Dictionary.get_sm-191"><a href="#Dictionary.get_sm-191"><span class="linenos">191</span></a>
</span><span id="Dictionary.get_sm-192"><a href="#Dictionary.get_sm-192"><span class="linenos">192</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary.get_sm-193"><a href="#Dictionary.get_sm-193"><span class="linenos">193</span></a><span class="sd">            record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary.get_sm-194"><a href="#Dictionary.get_sm-194"><span class="linenos">194</span></a>
</span><span id="Dictionary.get_sm-195"><a href="#Dictionary.get_sm-195"><span class="linenos">195</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary.get_sm-196"><a href="#Dictionary.get_sm-196"><span class="linenos">196</span></a><span class="sd">            DynArray: the value of the SM field.</span>
</span><span id="Dictionary.get_sm-197"><a href="#Dictionary.get_sm-197"><span class="linenos">197</span></a>
</span><span id="Dictionary.get_sm-198"><a href="#Dictionary.get_sm-198"><span class="linenos">198</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary.get_sm-199"><a href="#Dictionary.get_sm-199"><span class="linenos">199</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary.get_sm-200"><a href="#Dictionary.get_sm-200"><span class="linenos">200</span></a>
</span><span id="Dictionary.get_sm-201"><a href="#Dictionary.get_sm-201"><span class="linenos">201</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary.get_sm-202"><a href="#Dictionary.get_sm-202"><span class="linenos">202</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_SM_INDEX</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return the SM field of the dictionary record.</p>

<p>Args:
    record_id (str or DynArray): the record id of the dictionary file.</p>

<p>Returns:
    DynArray: the value of the SM field.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Dictionary.set_sm" class="classattr">
                                        <input id="Dictionary.set_sm-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_sm</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span>, </span><span class="param"><span class="n">sm</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Dictionary.set_sm-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dictionary.set_sm"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dictionary.set_sm-204"><a href="#Dictionary.set_sm-204"><span class="linenos">204</span></a>    <span class="k">def</span> <span class="nf">set_sm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">sm</span><span class="p">):</span>
</span><span id="Dictionary.set_sm-205"><a href="#Dictionary.set_sm-205"><span class="linenos">205</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the SM field of the dictionary record.</span>
</span><span id="Dictionary.set_sm-206"><a href="#Dictionary.set_sm-206"><span class="linenos">206</span></a>
</span><span id="Dictionary.set_sm-207"><a href="#Dictionary.set_sm-207"><span class="linenos">207</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary.set_sm-208"><a href="#Dictionary.set_sm-208"><span class="linenos">208</span></a><span class="sd">             record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary.set_sm-209"><a href="#Dictionary.set_sm-209"><span class="linenos">209</span></a><span class="sd">             sm (str or DynArray): the value of the SM field.</span>
</span><span id="Dictionary.set_sm-210"><a href="#Dictionary.set_sm-210"><span class="linenos">210</span></a>
</span><span id="Dictionary.set_sm-211"><a href="#Dictionary.set_sm-211"><span class="linenos">211</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary.set_sm-212"><a href="#Dictionary.set_sm-212"><span class="linenos">212</span></a><span class="sd">             None</span>
</span><span id="Dictionary.set_sm-213"><a href="#Dictionary.set_sm-213"><span class="linenos">213</span></a>
</span><span id="Dictionary.set_sm-214"><a href="#Dictionary.set_sm-214"><span class="linenos">214</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary.set_sm-215"><a href="#Dictionary.set_sm-215"><span class="linenos">215</span></a><span class="sd">             UOError</span>
</span><span id="Dictionary.set_sm-216"><a href="#Dictionary.set_sm-216"><span class="linenos">216</span></a>
</span><span id="Dictionary.set_sm-217"><a href="#Dictionary.set_sm-217"><span class="linenos">217</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary.set_sm-218"><a href="#Dictionary.set_sm-218"><span class="linenos">218</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_SM_INDEX</span><span class="p">,</span> <span class="n">sm</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set the SM field of the dictionary record.</p>

<p>Args:
     record_id (str or DynArray): the record id of the dictionary file.
     sm (str or DynArray): the value of the SM field.</p>

<p>Returns:
     None</p>

<p>Raises:
     UOError</p>
</div>


                            </div>
                            <div id="Dictionary.get_sql_type" class="classattr">
                                        <input id="Dictionary.get_sql_type-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_sql_type</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Dictionary.get_sql_type-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dictionary.get_sql_type"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dictionary.get_sql_type-220"><a href="#Dictionary.get_sql_type-220"><span class="linenos">220</span></a>    <span class="k">def</span> <span class="nf">get_sql_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">):</span>
</span><span id="Dictionary.get_sql_type-221"><a href="#Dictionary.get_sql_type-221"><span class="linenos">221</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the SQLType field of the dictionary record.</span>
</span><span id="Dictionary.get_sql_type-222"><a href="#Dictionary.get_sql_type-222"><span class="linenos">222</span></a>
</span><span id="Dictionary.get_sql_type-223"><a href="#Dictionary.get_sql_type-223"><span class="linenos">223</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary.get_sql_type-224"><a href="#Dictionary.get_sql_type-224"><span class="linenos">224</span></a><span class="sd">            record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary.get_sql_type-225"><a href="#Dictionary.get_sql_type-225"><span class="linenos">225</span></a>
</span><span id="Dictionary.get_sql_type-226"><a href="#Dictionary.get_sql_type-226"><span class="linenos">226</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary.get_sql_type-227"><a href="#Dictionary.get_sql_type-227"><span class="linenos">227</span></a><span class="sd">            DynArray: the value of the SQLType field.</span>
</span><span id="Dictionary.get_sql_type-228"><a href="#Dictionary.get_sql_type-228"><span class="linenos">228</span></a>
</span><span id="Dictionary.get_sql_type-229"><a href="#Dictionary.get_sql_type-229"><span class="linenos">229</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary.get_sql_type-230"><a href="#Dictionary.get_sql_type-230"><span class="linenos">230</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary.get_sql_type-231"><a href="#Dictionary.get_sql_type-231"><span class="linenos">231</span></a>
</span><span id="Dictionary.get_sql_type-232"><a href="#Dictionary.get_sql_type-232"><span class="linenos">232</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary.get_sql_type-233"><a href="#Dictionary.get_sql_type-233"><span class="linenos">233</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_SQLTYPE_INDEX</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return the SQLType field of the dictionary record.</p>

<p>Args:
    record_id (str or DynArray): the record id of the dictionary file.</p>

<p>Returns:
    DynArray: the value of the SQLType field.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Dictionary.set_sql_type" class="classattr">
                                        <input id="Dictionary.set_sql_type-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_sql_type</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span>, </span><span class="param"><span class="n">sql_type</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Dictionary.set_sql_type-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dictionary.set_sql_type"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dictionary.set_sql_type-235"><a href="#Dictionary.set_sql_type-235"><span class="linenos">235</span></a>    <span class="k">def</span> <span class="nf">set_sql_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">sql_type</span><span class="p">):</span>
</span><span id="Dictionary.set_sql_type-236"><a href="#Dictionary.set_sql_type-236"><span class="linenos">236</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the SQLType field of the dictionary record.</span>
</span><span id="Dictionary.set_sql_type-237"><a href="#Dictionary.set_sql_type-237"><span class="linenos">237</span></a>
</span><span id="Dictionary.set_sql_type-238"><a href="#Dictionary.set_sql_type-238"><span class="linenos">238</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary.set_sql_type-239"><a href="#Dictionary.set_sql_type-239"><span class="linenos">239</span></a><span class="sd">             record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary.set_sql_type-240"><a href="#Dictionary.set_sql_type-240"><span class="linenos">240</span></a><span class="sd">             sql_type (str or DynArray): the value of the SQLType field.</span>
</span><span id="Dictionary.set_sql_type-241"><a href="#Dictionary.set_sql_type-241"><span class="linenos">241</span></a>
</span><span id="Dictionary.set_sql_type-242"><a href="#Dictionary.set_sql_type-242"><span class="linenos">242</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary.set_sql_type-243"><a href="#Dictionary.set_sql_type-243"><span class="linenos">243</span></a><span class="sd">             None</span>
</span><span id="Dictionary.set_sql_type-244"><a href="#Dictionary.set_sql_type-244"><span class="linenos">244</span></a>
</span><span id="Dictionary.set_sql_type-245"><a href="#Dictionary.set_sql_type-245"><span class="linenos">245</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary.set_sql_type-246"><a href="#Dictionary.set_sql_type-246"><span class="linenos">246</span></a><span class="sd">             UOError</span>
</span><span id="Dictionary.set_sql_type-247"><a href="#Dictionary.set_sql_type-247"><span class="linenos">247</span></a>
</span><span id="Dictionary.set_sql_type-248"><a href="#Dictionary.set_sql_type-248"><span class="linenos">248</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary.set_sql_type-249"><a href="#Dictionary.set_sql_type-249"><span class="linenos">249</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_SQLTYPE_INDEX</span><span class="p">,</span> <span class="n">sql_type</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set the SQLType field of the dictionary record.</p>

<p>Args:
     record_id (str or DynArray): the record id of the dictionary file.
     sql_type (str or DynArray): the value of the SQLType field.</p>

<p>Returns:
     None</p>

<p>Raises:
     UOError</p>
</div>


                            </div>
                            <div id="Dictionary.get_type" class="classattr">
                                        <input id="Dictionary.get_type-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_type</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Dictionary.get_type-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dictionary.get_type"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dictionary.get_type-251"><a href="#Dictionary.get_type-251"><span class="linenos">251</span></a>    <span class="k">def</span> <span class="nf">get_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">):</span>
</span><span id="Dictionary.get_type-252"><a href="#Dictionary.get_type-252"><span class="linenos">252</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the TYPE field of the dictionary record.</span>
</span><span id="Dictionary.get_type-253"><a href="#Dictionary.get_type-253"><span class="linenos">253</span></a>
</span><span id="Dictionary.get_type-254"><a href="#Dictionary.get_type-254"><span class="linenos">254</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary.get_type-255"><a href="#Dictionary.get_type-255"><span class="linenos">255</span></a><span class="sd">            record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary.get_type-256"><a href="#Dictionary.get_type-256"><span class="linenos">256</span></a>
</span><span id="Dictionary.get_type-257"><a href="#Dictionary.get_type-257"><span class="linenos">257</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary.get_type-258"><a href="#Dictionary.get_type-258"><span class="linenos">258</span></a><span class="sd">            DynArray: the value of the TYPE field.</span>
</span><span id="Dictionary.get_type-259"><a href="#Dictionary.get_type-259"><span class="linenos">259</span></a>
</span><span id="Dictionary.get_type-260"><a href="#Dictionary.get_type-260"><span class="linenos">260</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary.get_type-261"><a href="#Dictionary.get_type-261"><span class="linenos">261</span></a><span class="sd">            UOError</span>
</span><span id="Dictionary.get_type-262"><a href="#Dictionary.get_type-262"><span class="linenos">262</span></a>
</span><span id="Dictionary.get_type-263"><a href="#Dictionary.get_type-263"><span class="linenos">263</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary.get_type-264"><a href="#Dictionary.get_type-264"><span class="linenos">264</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_TYPE_INDEX</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return the TYPE field of the dictionary record.</p>

<p>Args:
    record_id (str or DynArray): the record id of the dictionary file.</p>

<p>Returns:
    DynArray: the value of the TYPE field.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Dictionary.set_type" class="classattr">
                                        <input id="Dictionary.set_type-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_type</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">record_id</span>, </span><span class="param"><span class="n">field_type</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Dictionary.set_type-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dictionary.set_type"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dictionary.set_type-266"><a href="#Dictionary.set_type-266"><span class="linenos">266</span></a>    <span class="k">def</span> <span class="nf">set_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id</span><span class="p">,</span> <span class="n">field_type</span><span class="p">):</span>
</span><span id="Dictionary.set_type-267"><a href="#Dictionary.set_type-267"><span class="linenos">267</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the TYPE field of the dictionary record.</span>
</span><span id="Dictionary.set_type-268"><a href="#Dictionary.set_type-268"><span class="linenos">268</span></a>
</span><span id="Dictionary.set_type-269"><a href="#Dictionary.set_type-269"><span class="linenos">269</span></a><span class="sd">        Args:</span>
</span><span id="Dictionary.set_type-270"><a href="#Dictionary.set_type-270"><span class="linenos">270</span></a><span class="sd">             record_id (str or DynArray): the record id of the dictionary file.</span>
</span><span id="Dictionary.set_type-271"><a href="#Dictionary.set_type-271"><span class="linenos">271</span></a><span class="sd">             field_type (str or DynArray): the value of the TYPE field.</span>
</span><span id="Dictionary.set_type-272"><a href="#Dictionary.set_type-272"><span class="linenos">272</span></a>
</span><span id="Dictionary.set_type-273"><a href="#Dictionary.set_type-273"><span class="linenos">273</span></a><span class="sd">        Returns:</span>
</span><span id="Dictionary.set_type-274"><a href="#Dictionary.set_type-274"><span class="linenos">274</span></a><span class="sd">             None</span>
</span><span id="Dictionary.set_type-275"><a href="#Dictionary.set_type-275"><span class="linenos">275</span></a>
</span><span id="Dictionary.set_type-276"><a href="#Dictionary.set_type-276"><span class="linenos">276</span></a><span class="sd">        Raises:</span>
</span><span id="Dictionary.set_type-277"><a href="#Dictionary.set_type-277"><span class="linenos">277</span></a><span class="sd">             UOError</span>
</span><span id="Dictionary.set_type-278"><a href="#Dictionary.set_type-278"><span class="linenos">278</span></a>
</span><span id="Dictionary.set_type-279"><a href="#Dictionary.set_type-279"><span class="linenos">279</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dictionary.set_type-280"><a href="#Dictionary.set_type-280"><span class="linenos">280</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">write_field</span><span class="p">(</span><span class="n">record_id</span><span class="p">,</span> <span class="n">_DICT_TYPE_INDEX</span><span class="p">,</span> <span class="n">field_type</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set the TYPE field of the dictionary record.</p>

<p>Args:
     record_id (str or DynArray): the record id of the dictionary file.
     field_type (str or DynArray): the value of the TYPE field.</p>

<p>Returns:
     None</p>

<p>Raises:
     UOError</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#File">File</a></dt>
                                <dd id="Dictionary.handle" class="variable"><a href="#File.handle">handle</a></dd>
                <dd id="Dictionary.status" class="variable"><a href="#File.status">status</a></dd>
                <dd id="Dictionary.is_opened" class="variable"><a href="#File.is_opened">is_opened</a></dd>
                <dd id="Dictionary.open" class="function"><a href="#File.open">open</a></dd>
                <dd id="Dictionary.clear" class="function"><a href="#File.clear">clear</a></dd>
                <dd id="Dictionary.close" class="function"><a href="#File.close">close</a></dd>
                <dd id="Dictionary.delete" class="function"><a href="#File.delete">delete</a></dd>
                <dd id="Dictionary.read" class="function"><a href="#File.read">read</a></dd>
                <dd id="Dictionary.write" class="function"><a href="#File.write">write</a></dd>
                <dd id="Dictionary.read_field" class="function"><a href="#File.read_field">read_field</a></dd>
                <dd id="Dictionary.write_field" class="function"><a href="#File.write_field">write_field</a></dd>
                <dd id="Dictionary.lock_file" class="function"><a href="#File.lock_file">lock_file</a></dd>
                <dd id="Dictionary.unlock_file" class="function"><a href="#File.unlock_file">unlock_file</a></dd>
                <dd id="Dictionary.lock" class="function"><a href="#File.lock">lock</a></dd>
                <dd id="Dictionary.unlock" class="function"><a href="#File.unlock">unlock</a></dd>
                <dd id="Dictionary.is_locked" class="function"><a href="#File.is_locked">is_locked</a></dd>
                <dd id="Dictionary.get_ak_info" class="function"><a href="#File.get_ak_info">get_ak_info</a></dd>
                <dd id="Dictionary.itype" class="function"><a href="#File.itype">itype</a></dd>
                <dd id="Dictionary.read_named_fields" class="function"><a href="#File.read_named_fields">read_named_fields</a></dd>
                <dd id="Dictionary.write_named_fields" class="function"><a href="#File.write_named_fields">write_named_fields</a></dd>
                <dd id="Dictionary.read_records" class="function"><a href="#File.read_records">read_records</a></dd>
                <dd id="Dictionary.write_records" class="function"><a href="#File.write_records">write_records</a></dd>
                <dd id="Dictionary.fileInfoEx" class="function"><a href="#File.fileInfoEx">fileInfoEx</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="List">
                            <input id="List-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">List</span><wbr>(<span class="base">uopy._uniobject.UniObject</span>):

                <label class="view-source-button" for="List-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#List"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="List-19"><a href="#List-19"><span class="linenos"> 19</span></a><span class="k">class</span> <span class="nc">List</span><span class="p">(</span><span class="n">UniObject</span><span class="p">):</span>
</span><span id="List-20"><a href="#List-20"><span class="linenos"> 20</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;List is used to control, access, and manipulate server side select lists.</span>
</span><span id="List-21"><a href="#List-21"><span class="linenos"> 21</span></a>
</span><span id="List-22"><a href="#List-22"><span class="linenos"> 22</span></a><span class="sd">    List is iterable - the iterator returns a DynArray object representing a record id.</span>
</span><span id="List-23"><a href="#List-23"><span class="linenos"> 23</span></a><span class="sd">    The iteration can be run only once until the select list is exhausted - subsequent iteration yields nothing.</span>
</span><span id="List-24"><a href="#List-24"><span class="linenos"> 24</span></a>
</span><span id="List-25"><a href="#List-25"><span class="linenos"> 25</span></a><span class="sd">    Examples:</span>
</span><span id="List-26"><a href="#List-26"><span class="linenos"> 26</span></a><span class="sd">        &gt;&gt;&gt; cmd = Command(&quot;SELECT VOC WITH F1 = &#39;V&#39;&quot;)</span>
</span><span id="List-27"><a href="#List-27"><span class="linenos"> 27</span></a><span class="sd">        &gt;&gt;&gt; cmd.run()</span>
</span><span id="List-28"><a href="#List-28"><span class="linenos"> 28</span></a><span class="sd">        &gt;&gt;&gt; select_list = List() # default is select list 0</span>
</span><span id="List-29"><a href="#List-29"><span class="linenos"> 29</span></a><span class="sd">        &gt;&gt;&gt; ids = select_list.read_list()</span>
</span><span id="List-30"><a href="#List-30"><span class="linenos"> 30</span></a><span class="sd">        &gt;&gt;&gt; print(ids[:5])</span>
</span><span id="List-31"><a href="#List-31"><span class="linenos"> 31</span></a><span class="sd">        [&#39;LOAD.LANG&#39;, &#39;BEGIN.WORK&#39;, &#39;CLEARSELECT&#39;, &#39;RELEASE.ITEMS&#39;, &#39;SET.WIDEZERO&#39;]</span>
</span><span id="List-32"><a href="#List-32"><span class="linenos"> 32</span></a>
</span><span id="List-33"><a href="#List-33"><span class="linenos"> 33</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="List-34"><a href="#List-34"><span class="linenos"> 34</span></a>
</span><span id="List-35"><a href="#List-35"><span class="linenos"> 35</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">list_no</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">session</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="List-36"><a href="#List-36"><span class="linenos"> 36</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes a new List object.</span>
</span><span id="List-37"><a href="#List-37"><span class="linenos"> 37</span></a>
</span><span id="List-38"><a href="#List-38"><span class="linenos"> 38</span></a><span class="sd">        Args:</span>
</span><span id="List-39"><a href="#List-39"><span class="linenos"> 39</span></a><span class="sd">            list_no (int, optional): select list number (default is 0).</span>
</span><span id="List-40"><a href="#List-40"><span class="linenos"> 40</span></a><span class="sd">            session (Session, optional): the Session object that the List object is bound to.</span>
</span><span id="List-41"><a href="#List-41"><span class="linenos"> 41</span></a><span class="sd">                If omitted, the last opened Session in the current thread will be used.</span>
</span><span id="List-42"><a href="#List-42"><span class="linenos"> 42</span></a>
</span><span id="List-43"><a href="#List-43"><span class="linenos"> 43</span></a><span class="sd">        Raises:</span>
</span><span id="List-44"><a href="#List-44"><span class="linenos"> 44</span></a><span class="sd">            UOError</span>
</span><span id="List-45"><a href="#List-45"><span class="linenos"> 45</span></a>
</span><span id="List-46"><a href="#List-46"><span class="linenos"> 46</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="List-47"><a href="#List-47"><span class="linenos"> 47</span></a>        <span class="k">if</span> <span class="n">list_no</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">list_no</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
</span><span id="List-48"><a href="#List-48"><span class="linenos"> 48</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_EINVAL</span><span class="p">)</span>
</span><span id="List-49"><a href="#List-49"><span class="linenos"> 49</span></a>
</span><span id="List-50"><a href="#List-50"><span class="linenos"> 50</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</span><span id="List-51"><a href="#List-51"><span class="linenos"> 51</span></a>
</span><span id="List-52"><a href="#List-52"><span class="linenos"> 52</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span> <span class="o">=</span> <span class="n">list_no</span>
</span><span id="List-53"><a href="#List-53"><span class="linenos"> 53</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="List-54"><a href="#List-54"><span class="linenos"> 54</span></a>
</span><span id="List-55"><a href="#List-55"><span class="linenos"> 55</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="List-56"><a href="#List-56"><span class="linenos"> 56</span></a>        <span class="n">format_string</span> <span class="o">=</span> <span class="s2">&quot;&lt;</span><span class="si">{}</span><span class="s2"> object </span><span class="si">{}</span><span class="s2"> at 0x</span><span class="si">{:016X}</span><span class="s2">&gt;&quot;</span>
</span><span id="List-57"><a href="#List-57"><span class="linenos"> 57</span></a>        <span class="n">details</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;list no&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">}</span>
</span><span id="List-58"><a href="#List-58"><span class="linenos"> 58</span></a>        <span class="k">return</span> <span class="n">format_string</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
</span><span id="List-59"><a href="#List-59"><span class="linenos"> 59</span></a>            <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">List</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span> <span class="n">List</span><span class="o">.</span><span class="vm">__qualname__</span><span class="p">]),</span> <span class="n">details</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="List-60"><a href="#List-60"><span class="linenos"> 60</span></a>        <span class="p">)</span>
</span><span id="List-61"><a href="#List-61"><span class="linenos"> 61</span></a>
</span><span id="List-62"><a href="#List-62"><span class="linenos"> 62</span></a>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="List-63"><a href="#List-63"><span class="linenos"> 63</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="List-64"><a href="#List-64"><span class="linenos"> 64</span></a>
</span><span id="List-65"><a href="#List-65"><span class="linenos"> 65</span></a>    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="List-66"><a href="#List-66"><span class="linenos"> 66</span></a>        <span class="n">next_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
</span><span id="List-67"><a href="#List-67"><span class="linenos"> 67</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span><span class="p">:</span>
</span><span id="List-68"><a href="#List-68"><span class="linenos"> 68</span></a>            <span class="k">raise</span> <span class="ne">StopIteration</span><span class="p">()</span>
</span><span id="List-69"><a href="#List-69"><span class="linenos"> 69</span></a>        <span class="k">return</span> <span class="n">next_id</span>
</span><span id="List-70"><a href="#List-70"><span class="linenos"> 70</span></a>
</span><span id="List-71"><a href="#List-71"><span class="linenos"> 71</span></a>    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_obj</span><span class="p">:</span> <span class="n">File</span><span class="p">):</span>
</span><span id="List-72"><a href="#List-72"><span class="linenos"> 72</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new select list by selecting the File object and generating a select list of</span>
</span><span id="List-73"><a href="#List-73"><span class="linenos"> 73</span></a><span class="sd">        all the record ids from that file. It will overwrite the previous select list and the select</span>
</span><span id="List-74"><a href="#List-74"><span class="linenos"> 74</span></a><span class="sd">        list pointer will be reset to the first record id in the list.</span>
</span><span id="List-75"><a href="#List-75"><span class="linenos"> 75</span></a>
</span><span id="List-76"><a href="#List-76"><span class="linenos"> 76</span></a><span class="sd">        Args:</span>
</span><span id="List-77"><a href="#List-77"><span class="linenos"> 77</span></a><span class="sd">            file_obj: File or Dictionary object to be selected.</span>
</span><span id="List-78"><a href="#List-78"><span class="linenos"> 78</span></a>
</span><span id="List-79"><a href="#List-79"><span class="linenos"> 79</span></a><span class="sd">        Returns:</span>
</span><span id="List-80"><a href="#List-80"><span class="linenos"> 80</span></a>
</span><span id="List-81"><a href="#List-81"><span class="linenos"> 81</span></a><span class="sd">        Raises:</span>
</span><span id="List-82"><a href="#List-82"><span class="linenos"> 82</span></a><span class="sd">            UOError</span>
</span><span id="List-83"><a href="#List-83"><span class="linenos"> 83</span></a>
</span><span id="List-84"><a href="#List-84"><span class="linenos"> 84</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="List-85"><a href="#List-85"><span class="linenos"> 85</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">,</span> <span class="n">file_obj</span><span class="p">)</span>
</span><span id="List-86"><a href="#List-86"><span class="linenos"> 86</span></a>
</span><span id="List-87"><a href="#List-87"><span class="linenos"> 87</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">file_obj</span><span class="o">.</span><span class="n">is_opened</span><span class="p">:</span>
</span><span id="List-88"><a href="#List-88"><span class="linenos"> 88</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_FILE_NOT_OPEN</span><span class="p">)</span>
</span><span id="List-89"><a href="#List-89"><span class="linenos"> 89</span></a>
</span><span id="List-90"><a href="#List-90"><span class="linenos"> 90</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="List-91"><a href="#List-91"><span class="linenos"> 91</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List-92"><a href="#List-92"><span class="linenos"> 92</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List-93"><a href="#List-93"><span class="linenos"> 93</span></a>
</span><span id="List-94"><a href="#List-94"><span class="linenos"> 94</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_SELECT</span><span class="p">)</span>
</span><span id="List-95"><a href="#List-95"><span class="linenos"> 95</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">file_obj</span><span class="o">.</span><span class="n">handle</span><span class="p">)</span>
</span><span id="List-96"><a href="#List-96"><span class="linenos"> 96</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">)</span>
</span><span id="List-97"><a href="#List-97"><span class="linenos"> 97</span></a>
</span><span id="List-98"><a href="#List-98"><span class="linenos"> 98</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="List-99"><a href="#List-99"><span class="linenos"> 99</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="List-100"><a href="#List-100"><span class="linenos">100</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="List-101"><a href="#List-101"><span class="linenos">101</span></a>
</span><span id="List-102"><a href="#List-102"><span class="linenos">102</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="List-103"><a href="#List-103"><span class="linenos">103</span></a>
</span><span id="List-104"><a href="#List-104"><span class="linenos">104</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="List-105"><a href="#List-105"><span class="linenos">105</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="List-106"><a href="#List-106"><span class="linenos">106</span></a>
</span><span id="List-107"><a href="#List-107"><span class="linenos">107</span></a>    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="List-108"><a href="#List-108"><span class="linenos">108</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Clear the selected list, emptying the contents and preparing for a new select list to be generated.</span>
</span><span id="List-109"><a href="#List-109"><span class="linenos">109</span></a>
</span><span id="List-110"><a href="#List-110"><span class="linenos">110</span></a><span class="sd">        Args:</span>
</span><span id="List-111"><a href="#List-111"><span class="linenos">111</span></a>
</span><span id="List-112"><a href="#List-112"><span class="linenos">112</span></a><span class="sd">        Returns:</span>
</span><span id="List-113"><a href="#List-113"><span class="linenos">113</span></a>
</span><span id="List-114"><a href="#List-114"><span class="linenos">114</span></a><span class="sd">        Raises:</span>
</span><span id="List-115"><a href="#List-115"><span class="linenos">115</span></a><span class="sd">            UOError</span>
</span><span id="List-116"><a href="#List-116"><span class="linenos">116</span></a>
</span><span id="List-117"><a href="#List-117"><span class="linenos">117</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="List-118"><a href="#List-118"><span class="linenos">118</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">)</span>
</span><span id="List-119"><a href="#List-119"><span class="linenos">119</span></a>
</span><span id="List-120"><a href="#List-120"><span class="linenos">120</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="List-121"><a href="#List-121"><span class="linenos">121</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List-122"><a href="#List-122"><span class="linenos">122</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List-123"><a href="#List-123"><span class="linenos">123</span></a>
</span><span id="List-124"><a href="#List-124"><span class="linenos">124</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_CLEARSELECT</span><span class="p">)</span>
</span><span id="List-125"><a href="#List-125"><span class="linenos">125</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">)</span>
</span><span id="List-126"><a href="#List-126"><span class="linenos">126</span></a>
</span><span id="List-127"><a href="#List-127"><span class="linenos">127</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="List-128"><a href="#List-128"><span class="linenos">128</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="List-129"><a href="#List-129"><span class="linenos">129</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="List-130"><a href="#List-130"><span class="linenos">130</span></a>
</span><span id="List-131"><a href="#List-131"><span class="linenos">131</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="List-132"><a href="#List-132"><span class="linenos">132</span></a>
</span><span id="List-133"><a href="#List-133"><span class="linenos">133</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="List-134"><a href="#List-134"><span class="linenos">134</span></a>
</span><span id="List-135"><a href="#List-135"><span class="linenos">135</span></a>    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="List-136"><a href="#List-136"><span class="linenos">136</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the next record ID in the select list.</span>
</span><span id="List-137"><a href="#List-137"><span class="linenos">137</span></a>
</span><span id="List-138"><a href="#List-138"><span class="linenos">138</span></a><span class="sd">        Args:</span>
</span><span id="List-139"><a href="#List-139"><span class="linenos">139</span></a>
</span><span id="List-140"><a href="#List-140"><span class="linenos">140</span></a><span class="sd">        Returns:</span>
</span><span id="List-141"><a href="#List-141"><span class="linenos">141</span></a><span class="sd">            DynArray: The next record id in the select list, or None if exhausted.</span>
</span><span id="List-142"><a href="#List-142"><span class="linenos">142</span></a>
</span><span id="List-143"><a href="#List-143"><span class="linenos">143</span></a><span class="sd">        Raises:</span>
</span><span id="List-144"><a href="#List-144"><span class="linenos">144</span></a><span class="sd">            UOError</span>
</span><span id="List-145"><a href="#List-145"><span class="linenos">145</span></a>
</span><span id="List-146"><a href="#List-146"><span class="linenos">146</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="List-147"><a href="#List-147"><span class="linenos">147</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">)</span>
</span><span id="List-148"><a href="#List-148"><span class="linenos">148</span></a>
</span><span id="List-149"><a href="#List-149"><span class="linenos">149</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span><span class="p">:</span>
</span><span id="List-150"><a href="#List-150"><span class="linenos">150</span></a>            <span class="n">next_id</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="List-151"><a href="#List-151"><span class="linenos">151</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="List-152"><a href="#List-152"><span class="linenos">152</span></a>            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="List-153"><a href="#List-153"><span class="linenos">153</span></a>                <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List-154"><a href="#List-154"><span class="linenos">154</span></a>                <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List-155"><a href="#List-155"><span class="linenos">155</span></a>
</span><span id="List-156"><a href="#List-156"><span class="linenos">156</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_READNEXT</span><span class="p">)</span>
</span><span id="List-157"><a href="#List-157"><span class="linenos">157</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">)</span>
</span><span id="List-158"><a href="#List-158"><span class="linenos">158</span></a>
</span><span id="List-159"><a href="#List-159"><span class="linenos">159</span></a>                <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="List-160"><a href="#List-160"><span class="linenos">160</span></a>
</span><span id="List-161"><a href="#List-161"><span class="linenos">161</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="n">resp_code</span><span class="p">:</span>
</span><span id="List-162"><a href="#List-162"><span class="linenos">162</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="List-163"><a href="#List-163"><span class="linenos">163</span></a>                    <span class="n">next_id</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="List-164"><a href="#List-164"><span class="linenos">164</span></a>                <span class="k">elif</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_LRR</span><span class="p">:</span>
</span><span id="List-165"><a href="#List-165"><span class="linenos">165</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="List-166"><a href="#List-166"><span class="linenos">166</span></a>                    <span class="n">next_id</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="List-167"><a href="#List-167"><span class="linenos">167</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="List-168"><a href="#List-168"><span class="linenos">168</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="List-169"><a href="#List-169"><span class="linenos">169</span></a>
</span><span id="List-170"><a href="#List-170"><span class="linenos">170</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">next_id</span><span class="p">)</span>
</span><span id="List-171"><a href="#List-171"><span class="linenos">171</span></a>        <span class="k">return</span> <span class="n">next_id</span>
</span><span id="List-172"><a href="#List-172"><span class="linenos">172</span></a>
</span><span id="List-173"><a href="#List-173"><span class="linenos">173</span></a>    <span class="k">def</span> <span class="nf">read_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="List-174"><a href="#List-174"><span class="linenos">174</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Read the entire select list back.</span>
</span><span id="List-175"><a href="#List-175"><span class="linenos">175</span></a>
</span><span id="List-176"><a href="#List-176"><span class="linenos">176</span></a><span class="sd">        Args:</span>
</span><span id="List-177"><a href="#List-177"><span class="linenos">177</span></a>
</span><span id="List-178"><a href="#List-178"><span class="linenos">178</span></a><span class="sd">        Returns:</span>
</span><span id="List-179"><a href="#List-179"><span class="linenos">179</span></a><span class="sd">            DynArray: contains all the record ids in the select list.</span>
</span><span id="List-180"><a href="#List-180"><span class="linenos">180</span></a>
</span><span id="List-181"><a href="#List-181"><span class="linenos">181</span></a><span class="sd">        Raises:</span>
</span><span id="List-182"><a href="#List-182"><span class="linenos">182</span></a><span class="sd">            UOError</span>
</span><span id="List-183"><a href="#List-183"><span class="linenos">183</span></a>
</span><span id="List-184"><a href="#List-184"><span class="linenos">184</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="List-185"><a href="#List-185"><span class="linenos">185</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">)</span>
</span><span id="List-186"><a href="#List-186"><span class="linenos">186</span></a>
</span><span id="List-187"><a href="#List-187"><span class="linenos">187</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="List-188"><a href="#List-188"><span class="linenos">188</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List-189"><a href="#List-189"><span class="linenos">189</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List-190"><a href="#List-190"><span class="linenos">190</span></a>
</span><span id="List-191"><a href="#List-191"><span class="linenos">191</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_READLIST</span><span class="p">)</span>
</span><span id="List-192"><a href="#List-192"><span class="linenos">192</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">)</span>
</span><span id="List-193"><a href="#List-193"><span class="linenos">193</span></a>
</span><span id="List-194"><a href="#List-194"><span class="linenos">194</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="List-195"><a href="#List-195"><span class="linenos">195</span></a>
</span><span id="List-196"><a href="#List-196"><span class="linenos">196</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="List-197"><a href="#List-197"><span class="linenos">197</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="List-198"><a href="#List-198"><span class="linenos">198</span></a>                <span class="k">if</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="List-199"><a href="#List-199"><span class="linenos">199</span></a>                    <span class="n">ids</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="List-200"><a href="#List-200"><span class="linenos">200</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="List-201"><a href="#List-201"><span class="linenos">201</span></a>                    <span class="n">ids</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="List-202"><a href="#List-202"><span class="linenos">202</span></a>            <span class="k">elif</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_LRR</span><span class="p">:</span>
</span><span id="List-203"><a href="#List-203"><span class="linenos">203</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="List-204"><a href="#List-204"><span class="linenos">204</span></a>                <span class="n">ids</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="List-205"><a href="#List-205"><span class="linenos">205</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="List-206"><a href="#List-206"><span class="linenos">206</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="List-207"><a href="#List-207"><span class="linenos">207</span></a>
</span><span id="List-208"><a href="#List-208"><span class="linenos">208</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">ids</span><span class="p">)</span>
</span><span id="List-209"><a href="#List-209"><span class="linenos">209</span></a>        <span class="k">return</span> <span class="n">ids</span>
</span><span id="List-210"><a href="#List-210"><span class="linenos">210</span></a>
</span><span id="List-211"><a href="#List-211"><span class="linenos">211</span></a>    <span class="k">def</span> <span class="nf">form_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">):</span>
</span><span id="List-212"><a href="#List-212"><span class="linenos">212</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new select list from the supplied list of record ids.</span>
</span><span id="List-213"><a href="#List-213"><span class="linenos">213</span></a>
</span><span id="List-214"><a href="#List-214"><span class="linenos">214</span></a><span class="sd">        The current select list number will be used as the new list number.</span>
</span><span id="List-215"><a href="#List-215"><span class="linenos">215</span></a>
</span><span id="List-216"><a href="#List-216"><span class="linenos">216</span></a><span class="sd">        Args:</span>
</span><span id="List-217"><a href="#List-217"><span class="linenos">217</span></a><span class="sd">            ids (DynArray or list): A list of record ids.</span>
</span><span id="List-218"><a href="#List-218"><span class="linenos">218</span></a>
</span><span id="List-219"><a href="#List-219"><span class="linenos">219</span></a><span class="sd">        Returns:</span>
</span><span id="List-220"><a href="#List-220"><span class="linenos">220</span></a><span class="sd">            None</span>
</span><span id="List-221"><a href="#List-221"><span class="linenos">221</span></a>
</span><span id="List-222"><a href="#List-222"><span class="linenos">222</span></a><span class="sd">        Raises:</span>
</span><span id="List-223"><a href="#List-223"><span class="linenos">223</span></a><span class="sd">            UOError</span>
</span><span id="List-224"><a href="#List-224"><span class="linenos">224</span></a>
</span><span id="List-225"><a href="#List-225"><span class="linenos">225</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="List-226"><a href="#List-226"><span class="linenos">226</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">,</span> <span class="n">ids</span><span class="p">)</span>
</span><span id="List-227"><a href="#List-227"><span class="linenos">227</span></a>
</span><span id="List-228"><a href="#List-228"><span class="linenos">228</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="List-229"><a href="#List-229"><span class="linenos">229</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List-230"><a href="#List-230"><span class="linenos">230</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List-231"><a href="#List-231"><span class="linenos">231</span></a>
</span><span id="List-232"><a href="#List-232"><span class="linenos">232</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_FORMLIST</span><span class="p">)</span>
</span><span id="List-233"><a href="#List-233"><span class="linenos">233</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">)</span>
</span><span id="List-234"><a href="#List-234"><span class="linenos">234</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">ids</span><span class="p">))</span>
</span><span id="List-235"><a href="#List-235"><span class="linenos">235</span></a>
</span><span id="List-236"><a href="#List-236"><span class="linenos">236</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="List-237"><a href="#List-237"><span class="linenos">237</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="List-238"><a href="#List-238"><span class="linenos">238</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="List-239"><a href="#List-239"><span class="linenos">239</span></a>
</span><span id="List-240"><a href="#List-240"><span class="linenos">240</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="List-241"><a href="#List-241"><span class="linenos">241</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="List-242"><a href="#List-242"><span class="linenos">242</span></a>
</span><span id="List-243"><a href="#List-243"><span class="linenos">243</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="List-244"><a href="#List-244"><span class="linenos">244</span></a>
</span><span id="List-245"><a href="#List-245"><span class="linenos">245</span></a>    <span class="k">def</span> <span class="nf">select_alternate_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_obj</span><span class="p">:</span> <span class="n">File</span><span class="p">,</span> <span class="n">index_name</span><span class="p">):</span>
</span><span id="List-246"><a href="#List-246"><span class="linenos">246</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a select list from the given File based on the specified secondary index.</span>
</span><span id="List-247"><a href="#List-247"><span class="linenos">247</span></a>
</span><span id="List-248"><a href="#List-248"><span class="linenos">248</span></a><span class="sd">        Args:</span>
</span><span id="List-249"><a href="#List-249"><span class="linenos">249</span></a><span class="sd">            file_obj (File): a File or a Dictionary object.</span>
</span><span id="List-250"><a href="#List-250"><span class="linenos">250</span></a><span class="sd">            index_name (str): index name to select on.</span>
</span><span id="List-251"><a href="#List-251"><span class="linenos">251</span></a>
</span><span id="List-252"><a href="#List-252"><span class="linenos">252</span></a><span class="sd">        Returns:</span>
</span><span id="List-253"><a href="#List-253"><span class="linenos">253</span></a><span class="sd">            None</span>
</span><span id="List-254"><a href="#List-254"><span class="linenos">254</span></a>
</span><span id="List-255"><a href="#List-255"><span class="linenos">255</span></a><span class="sd">        Raises:</span>
</span><span id="List-256"><a href="#List-256"><span class="linenos">256</span></a><span class="sd">            UOError</span>
</span><span id="List-257"><a href="#List-257"><span class="linenos">257</span></a>
</span><span id="List-258"><a href="#List-258"><span class="linenos">258</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="List-259"><a href="#List-259"><span class="linenos">259</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_ak_select</span><span class="p">(</span><span class="n">file_obj</span><span class="p">,</span> <span class="n">index_name</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="List-260"><a href="#List-260"><span class="linenos">260</span></a>
</span><span id="List-261"><a href="#List-261"><span class="linenos">261</span></a>    <span class="k">def</span> <span class="nf">select_matching_ak</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_obj</span><span class="p">:</span> <span class="n">File</span><span class="p">,</span> <span class="n">index_name</span><span class="p">,</span> <span class="n">index_value</span><span class="p">):</span>
</span><span id="List-262"><a href="#List-262"><span class="linenos">262</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a select list from the given File based on the specified secondary index</span>
</span><span id="List-263"><a href="#List-263"><span class="linenos">263</span></a><span class="sd">        whose value matches that of the named value.</span>
</span><span id="List-264"><a href="#List-264"><span class="linenos">264</span></a>
</span><span id="List-265"><a href="#List-265"><span class="linenos">265</span></a><span class="sd">        Args:</span>
</span><span id="List-266"><a href="#List-266"><span class="linenos">266</span></a><span class="sd">            file_obj (File): a File or a Dictionary object.</span>
</span><span id="List-267"><a href="#List-267"><span class="linenos">267</span></a><span class="sd">            index_name (str): index name to select on.</span>
</span><span id="List-268"><a href="#List-268"><span class="linenos">268</span></a><span class="sd">            index_value (any): value within the index to select - can be str, bytes, DynArray.</span>
</span><span id="List-269"><a href="#List-269"><span class="linenos">269</span></a>
</span><span id="List-270"><a href="#List-270"><span class="linenos">270</span></a><span class="sd">        Returns:</span>
</span><span id="List-271"><a href="#List-271"><span class="linenos">271</span></a><span class="sd">            None</span>
</span><span id="List-272"><a href="#List-272"><span class="linenos">272</span></a>
</span><span id="List-273"><a href="#List-273"><span class="linenos">273</span></a><span class="sd">        Raises:</span>
</span><span id="List-274"><a href="#List-274"><span class="linenos">274</span></a><span class="sd">            UOError</span>
</span><span id="List-275"><a href="#List-275"><span class="linenos">275</span></a>
</span><span id="List-276"><a href="#List-276"><span class="linenos">276</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="List-277"><a href="#List-277"><span class="linenos">277</span></a>        <span class="n">index_value_bytes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">index_value</span><span class="p">)</span>
</span><span id="List-278"><a href="#List-278"><span class="linenos">278</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_ak_select</span><span class="p">(</span>
</span><span id="List-279"><a href="#List-279"><span class="linenos">279</span></a>            <span class="n">file_obj</span><span class="p">,</span> <span class="n">index_name</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">index_value_bytes</span><span class="p">),</span> <span class="n">index_value_bytes</span>
</span><span id="List-280"><a href="#List-280"><span class="linenos">280</span></a>        <span class="p">)</span>
</span><span id="List-281"><a href="#List-281"><span class="linenos">281</span></a>
</span><span id="List-282"><a href="#List-282"><span class="linenos">282</span></a>    <span class="k">def</span> <span class="nf">_do_ak_select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_obj</span><span class="p">,</span> <span class="n">index_name</span><span class="p">,</span> <span class="n">index_len</span><span class="p">,</span> <span class="n">index_value</span><span class="p">):</span>
</span><span id="List-283"><a href="#List-283"><span class="linenos">283</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
</span><span id="List-284"><a href="#List-284"><span class="linenos">284</span></a>            <span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">,</span> <span class="n">file_obj</span><span class="p">,</span> <span class="n">index_name</span><span class="p">,</span> <span class="n">index_len</span><span class="p">,</span> <span class="n">index_value</span>
</span><span id="List-285"><a href="#List-285"><span class="linenos">285</span></a>        <span class="p">)</span>
</span><span id="List-286"><a href="#List-286"><span class="linenos">286</span></a>
</span><span id="List-287"><a href="#List-287"><span class="linenos">287</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">file_obj</span><span class="p">,</span> <span class="n">File</span><span class="p">):</span>
</span><span id="List-288"><a href="#List-288"><span class="linenos">288</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_ENFILE</span><span class="p">)</span>
</span><span id="List-289"><a href="#List-289"><span class="linenos">289</span></a>
</span><span id="List-290"><a href="#List-290"><span class="linenos">290</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">file_obj</span><span class="o">.</span><span class="n">is_opened</span><span class="p">:</span>
</span><span id="List-291"><a href="#List-291"><span class="linenos">291</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_FILE_NOT_OPEN</span><span class="p">)</span>
</span><span id="List-292"><a href="#List-292"><span class="linenos">292</span></a>
</span><span id="List-293"><a href="#List-293"><span class="linenos">293</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="List-294"><a href="#List-294"><span class="linenos">294</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List-295"><a href="#List-295"><span class="linenos">295</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List-296"><a href="#List-296"><span class="linenos">296</span></a>
</span><span id="List-297"><a href="#List-297"><span class="linenos">297</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_SELECTINDEX</span><span class="p">)</span>
</span><span id="List-298"><a href="#List-298"><span class="linenos">298</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">file_obj</span><span class="o">.</span><span class="n">handle</span><span class="p">)</span>
</span><span id="List-299"><a href="#List-299"><span class="linenos">299</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">)</span>
</span><span id="List-300"><a href="#List-300"><span class="linenos">300</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">index_name</span><span class="p">))</span>
</span><span id="List-301"><a href="#List-301"><span class="linenos">301</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">index_len</span><span class="p">)</span>
</span><span id="List-302"><a href="#List-302"><span class="linenos">302</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write_char_array</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">index_value</span><span class="p">)</span>
</span><span id="List-303"><a href="#List-303"><span class="linenos">303</span></a>
</span><span id="List-304"><a href="#List-304"><span class="linenos">304</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="List-305"><a href="#List-305"><span class="linenos">305</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="List-306"><a href="#List-306"><span class="linenos">306</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="List-307"><a href="#List-307"><span class="linenos">307</span></a>
</span><span id="List-308"><a href="#List-308"><span class="linenos">308</span></a>            <span class="n">status</span> <span class="o">=</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="List-309"><a href="#List-309"><span class="linenos">309</span></a>            <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="n">_SELECT_LIST_EMPTY_STATE</span><span class="p">:</span>
</span><span id="List-310"><a href="#List-310"><span class="linenos">310</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="List-311"><a href="#List-311"><span class="linenos">311</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="List-312"><a href="#List-312"><span class="linenos">312</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="List-313"><a href="#List-313"><span class="linenos">313</span></a>
</span><span id="List-314"><a href="#List-314"><span class="linenos">314</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="List-315"><a href="#List-315"><span class="linenos">315</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span></pre></div>


            <div class="docstring"><p>List is used to control, access, and manipulate server side select lists.</p>

<p>List is iterable - the iterator returns a DynArray object representing a record id.
The iteration can be run only once until the select list is exhausted - subsequent iteration yields nothing.</p>

<p>Examples:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>cmd = Command("SELECT VOC WITH F1 = 'V'")
      cmd.run()
      select_list = List() # default is select list 0
      ids = select_list.read_list()
      print(ids[:5])
          ['LOAD.LANG', 'BEGIN.WORK', 'CLEARSELECT', 'RELEASE.ITEMS', 'SET.WIDEZERO']</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            <div id="List.__init__" class="classattr">
                                        <input id="List.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">List</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">list_no</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>, </span><span class="param"><span class="n">session</span><span class="p">:</span> <span class="n"><a href="#Session">Session</a></span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="List.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#List.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="List.__init__-35"><a href="#List.__init__-35"><span class="linenos">35</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">list_no</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">session</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="List.__init__-36"><a href="#List.__init__-36"><span class="linenos">36</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes a new List object.</span>
</span><span id="List.__init__-37"><a href="#List.__init__-37"><span class="linenos">37</span></a>
</span><span id="List.__init__-38"><a href="#List.__init__-38"><span class="linenos">38</span></a><span class="sd">        Args:</span>
</span><span id="List.__init__-39"><a href="#List.__init__-39"><span class="linenos">39</span></a><span class="sd">            list_no (int, optional): select list number (default is 0).</span>
</span><span id="List.__init__-40"><a href="#List.__init__-40"><span class="linenos">40</span></a><span class="sd">            session (Session, optional): the Session object that the List object is bound to.</span>
</span><span id="List.__init__-41"><a href="#List.__init__-41"><span class="linenos">41</span></a><span class="sd">                If omitted, the last opened Session in the current thread will be used.</span>
</span><span id="List.__init__-42"><a href="#List.__init__-42"><span class="linenos">42</span></a>
</span><span id="List.__init__-43"><a href="#List.__init__-43"><span class="linenos">43</span></a><span class="sd">        Raises:</span>
</span><span id="List.__init__-44"><a href="#List.__init__-44"><span class="linenos">44</span></a><span class="sd">            UOError</span>
</span><span id="List.__init__-45"><a href="#List.__init__-45"><span class="linenos">45</span></a>
</span><span id="List.__init__-46"><a href="#List.__init__-46"><span class="linenos">46</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="List.__init__-47"><a href="#List.__init__-47"><span class="linenos">47</span></a>        <span class="k">if</span> <span class="n">list_no</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">list_no</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
</span><span id="List.__init__-48"><a href="#List.__init__-48"><span class="linenos">48</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_EINVAL</span><span class="p">)</span>
</span><span id="List.__init__-49"><a href="#List.__init__-49"><span class="linenos">49</span></a>
</span><span id="List.__init__-50"><a href="#List.__init__-50"><span class="linenos">50</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</span><span id="List.__init__-51"><a href="#List.__init__-51"><span class="linenos">51</span></a>
</span><span id="List.__init__-52"><a href="#List.__init__-52"><span class="linenos">52</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span> <span class="o">=</span> <span class="n">list_no</span>
</span><span id="List.__init__-53"><a href="#List.__init__-53"><span class="linenos">53</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Initializes a new List object.</p>

<p>Args:
    list_no (int, optional): select list number (default is 0).
    session (Session, optional): the Session object that the List object is bound to.
        If omitted, the last opened Session in the current thread will be used.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="List.select" class="classattr">
                                        <input id="List.select-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">select</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">file_obj</span><span class="p">:</span> <span class="n"><a href="#File">File</a></span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="List.select-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#List.select"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="List.select-71"><a href="#List.select-71"><span class="linenos"> 71</span></a>    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_obj</span><span class="p">:</span> <span class="n">File</span><span class="p">):</span>
</span><span id="List.select-72"><a href="#List.select-72"><span class="linenos"> 72</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new select list by selecting the File object and generating a select list of</span>
</span><span id="List.select-73"><a href="#List.select-73"><span class="linenos"> 73</span></a><span class="sd">        all the record ids from that file. It will overwrite the previous select list and the select</span>
</span><span id="List.select-74"><a href="#List.select-74"><span class="linenos"> 74</span></a><span class="sd">        list pointer will be reset to the first record id in the list.</span>
</span><span id="List.select-75"><a href="#List.select-75"><span class="linenos"> 75</span></a>
</span><span id="List.select-76"><a href="#List.select-76"><span class="linenos"> 76</span></a><span class="sd">        Args:</span>
</span><span id="List.select-77"><a href="#List.select-77"><span class="linenos"> 77</span></a><span class="sd">            file_obj: File or Dictionary object to be selected.</span>
</span><span id="List.select-78"><a href="#List.select-78"><span class="linenos"> 78</span></a>
</span><span id="List.select-79"><a href="#List.select-79"><span class="linenos"> 79</span></a><span class="sd">        Returns:</span>
</span><span id="List.select-80"><a href="#List.select-80"><span class="linenos"> 80</span></a>
</span><span id="List.select-81"><a href="#List.select-81"><span class="linenos"> 81</span></a><span class="sd">        Raises:</span>
</span><span id="List.select-82"><a href="#List.select-82"><span class="linenos"> 82</span></a><span class="sd">            UOError</span>
</span><span id="List.select-83"><a href="#List.select-83"><span class="linenos"> 83</span></a>
</span><span id="List.select-84"><a href="#List.select-84"><span class="linenos"> 84</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="List.select-85"><a href="#List.select-85"><span class="linenos"> 85</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">,</span> <span class="n">file_obj</span><span class="p">)</span>
</span><span id="List.select-86"><a href="#List.select-86"><span class="linenos"> 86</span></a>
</span><span id="List.select-87"><a href="#List.select-87"><span class="linenos"> 87</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">file_obj</span><span class="o">.</span><span class="n">is_opened</span><span class="p">:</span>
</span><span id="List.select-88"><a href="#List.select-88"><span class="linenos"> 88</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_FILE_NOT_OPEN</span><span class="p">)</span>
</span><span id="List.select-89"><a href="#List.select-89"><span class="linenos"> 89</span></a>
</span><span id="List.select-90"><a href="#List.select-90"><span class="linenos"> 90</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="List.select-91"><a href="#List.select-91"><span class="linenos"> 91</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List.select-92"><a href="#List.select-92"><span class="linenos"> 92</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List.select-93"><a href="#List.select-93"><span class="linenos"> 93</span></a>
</span><span id="List.select-94"><a href="#List.select-94"><span class="linenos"> 94</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_SELECT</span><span class="p">)</span>
</span><span id="List.select-95"><a href="#List.select-95"><span class="linenos"> 95</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">file_obj</span><span class="o">.</span><span class="n">handle</span><span class="p">)</span>
</span><span id="List.select-96"><a href="#List.select-96"><span class="linenos"> 96</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">)</span>
</span><span id="List.select-97"><a href="#List.select-97"><span class="linenos"> 97</span></a>
</span><span id="List.select-98"><a href="#List.select-98"><span class="linenos"> 98</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="List.select-99"><a href="#List.select-99"><span class="linenos"> 99</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="List.select-100"><a href="#List.select-100"><span class="linenos">100</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="List.select-101"><a href="#List.select-101"><span class="linenos">101</span></a>
</span><span id="List.select-102"><a href="#List.select-102"><span class="linenos">102</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="List.select-103"><a href="#List.select-103"><span class="linenos">103</span></a>
</span><span id="List.select-104"><a href="#List.select-104"><span class="linenos">104</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span><span id="List.select-105"><a href="#List.select-105"><span class="linenos">105</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span></pre></div>


            <div class="docstring"><p>Create a new select list by selecting the File object and generating a select list of
all the record ids from that file. It will overwrite the previous select list and the select
list pointer will be reset to the first record id in the list.</p>

<p>Args:
    file_obj: File or Dictionary object to be selected.</p>

<p>Returns:</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="List.clear" class="classattr">
                                        <input id="List.clear-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">clear</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="List.clear-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#List.clear"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="List.clear-107"><a href="#List.clear-107"><span class="linenos">107</span></a>    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="List.clear-108"><a href="#List.clear-108"><span class="linenos">108</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Clear the selected list, emptying the contents and preparing for a new select list to be generated.</span>
</span><span id="List.clear-109"><a href="#List.clear-109"><span class="linenos">109</span></a>
</span><span id="List.clear-110"><a href="#List.clear-110"><span class="linenos">110</span></a><span class="sd">        Args:</span>
</span><span id="List.clear-111"><a href="#List.clear-111"><span class="linenos">111</span></a>
</span><span id="List.clear-112"><a href="#List.clear-112"><span class="linenos">112</span></a><span class="sd">        Returns:</span>
</span><span id="List.clear-113"><a href="#List.clear-113"><span class="linenos">113</span></a>
</span><span id="List.clear-114"><a href="#List.clear-114"><span class="linenos">114</span></a><span class="sd">        Raises:</span>
</span><span id="List.clear-115"><a href="#List.clear-115"><span class="linenos">115</span></a><span class="sd">            UOError</span>
</span><span id="List.clear-116"><a href="#List.clear-116"><span class="linenos">116</span></a>
</span><span id="List.clear-117"><a href="#List.clear-117"><span class="linenos">117</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="List.clear-118"><a href="#List.clear-118"><span class="linenos">118</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">)</span>
</span><span id="List.clear-119"><a href="#List.clear-119"><span class="linenos">119</span></a>
</span><span id="List.clear-120"><a href="#List.clear-120"><span class="linenos">120</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="List.clear-121"><a href="#List.clear-121"><span class="linenos">121</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List.clear-122"><a href="#List.clear-122"><span class="linenos">122</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List.clear-123"><a href="#List.clear-123"><span class="linenos">123</span></a>
</span><span id="List.clear-124"><a href="#List.clear-124"><span class="linenos">124</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_CLEARSELECT</span><span class="p">)</span>
</span><span id="List.clear-125"><a href="#List.clear-125"><span class="linenos">125</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">)</span>
</span><span id="List.clear-126"><a href="#List.clear-126"><span class="linenos">126</span></a>
</span><span id="List.clear-127"><a href="#List.clear-127"><span class="linenos">127</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="List.clear-128"><a href="#List.clear-128"><span class="linenos">128</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="List.clear-129"><a href="#List.clear-129"><span class="linenos">129</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="List.clear-130"><a href="#List.clear-130"><span class="linenos">130</span></a>
</span><span id="List.clear-131"><a href="#List.clear-131"><span class="linenos">131</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="List.clear-132"><a href="#List.clear-132"><span class="linenos">132</span></a>
</span><span id="List.clear-133"><a href="#List.clear-133"><span class="linenos">133</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Clear the selected list, emptying the contents and preparing for a new select list to be generated.</p>

<p>Args:</p>

<p>Returns:</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="List.next" class="classattr">
                                        <input id="List.next-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="List.next-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#List.next"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="List.next-135"><a href="#List.next-135"><span class="linenos">135</span></a>    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="List.next-136"><a href="#List.next-136"><span class="linenos">136</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the next record ID in the select list.</span>
</span><span id="List.next-137"><a href="#List.next-137"><span class="linenos">137</span></a>
</span><span id="List.next-138"><a href="#List.next-138"><span class="linenos">138</span></a><span class="sd">        Args:</span>
</span><span id="List.next-139"><a href="#List.next-139"><span class="linenos">139</span></a>
</span><span id="List.next-140"><a href="#List.next-140"><span class="linenos">140</span></a><span class="sd">        Returns:</span>
</span><span id="List.next-141"><a href="#List.next-141"><span class="linenos">141</span></a><span class="sd">            DynArray: The next record id in the select list, or None if exhausted.</span>
</span><span id="List.next-142"><a href="#List.next-142"><span class="linenos">142</span></a>
</span><span id="List.next-143"><a href="#List.next-143"><span class="linenos">143</span></a><span class="sd">        Raises:</span>
</span><span id="List.next-144"><a href="#List.next-144"><span class="linenos">144</span></a><span class="sd">            UOError</span>
</span><span id="List.next-145"><a href="#List.next-145"><span class="linenos">145</span></a>
</span><span id="List.next-146"><a href="#List.next-146"><span class="linenos">146</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="List.next-147"><a href="#List.next-147"><span class="linenos">147</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">)</span>
</span><span id="List.next-148"><a href="#List.next-148"><span class="linenos">148</span></a>
</span><span id="List.next-149"><a href="#List.next-149"><span class="linenos">149</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span><span class="p">:</span>
</span><span id="List.next-150"><a href="#List.next-150"><span class="linenos">150</span></a>            <span class="n">next_id</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="List.next-151"><a href="#List.next-151"><span class="linenos">151</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="List.next-152"><a href="#List.next-152"><span class="linenos">152</span></a>            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="List.next-153"><a href="#List.next-153"><span class="linenos">153</span></a>                <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List.next-154"><a href="#List.next-154"><span class="linenos">154</span></a>                <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List.next-155"><a href="#List.next-155"><span class="linenos">155</span></a>
</span><span id="List.next-156"><a href="#List.next-156"><span class="linenos">156</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_READNEXT</span><span class="p">)</span>
</span><span id="List.next-157"><a href="#List.next-157"><span class="linenos">157</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">)</span>
</span><span id="List.next-158"><a href="#List.next-158"><span class="linenos">158</span></a>
</span><span id="List.next-159"><a href="#List.next-159"><span class="linenos">159</span></a>                <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="List.next-160"><a href="#List.next-160"><span class="linenos">160</span></a>
</span><span id="List.next-161"><a href="#List.next-161"><span class="linenos">161</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="n">resp_code</span><span class="p">:</span>
</span><span id="List.next-162"><a href="#List.next-162"><span class="linenos">162</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="List.next-163"><a href="#List.next-163"><span class="linenos">163</span></a>                    <span class="n">next_id</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">session</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="List.next-164"><a href="#List.next-164"><span class="linenos">164</span></a>                <span class="k">elif</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_LRR</span><span class="p">:</span>
</span><span id="List.next-165"><a href="#List.next-165"><span class="linenos">165</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="List.next-166"><a href="#List.next-166"><span class="linenos">166</span></a>                    <span class="n">next_id</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="List.next-167"><a href="#List.next-167"><span class="linenos">167</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="List.next-168"><a href="#List.next-168"><span class="linenos">168</span></a>                    <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="List.next-169"><a href="#List.next-169"><span class="linenos">169</span></a>
</span><span id="List.next-170"><a href="#List.next-170"><span class="linenos">170</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">next_id</span><span class="p">)</span>
</span><span id="List.next-171"><a href="#List.next-171"><span class="linenos">171</span></a>        <span class="k">return</span> <span class="n">next_id</span>
</span></pre></div>


            <div class="docstring"><p>Return the next record ID in the select list.</p>

<p>Args:</p>

<p>Returns:
    DynArray: The next record id in the select list, or None if exhausted.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="List.read_list" class="classattr">
                                        <input id="List.read_list-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">read_list</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="List.read_list-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#List.read_list"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="List.read_list-173"><a href="#List.read_list-173"><span class="linenos">173</span></a>    <span class="k">def</span> <span class="nf">read_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="List.read_list-174"><a href="#List.read_list-174"><span class="linenos">174</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Read the entire select list back.</span>
</span><span id="List.read_list-175"><a href="#List.read_list-175"><span class="linenos">175</span></a>
</span><span id="List.read_list-176"><a href="#List.read_list-176"><span class="linenos">176</span></a><span class="sd">        Args:</span>
</span><span id="List.read_list-177"><a href="#List.read_list-177"><span class="linenos">177</span></a>
</span><span id="List.read_list-178"><a href="#List.read_list-178"><span class="linenos">178</span></a><span class="sd">        Returns:</span>
</span><span id="List.read_list-179"><a href="#List.read_list-179"><span class="linenos">179</span></a><span class="sd">            DynArray: contains all the record ids in the select list.</span>
</span><span id="List.read_list-180"><a href="#List.read_list-180"><span class="linenos">180</span></a>
</span><span id="List.read_list-181"><a href="#List.read_list-181"><span class="linenos">181</span></a><span class="sd">        Raises:</span>
</span><span id="List.read_list-182"><a href="#List.read_list-182"><span class="linenos">182</span></a><span class="sd">            UOError</span>
</span><span id="List.read_list-183"><a href="#List.read_list-183"><span class="linenos">183</span></a>
</span><span id="List.read_list-184"><a href="#List.read_list-184"><span class="linenos">184</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="List.read_list-185"><a href="#List.read_list-185"><span class="linenos">185</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">)</span>
</span><span id="List.read_list-186"><a href="#List.read_list-186"><span class="linenos">186</span></a>
</span><span id="List.read_list-187"><a href="#List.read_list-187"><span class="linenos">187</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="List.read_list-188"><a href="#List.read_list-188"><span class="linenos">188</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List.read_list-189"><a href="#List.read_list-189"><span class="linenos">189</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List.read_list-190"><a href="#List.read_list-190"><span class="linenos">190</span></a>
</span><span id="List.read_list-191"><a href="#List.read_list-191"><span class="linenos">191</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_READLIST</span><span class="p">)</span>
</span><span id="List.read_list-192"><a href="#List.read_list-192"><span class="linenos">192</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">)</span>
</span><span id="List.read_list-193"><a href="#List.read_list-193"><span class="linenos">193</span></a>
</span><span id="List.read_list-194"><a href="#List.read_list-194"><span class="linenos">194</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="List.read_list-195"><a href="#List.read_list-195"><span class="linenos">195</span></a>
</span><span id="List.read_list-196"><a href="#List.read_list-196"><span class="linenos">196</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="List.read_list-197"><a href="#List.read_list-197"><span class="linenos">197</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="List.read_list-198"><a href="#List.read_list-198"><span class="linenos">198</span></a>                <span class="k">if</span> <span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="List.read_list-199"><a href="#List.read_list-199"><span class="linenos">199</span></a>                    <span class="n">ids</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="List.read_list-200"><a href="#List.read_list-200"><span class="linenos">200</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="List.read_list-201"><a href="#List.read_list-201"><span class="linenos">201</span></a>                    <span class="n">ids</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="List.read_list-202"><a href="#List.read_list-202"><span class="linenos">202</span></a>            <span class="k">elif</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_LRR</span><span class="p">:</span>
</span><span id="List.read_list-203"><a href="#List.read_list-203"><span class="linenos">203</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="List.read_list-204"><a href="#List.read_list-204"><span class="linenos">204</span></a>                <span class="n">ids</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="List.read_list-205"><a href="#List.read_list-205"><span class="linenos">205</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="List.read_list-206"><a href="#List.read_list-206"><span class="linenos">206</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="List.read_list-207"><a href="#List.read_list-207"><span class="linenos">207</span></a>
</span><span id="List.read_list-208"><a href="#List.read_list-208"><span class="linenos">208</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">ids</span><span class="p">)</span>
</span><span id="List.read_list-209"><a href="#List.read_list-209"><span class="linenos">209</span></a>        <span class="k">return</span> <span class="n">ids</span>
</span></pre></div>


            <div class="docstring"><p>Read the entire select list back.</p>

<p>Args:</p>

<p>Returns:
    DynArray: contains all the record ids in the select list.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="List.form_list" class="classattr">
                                        <input id="List.form_list-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">form_list</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">ids</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="List.form_list-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#List.form_list"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="List.form_list-211"><a href="#List.form_list-211"><span class="linenos">211</span></a>    <span class="k">def</span> <span class="nf">form_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">):</span>
</span><span id="List.form_list-212"><a href="#List.form_list-212"><span class="linenos">212</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new select list from the supplied list of record ids.</span>
</span><span id="List.form_list-213"><a href="#List.form_list-213"><span class="linenos">213</span></a>
</span><span id="List.form_list-214"><a href="#List.form_list-214"><span class="linenos">214</span></a><span class="sd">        The current select list number will be used as the new list number.</span>
</span><span id="List.form_list-215"><a href="#List.form_list-215"><span class="linenos">215</span></a>
</span><span id="List.form_list-216"><a href="#List.form_list-216"><span class="linenos">216</span></a><span class="sd">        Args:</span>
</span><span id="List.form_list-217"><a href="#List.form_list-217"><span class="linenos">217</span></a><span class="sd">            ids (DynArray or list): A list of record ids.</span>
</span><span id="List.form_list-218"><a href="#List.form_list-218"><span class="linenos">218</span></a>
</span><span id="List.form_list-219"><a href="#List.form_list-219"><span class="linenos">219</span></a><span class="sd">        Returns:</span>
</span><span id="List.form_list-220"><a href="#List.form_list-220"><span class="linenos">220</span></a><span class="sd">            None</span>
</span><span id="List.form_list-221"><a href="#List.form_list-221"><span class="linenos">221</span></a>
</span><span id="List.form_list-222"><a href="#List.form_list-222"><span class="linenos">222</span></a><span class="sd">        Raises:</span>
</span><span id="List.form_list-223"><a href="#List.form_list-223"><span class="linenos">223</span></a><span class="sd">            UOError</span>
</span><span id="List.form_list-224"><a href="#List.form_list-224"><span class="linenos">224</span></a>
</span><span id="List.form_list-225"><a href="#List.form_list-225"><span class="linenos">225</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="List.form_list-226"><a href="#List.form_list-226"><span class="linenos">226</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">,</span> <span class="n">ids</span><span class="p">)</span>
</span><span id="List.form_list-227"><a href="#List.form_list-227"><span class="linenos">227</span></a>
</span><span id="List.form_list-228"><a href="#List.form_list-228"><span class="linenos">228</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="List.form_list-229"><a href="#List.form_list-229"><span class="linenos">229</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List.form_list-230"><a href="#List.form_list-230"><span class="linenos">230</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="List.form_list-231"><a href="#List.form_list-231"><span class="linenos">231</span></a>
</span><span id="List.form_list-232"><a href="#List.form_list-232"><span class="linenos">232</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_FORMLIST</span><span class="p">)</span>
</span><span id="List.form_list-233"><a href="#List.form_list-233"><span class="linenos">233</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_no</span><span class="p">)</span>
</span><span id="List.form_list-234"><a href="#List.form_list-234"><span class="linenos">234</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">ids</span><span class="p">))</span>
</span><span id="List.form_list-235"><a href="#List.form_list-235"><span class="linenos">235</span></a>
</span><span id="List.form_list-236"><a href="#List.form_list-236"><span class="linenos">236</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="List.form_list-237"><a href="#List.form_list-237"><span class="linenos">237</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="List.form_list-238"><a href="#List.form_list-238"><span class="linenos">238</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="List.form_list-239"><a href="#List.form_list-239"><span class="linenos">239</span></a>
</span><span id="List.form_list-240"><a href="#List.form_list-240"><span class="linenos">240</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="List.form_list-241"><a href="#List.form_list-241"><span class="linenos">241</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_is_all_fetched</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="List.form_list-242"><a href="#List.form_list-242"><span class="linenos">242</span></a>
</span><span id="List.form_list-243"><a href="#List.form_list-243"><span class="linenos">243</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Create a new select list from the supplied list of record ids.</p>

<p>The current select list number will be used as the new list number.</p>

<p>Args:
    ids (DynArray or list): A list of record ids.</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="List.select_alternate_key" class="classattr">
                                        <input id="List.select_alternate_key-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">select_alternate_key</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">file_obj</span><span class="p">:</span> <span class="n"><a href="#File">File</a></span>, </span><span class="param"><span class="n">index_name</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="List.select_alternate_key-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#List.select_alternate_key"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="List.select_alternate_key-245"><a href="#List.select_alternate_key-245"><span class="linenos">245</span></a>    <span class="k">def</span> <span class="nf">select_alternate_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_obj</span><span class="p">:</span> <span class="n">File</span><span class="p">,</span> <span class="n">index_name</span><span class="p">):</span>
</span><span id="List.select_alternate_key-246"><a href="#List.select_alternate_key-246"><span class="linenos">246</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a select list from the given File based on the specified secondary index.</span>
</span><span id="List.select_alternate_key-247"><a href="#List.select_alternate_key-247"><span class="linenos">247</span></a>
</span><span id="List.select_alternate_key-248"><a href="#List.select_alternate_key-248"><span class="linenos">248</span></a><span class="sd">        Args:</span>
</span><span id="List.select_alternate_key-249"><a href="#List.select_alternate_key-249"><span class="linenos">249</span></a><span class="sd">            file_obj (File): a File or a Dictionary object.</span>
</span><span id="List.select_alternate_key-250"><a href="#List.select_alternate_key-250"><span class="linenos">250</span></a><span class="sd">            index_name (str): index name to select on.</span>
</span><span id="List.select_alternate_key-251"><a href="#List.select_alternate_key-251"><span class="linenos">251</span></a>
</span><span id="List.select_alternate_key-252"><a href="#List.select_alternate_key-252"><span class="linenos">252</span></a><span class="sd">        Returns:</span>
</span><span id="List.select_alternate_key-253"><a href="#List.select_alternate_key-253"><span class="linenos">253</span></a><span class="sd">            None</span>
</span><span id="List.select_alternate_key-254"><a href="#List.select_alternate_key-254"><span class="linenos">254</span></a>
</span><span id="List.select_alternate_key-255"><a href="#List.select_alternate_key-255"><span class="linenos">255</span></a><span class="sd">        Raises:</span>
</span><span id="List.select_alternate_key-256"><a href="#List.select_alternate_key-256"><span class="linenos">256</span></a><span class="sd">            UOError</span>
</span><span id="List.select_alternate_key-257"><a href="#List.select_alternate_key-257"><span class="linenos">257</span></a>
</span><span id="List.select_alternate_key-258"><a href="#List.select_alternate_key-258"><span class="linenos">258</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="List.select_alternate_key-259"><a href="#List.select_alternate_key-259"><span class="linenos">259</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_ak_select</span><span class="p">(</span><span class="n">file_obj</span><span class="p">,</span> <span class="n">index_name</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Generate a select list from the given File based on the specified secondary index.</p>

<p>Args:
    file_obj (File): a File or a Dictionary object.
    index_name (str): index name to select on.</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="List.select_matching_ak" class="classattr">
                                        <input id="List.select_matching_ak-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">select_matching_ak</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">file_obj</span><span class="p">:</span> <span class="n"><a href="#File">File</a></span>, </span><span class="param"><span class="n">index_name</span>, </span><span class="param"><span class="n">index_value</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="List.select_matching_ak-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#List.select_matching_ak"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="List.select_matching_ak-261"><a href="#List.select_matching_ak-261"><span class="linenos">261</span></a>    <span class="k">def</span> <span class="nf">select_matching_ak</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_obj</span><span class="p">:</span> <span class="n">File</span><span class="p">,</span> <span class="n">index_name</span><span class="p">,</span> <span class="n">index_value</span><span class="p">):</span>
</span><span id="List.select_matching_ak-262"><a href="#List.select_matching_ak-262"><span class="linenos">262</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a select list from the given File based on the specified secondary index</span>
</span><span id="List.select_matching_ak-263"><a href="#List.select_matching_ak-263"><span class="linenos">263</span></a><span class="sd">        whose value matches that of the named value.</span>
</span><span id="List.select_matching_ak-264"><a href="#List.select_matching_ak-264"><span class="linenos">264</span></a>
</span><span id="List.select_matching_ak-265"><a href="#List.select_matching_ak-265"><span class="linenos">265</span></a><span class="sd">        Args:</span>
</span><span id="List.select_matching_ak-266"><a href="#List.select_matching_ak-266"><span class="linenos">266</span></a><span class="sd">            file_obj (File): a File or a Dictionary object.</span>
</span><span id="List.select_matching_ak-267"><a href="#List.select_matching_ak-267"><span class="linenos">267</span></a><span class="sd">            index_name (str): index name to select on.</span>
</span><span id="List.select_matching_ak-268"><a href="#List.select_matching_ak-268"><span class="linenos">268</span></a><span class="sd">            index_value (any): value within the index to select - can be str, bytes, DynArray.</span>
</span><span id="List.select_matching_ak-269"><a href="#List.select_matching_ak-269"><span class="linenos">269</span></a>
</span><span id="List.select_matching_ak-270"><a href="#List.select_matching_ak-270"><span class="linenos">270</span></a><span class="sd">        Returns:</span>
</span><span id="List.select_matching_ak-271"><a href="#List.select_matching_ak-271"><span class="linenos">271</span></a><span class="sd">            None</span>
</span><span id="List.select_matching_ak-272"><a href="#List.select_matching_ak-272"><span class="linenos">272</span></a>
</span><span id="List.select_matching_ak-273"><a href="#List.select_matching_ak-273"><span class="linenos">273</span></a><span class="sd">        Raises:</span>
</span><span id="List.select_matching_ak-274"><a href="#List.select_matching_ak-274"><span class="linenos">274</span></a><span class="sd">            UOError</span>
</span><span id="List.select_matching_ak-275"><a href="#List.select_matching_ak-275"><span class="linenos">275</span></a>
</span><span id="List.select_matching_ak-276"><a href="#List.select_matching_ak-276"><span class="linenos">276</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="List.select_matching_ak-277"><a href="#List.select_matching_ak-277"><span class="linenos">277</span></a>        <span class="n">index_value_bytes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">index_value</span><span class="p">)</span>
</span><span id="List.select_matching_ak-278"><a href="#List.select_matching_ak-278"><span class="linenos">278</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_ak_select</span><span class="p">(</span>
</span><span id="List.select_matching_ak-279"><a href="#List.select_matching_ak-279"><span class="linenos">279</span></a>            <span class="n">file_obj</span><span class="p">,</span> <span class="n">index_name</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">index_value_bytes</span><span class="p">),</span> <span class="n">index_value_bytes</span>
</span><span id="List.select_matching_ak-280"><a href="#List.select_matching_ak-280"><span class="linenos">280</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Generate a select list from the given File based on the specified secondary index
whose value matches that of the named value.</p>

<p>Args:
    file_obj (File): a File or a Dictionary object.
    index_name (str): index name to select on.
    index_value (any): value within the index to select - can be str, bytes, DynArray.</p>

<p>Returns:
    None</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                </section>
                <section id="Subroutine">
                            <input id="Subroutine-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Subroutine</span><wbr>(<span class="base">uopy._uniobject.UniObject</span>):

                <label class="view-source-button" for="Subroutine-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Subroutine"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Subroutine-16"><a href="#Subroutine-16"><span class="linenos">16</span></a><span class="k">class</span> <span class="nc">Subroutine</span><span class="p">(</span><span class="n">UniObject</span><span class="p">):</span>
</span><span id="Subroutine-17"><a href="#Subroutine-17"><span class="linenos">17</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Subroutine allows the application to call a cataloged BASIC subroutine on the server.</span>
</span><span id="Subroutine-18"><a href="#Subroutine-18"><span class="linenos">18</span></a>
</span><span id="Subroutine-19"><a href="#Subroutine-19"><span class="linenos">19</span></a><span class="sd">    Arguments are used to both pass in data to and get back data from the cataloged subroutine.</span>
</span><span id="Subroutine-20"><a href="#Subroutine-20"><span class="linenos">20</span></a>
</span><span id="Subroutine-21"><a href="#Subroutine-21"><span class="linenos">21</span></a><span class="sd">    Attributes:</span>
</span><span id="Subroutine-22"><a href="#Subroutine-22"><span class="linenos">22</span></a><span class="sd">        name (str): the name of the cataloged BASIC subroutine.</span>
</span><span id="Subroutine-23"><a href="#Subroutine-23"><span class="linenos">23</span></a><span class="sd">        num_args (int): the number of arguments defined on the cataloged subroutine.</span>
</span><span id="Subroutine-24"><a href="#Subroutine-24"><span class="linenos">24</span></a><span class="sd">        args (list): the argument list for the subroutine, an argument can be a str, a DynArray, a byte array.</span>
</span><span id="Subroutine-25"><a href="#Subroutine-25"><span class="linenos">25</span></a>
</span><span id="Subroutine-26"><a href="#Subroutine-26"><span class="linenos">26</span></a><span class="sd">    Examples:</span>
</span><span id="Subroutine-27"><a href="#Subroutine-27"><span class="linenos">27</span></a><span class="sd">        &gt;&gt;&gt; sub = Subroutine(&quot;SAYHELLOTO&quot;, 1)</span>
</span><span id="Subroutine-28"><a href="#Subroutine-28"><span class="linenos">28</span></a><span class="sd">        &gt;&gt;&gt; sub.args[0] = &quot;David&quot;</span>
</span><span id="Subroutine-29"><a href="#Subroutine-29"><span class="linenos">29</span></a><span class="sd">        &gt;&gt;&gt; print(sub.args)</span>
</span><span id="Subroutine-30"><a href="#Subroutine-30"><span class="linenos">30</span></a><span class="sd">        [&#39;David&#39;]</span>
</span><span id="Subroutine-31"><a href="#Subroutine-31"><span class="linenos">31</span></a><span class="sd">        &gt;&gt;&gt; sub.call()</span>
</span><span id="Subroutine-32"><a href="#Subroutine-32"><span class="linenos">32</span></a><span class="sd">        &gt;&gt;&gt; print(sub.args)</span>
</span><span id="Subroutine-33"><a href="#Subroutine-33"><span class="linenos">33</span></a><span class="sd">        [&#39;Hello, David&#39;]</span>
</span><span id="Subroutine-34"><a href="#Subroutine-34"><span class="linenos">34</span></a>
</span><span id="Subroutine-35"><a href="#Subroutine-35"><span class="linenos">35</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Subroutine-36"><a href="#Subroutine-36"><span class="linenos">36</span></a>
</span><span id="Subroutine-37"><a href="#Subroutine-37"><span class="linenos">37</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">num_args</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Subroutine-38"><a href="#Subroutine-38"><span class="linenos">38</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a Subroutine object</span>
</span><span id="Subroutine-39"><a href="#Subroutine-39"><span class="linenos">39</span></a>
</span><span id="Subroutine-40"><a href="#Subroutine-40"><span class="linenos">40</span></a><span class="sd">        Args:</span>
</span><span id="Subroutine-41"><a href="#Subroutine-41"><span class="linenos">41</span></a><span class="sd">            name (str): the name of the cataloged BASIC subroutine.</span>
</span><span id="Subroutine-42"><a href="#Subroutine-42"><span class="linenos">42</span></a><span class="sd">            num_args (int) : the number of arguments defined on the cataloged subroutine.</span>
</span><span id="Subroutine-43"><a href="#Subroutine-43"><span class="linenos">43</span></a><span class="sd">            session (Session, optional): the Session object that the Subroutine object is bound to.</span>
</span><span id="Subroutine-44"><a href="#Subroutine-44"><span class="linenos">44</span></a><span class="sd">                If omitted, the last opened Session in the current thread will be used.</span>
</span><span id="Subroutine-45"><a href="#Subroutine-45"><span class="linenos">45</span></a>
</span><span id="Subroutine-46"><a href="#Subroutine-46"><span class="linenos">46</span></a><span class="sd">        Raises:</span>
</span><span id="Subroutine-47"><a href="#Subroutine-47"><span class="linenos">47</span></a><span class="sd">            UOError</span>
</span><span id="Subroutine-48"><a href="#Subroutine-48"><span class="linenos">48</span></a>
</span><span id="Subroutine-49"><a href="#Subroutine-49"><span class="linenos">49</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Subroutine-50"><a href="#Subroutine-50"><span class="linenos">50</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</span><span id="Subroutine-51"><a href="#Subroutine-51"><span class="linenos">51</span></a>
</span><span id="Subroutine-52"><a href="#Subroutine-52"><span class="linenos">52</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="Subroutine-53"><a href="#Subroutine-53"><span class="linenos">53</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">num_args</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_args</span><span class="p">)</span> <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="Subroutine-54"><a href="#Subroutine-54"><span class="linenos">54</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_args</span><span class="p">)]</span>
</span><span id="Subroutine-55"><a href="#Subroutine-55"><span class="linenos">55</span></a>
</span><span id="Subroutine-56"><a href="#Subroutine-56"><span class="linenos">56</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Subroutine-57"><a href="#Subroutine-57"><span class="linenos">57</span></a>        <span class="n">format_string</span> <span class="o">=</span> <span class="s2">&quot;&lt;</span><span class="si">{}</span><span class="s2"> object </span><span class="si">{}</span><span class="s2"> at 0x</span><span class="si">{:016X}</span><span class="s2">&gt;&quot;</span>
</span><span id="Subroutine-58"><a href="#Subroutine-58"><span class="linenos">58</span></a>        <span class="n">cls_name</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__qualname__</span><span class="p">])</span>
</span><span id="Subroutine-59"><a href="#Subroutine-59"><span class="linenos">59</span></a>        <span class="n">details</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_args</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
</span><span id="Subroutine-60"><a href="#Subroutine-60"><span class="linenos">60</span></a>        <span class="k">return</span> <span class="n">format_string</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
</span><span id="Subroutine-61"><a href="#Subroutine-61"><span class="linenos">61</span></a>            <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">Subroutine</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span> <span class="n">Subroutine</span><span class="o">.</span><span class="vm">__qualname__</span><span class="p">]),</span>
</span><span id="Subroutine-62"><a href="#Subroutine-62"><span class="linenos">62</span></a>            <span class="n">details</span><span class="p">,</span>
</span><span id="Subroutine-63"><a href="#Subroutine-63"><span class="linenos">63</span></a>            <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span>
</span><span id="Subroutine-64"><a href="#Subroutine-64"><span class="linenos">64</span></a>        <span class="p">)</span>
</span><span id="Subroutine-65"><a href="#Subroutine-65"><span class="linenos">65</span></a>
</span><span id="Subroutine-66"><a href="#Subroutine-66"><span class="linenos">66</span></a>    <span class="k">def</span> <span class="nf">call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Subroutine-67"><a href="#Subroutine-67"><span class="linenos">67</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Run the catalogued subroutine using the args on the remote server.&quot;&quot;&quot;</span>
</span><span id="Subroutine-68"><a href="#Subroutine-68"><span class="linenos">68</span></a>
</span><span id="Subroutine-69"><a href="#Subroutine-69"><span class="linenos">69</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
</span><span id="Subroutine-70"><a href="#Subroutine-70"><span class="linenos">70</span></a>
</span><span id="Subroutine-71"><a href="#Subroutine-71"><span class="linenos">71</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Subroutine-72"><a href="#Subroutine-72"><span class="linenos">72</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_UNABLETOLOADSUB</span><span class="p">)</span>
</span><span id="Subroutine-73"><a href="#Subroutine-73"><span class="linenos">73</span></a>
</span><span id="Subroutine-74"><a href="#Subroutine-74"><span class="linenos">74</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Subroutine-75"><a href="#Subroutine-75"><span class="linenos">75</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Subroutine-76"><a href="#Subroutine-76"><span class="linenos">76</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Subroutine-77"><a href="#Subroutine-77"><span class="linenos">77</span></a>
</span><span id="Subroutine-78"><a href="#Subroutine-78"><span class="linenos">78</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_SUBCALL</span><span class="p">)</span>
</span><span id="Subroutine-79"><a href="#Subroutine-79"><span class="linenos">79</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_args</span><span class="p">)</span>
</span><span id="Subroutine-80"><a href="#Subroutine-80"><span class="linenos">80</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
</span><span id="Subroutine-81"><a href="#Subroutine-81"><span class="linenos">81</span></a>
</span><span id="Subroutine-82"><a href="#Subroutine-82"><span class="linenos">82</span></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_args</span> <span class="o">+</span> <span class="mi">3</span><span class="p">):</span>
</span><span id="Subroutine-83"><a href="#Subroutine-83"><span class="linenos">83</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">3</span><span class="p">]))</span>
</span><span id="Subroutine-84"><a href="#Subroutine-84"><span class="linenos">84</span></a>
</span><span id="Subroutine-85"><a href="#Subroutine-85"><span class="linenos">85</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="Subroutine-86"><a href="#Subroutine-86"><span class="linenos">86</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Subroutine-87"><a href="#Subroutine-87"><span class="linenos">87</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="Subroutine-88"><a href="#Subroutine-88"><span class="linenos">88</span></a>
</span><span id="Subroutine-89"><a href="#Subroutine-89"><span class="linenos">89</span></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_args</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
</span><span id="Subroutine-90"><a href="#Subroutine-90"><span class="linenos">90</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="Subroutine-91"><a href="#Subroutine-91"><span class="linenos">91</span></a>
</span><span id="Subroutine-92"><a href="#Subroutine-92"><span class="linenos">92</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Subroutine allows the application to call a cataloged BASIC subroutine on the server.</p>

<p>Arguments are used to both pass in data to and get back data from the cataloged subroutine.</p>

<p>Attributes:
    name (str): the name of the cataloged BASIC subroutine.
    num_args (int): the number of arguments defined on the cataloged subroutine.
    args (list): the argument list for the subroutine, an argument can be a str, a DynArray, a byte array.</p>

<p>Examples:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>sub = Subroutine("SAYHELLOTO", 1)
      sub.args[0] = "David"
      print(sub.args)
          ['David']
      sub.call()
      print(sub.args)
          ['Hello, David']</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                            <div id="Subroutine.__init__" class="classattr">
                                        <input id="Subroutine.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Subroutine</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span>, </span><span class="param"><span class="n">num_args</span><span class="o">=</span><span class="mi">0</span>, </span><span class="param"><span class="n">session</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="Subroutine.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Subroutine.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Subroutine.__init__-37"><a href="#Subroutine.__init__-37"><span class="linenos">37</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">num_args</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Subroutine.__init__-38"><a href="#Subroutine.__init__-38"><span class="linenos">38</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a Subroutine object</span>
</span><span id="Subroutine.__init__-39"><a href="#Subroutine.__init__-39"><span class="linenos">39</span></a>
</span><span id="Subroutine.__init__-40"><a href="#Subroutine.__init__-40"><span class="linenos">40</span></a><span class="sd">        Args:</span>
</span><span id="Subroutine.__init__-41"><a href="#Subroutine.__init__-41"><span class="linenos">41</span></a><span class="sd">            name (str): the name of the cataloged BASIC subroutine.</span>
</span><span id="Subroutine.__init__-42"><a href="#Subroutine.__init__-42"><span class="linenos">42</span></a><span class="sd">            num_args (int) : the number of arguments defined on the cataloged subroutine.</span>
</span><span id="Subroutine.__init__-43"><a href="#Subroutine.__init__-43"><span class="linenos">43</span></a><span class="sd">            session (Session, optional): the Session object that the Subroutine object is bound to.</span>
</span><span id="Subroutine.__init__-44"><a href="#Subroutine.__init__-44"><span class="linenos">44</span></a><span class="sd">                If omitted, the last opened Session in the current thread will be used.</span>
</span><span id="Subroutine.__init__-45"><a href="#Subroutine.__init__-45"><span class="linenos">45</span></a>
</span><span id="Subroutine.__init__-46"><a href="#Subroutine.__init__-46"><span class="linenos">46</span></a><span class="sd">        Raises:</span>
</span><span id="Subroutine.__init__-47"><a href="#Subroutine.__init__-47"><span class="linenos">47</span></a><span class="sd">            UOError</span>
</span><span id="Subroutine.__init__-48"><a href="#Subroutine.__init__-48"><span class="linenos">48</span></a>
</span><span id="Subroutine.__init__-49"><a href="#Subroutine.__init__-49"><span class="linenos">49</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Subroutine.__init__-50"><a href="#Subroutine.__init__-50"><span class="linenos">50</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</span><span id="Subroutine.__init__-51"><a href="#Subroutine.__init__-51"><span class="linenos">51</span></a>
</span><span id="Subroutine.__init__-52"><a href="#Subroutine.__init__-52"><span class="linenos">52</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="Subroutine.__init__-53"><a href="#Subroutine.__init__-53"><span class="linenos">53</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">num_args</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_args</span><span class="p">)</span> <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="Subroutine.__init__-54"><a href="#Subroutine.__init__-54"><span class="linenos">54</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_args</span><span class="p">)]</span>
</span></pre></div>


            <div class="docstring"><p>Initialize a Subroutine object</p>

<p>Args:
    name (str): the name of the cataloged BASIC subroutine.
    num_args (int) : the number of arguments defined on the cataloged subroutine.
    session (Session, optional): the Session object that the Subroutine object is bound to.
        If omitted, the last opened Session in the current thread will be used.</p>

<p>Raises:
    UOError</p>
</div>


                            </div>
                            <div id="Subroutine.name" class="classattr">
                                <div class="attr variable">
            <span class="name">name</span>

        
    </div>
    <a class="headerlink" href="#Subroutine.name"></a>
    
    

                            </div>
                            <div id="Subroutine.num_args" class="classattr">
                                <div class="attr variable">
            <span class="name">num_args</span>

        
    </div>
    <a class="headerlink" href="#Subroutine.num_args"></a>
    
    

                            </div>
                            <div id="Subroutine.args" class="classattr">
                                <div class="attr variable">
            <span class="name">args</span>

        
    </div>
    <a class="headerlink" href="#Subroutine.args"></a>
    
    

                            </div>
                            <div id="Subroutine.call" class="classattr">
                                        <input id="Subroutine.call-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">call</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Subroutine.call-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Subroutine.call"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Subroutine.call-66"><a href="#Subroutine.call-66"><span class="linenos">66</span></a>    <span class="k">def</span> <span class="nf">call</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Subroutine.call-67"><a href="#Subroutine.call-67"><span class="linenos">67</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Run the catalogued subroutine using the args on the remote server.&quot;&quot;&quot;</span>
</span><span id="Subroutine.call-68"><a href="#Subroutine.call-68"><span class="linenos">68</span></a>
</span><span id="Subroutine.call-69"><a href="#Subroutine.call-69"><span class="linenos">69</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
</span><span id="Subroutine.call-70"><a href="#Subroutine.call-70"><span class="linenos">70</span></a>
</span><span id="Subroutine.call-71"><a href="#Subroutine.call-71"><span class="linenos">71</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Subroutine.call-72"><a href="#Subroutine.call-72"><span class="linenos">72</span></a>            <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_UNABLETOLOADSUB</span><span class="p">)</span>
</span><span id="Subroutine.call-73"><a href="#Subroutine.call-73"><span class="linenos">73</span></a>
</span><span id="Subroutine.call-74"><a href="#Subroutine.call-74"><span class="linenos">74</span></a>        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
</span><span id="Subroutine.call-75"><a href="#Subroutine.call-75"><span class="linenos">75</span></a>            <span class="n">in_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Subroutine.call-76"><a href="#Subroutine.call-76"><span class="linenos">76</span></a>            <span class="n">out_packet</span> <span class="o">=</span> <span class="n">UniRPCPacket</span><span class="p">()</span>
</span><span id="Subroutine.call-77"><a href="#Subroutine.call-77"><span class="linenos">77</span></a>
</span><span id="Subroutine.call-78"><a href="#Subroutine.call-78"><span class="linenos">78</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FuncCodes</span><span class="o">.</span><span class="n">EIC_SUBCALL</span><span class="p">)</span>
</span><span id="Subroutine.call-79"><a href="#Subroutine.call-79"><span class="linenos">79</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_args</span><span class="p">)</span>
</span><span id="Subroutine.call-80"><a href="#Subroutine.call-80"><span class="linenos">80</span></a>            <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
</span><span id="Subroutine.call-81"><a href="#Subroutine.call-81"><span class="linenos">81</span></a>
</span><span id="Subroutine.call-82"><a href="#Subroutine.call-82"><span class="linenos">82</span></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_args</span> <span class="o">+</span> <span class="mi">3</span><span class="p">):</span>
</span><span id="Subroutine.call-83"><a href="#Subroutine.call-83"><span class="linenos">83</span></a>                <span class="n">out_packet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">3</span><span class="p">]))</span>
</span><span id="Subroutine.call-84"><a href="#Subroutine.call-84"><span class="linenos">84</span></a>
</span><span id="Subroutine.call-85"><a href="#Subroutine.call-85"><span class="linenos">85</span></a>            <span class="n">resp_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_server</span><span class="p">(</span><span class="n">in_packet</span><span class="p">,</span> <span class="n">out_packet</span><span class="p">)</span>
</span><span id="Subroutine.call-86"><a href="#Subroutine.call-86"><span class="linenos">86</span></a>            <span class="k">if</span> <span class="n">resp_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Subroutine.call-87"><a href="#Subroutine.call-87"><span class="linenos">87</span></a>                <span class="k">raise</span> <span class="n">UOError</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">resp_code</span><span class="p">)</span>
</span><span id="Subroutine.call-88"><a href="#Subroutine.call-88"><span class="linenos">88</span></a>
</span><span id="Subroutine.call-89"><a href="#Subroutine.call-89"><span class="linenos">89</span></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_args</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
</span><span id="Subroutine.call-90"><a href="#Subroutine.call-90"><span class="linenos">90</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">DynArray</span><span class="p">(</span><span class="n">in_packet</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">)</span>
</span><span id="Subroutine.call-91"><a href="#Subroutine.call-91"><span class="linenos">91</span></a>
</span><span id="Subroutine.call-92"><a href="#Subroutine.call-92"><span class="linenos">92</span></a>        <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Run the catalogued subroutine using the args on the remote server.</p>
</div>


                            </div>
                </section>
                <section id="UOFileError">
                            <input id="UOFileError-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">UOFileError</span><wbr>(<span class="base"><a href="#UOError">uopy.UOError</a></span>):

                <label class="view-source-button" for="UOFileError-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UOFileError"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UOFileError-16"><a href="#UOFileError-16"><span class="linenos"> 16</span></a><span class="k">class</span> <span class="nc">UOFileError</span><span class="p">(</span><span class="n">UOError</span><span class="p">):</span>
</span><span id="UOFileError-17"><a href="#UOFileError-17"><span class="linenos"> 17</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UOFileError-18"><a href="#UOFileError-18"><span class="linenos"> 18</span></a><span class="sd">    This class extends the UOError class.</span>
</span><span id="UOFileError-19"><a href="#UOFileError-19"><span class="linenos"> 19</span></a><span class="sd">    This class can provide each error information for each key read while invoking the uopy.File.read_named_fields method.</span>
</span><span id="UOFileError-20"><a href="#UOFileError-20"><span class="linenos"> 20</span></a>
</span><span id="UOFileError-21"><a href="#UOFileError-21"><span class="linenos"> 21</span></a><span class="sd">    Attributes:</span>
</span><span id="UOFileError-22"><a href="#UOFileError-22"><span class="linenos"> 22</span></a><span class="sd">    response_errors: a list of dictionaries.</span>
</span><span id="UOFileError-23"><a href="#UOFileError-23"><span class="linenos"> 23</span></a><span class="sd">    Each item in the list indicates the error information for each key read from the file.</span>
</span><span id="UOFileError-24"><a href="#UOFileError-24"><span class="linenos"> 24</span></a><span class="sd">    An example of the content in response_errors is [{0: &#39;No Error&#39;}, {30001: &#39;This Record was not found&#39;}].</span>
</span><span id="UOFileError-25"><a href="#UOFileError-25"><span class="linenos"> 25</span></a>
</span><span id="UOFileError-26"><a href="#UOFileError-26"><span class="linenos"> 26</span></a><span class="sd">    id_list: a list of the file keys.</span>
</span><span id="UOFileError-27"><a href="#UOFileError-27"><span class="linenos"> 27</span></a><span class="sd">    An example of the content in id_list is [&#39;0111&#39;, &#39;bad_id&#39;]</span>
</span><span id="UOFileError-28"><a href="#UOFileError-28"><span class="linenos"> 28</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="UOFileError-29"><a href="#UOFileError-29"><span class="linenos"> 29</span></a>
</span><span id="UOFileError-30"><a href="#UOFileError-30"><span class="linenos"> 30</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="UOFileError-31"><a href="#UOFileError-31"><span class="linenos"> 31</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="UOFileError-32"><a href="#UOFileError-32"><span class="linenos"> 32</span></a>        <span class="n">code</span><span class="o">=...</span><span class="p">,</span>
</span><span id="UOFileError-33"><a href="#UOFileError-33"><span class="linenos"> 33</span></a>        <span class="n">message</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="UOFileError-34"><a href="#UOFileError-34"><span class="linenos"> 34</span></a>        <span class="n">obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="UOFileError-35"><a href="#UOFileError-35"><span class="linenos"> 35</span></a>        <span class="n">response_codes</span><span class="o">=</span><span class="p">[],</span>
</span><span id="UOFileError-36"><a href="#UOFileError-36"><span class="linenos"> 36</span></a>        <span class="n">status_codes</span><span class="o">=</span><span class="p">[],</span>
</span><span id="UOFileError-37"><a href="#UOFileError-37"><span class="linenos"> 37</span></a>        <span class="n">id_list</span><span class="o">=</span><span class="p">[],</span>
</span><span id="UOFileError-38"><a href="#UOFileError-38"><span class="linenos"> 38</span></a>    <span class="p">):</span>
</span><span id="UOFileError-39"><a href="#UOFileError-39"><span class="linenos"> 39</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UOFileError-40"><a href="#UOFileError-40"><span class="linenos"> 40</span></a><span class="sd">        Initializes a UOFileError class.</span>
</span><span id="UOFileError-41"><a href="#UOFileError-41"><span class="linenos"> 41</span></a><span class="sd">        Args:</span>
</span><span id="UOFileError-42"><a href="#UOFileError-42"><span class="linenos"> 42</span></a><span class="sd">            code (int): error code</span>
</span><span id="UOFileError-43"><a href="#UOFileError-43"><span class="linenos"> 43</span></a><span class="sd">            message (string, optinal): error message</span>
</span><span id="UOFileError-44"><a href="#UOFileError-44"><span class="linenos"> 44</span></a><span class="sd">            response_codes (list, optional): a list of response codes returned from the server.</span>
</span><span id="UOFileError-45"><a href="#UOFileError-45"><span class="linenos"> 45</span></a><span class="sd">            status_codes (list, optional): a list of status codes returned from the server.</span>
</span><span id="UOFileError-46"><a href="#UOFileError-46"><span class="linenos"> 46</span></a><span class="sd">            id_list (list, optional): a list of file fields.</span>
</span><span id="UOFileError-47"><a href="#UOFileError-47"><span class="linenos"> 47</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UOFileError-48"><a href="#UOFileError-48"><span class="linenos"> 48</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_set_response_codes</span><span class="p">(</span><span class="n">response_codes</span><span class="p">)</span>
</span><span id="UOFileError-49"><a href="#UOFileError-49"><span class="linenos"> 49</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_set_status_codes</span><span class="p">(</span><span class="n">status_codes</span><span class="p">)</span>
</span><span id="UOFileError-50"><a href="#UOFileError-50"><span class="linenos"> 50</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_set_id_list</span><span class="p">(</span><span class="n">id_list</span><span class="p">)</span>
</span><span id="UOFileError-51"><a href="#UOFileError-51"><span class="linenos"> 51</span></a>        <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_EIO</span><span class="p">:</span>
</span><span id="UOFileError-52"><a href="#UOFileError-52"><span class="linenos"> 52</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_status_codes_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="UOFileError-53"><a href="#UOFileError-53"><span class="linenos"> 53</span></a>                <span class="n">statusCode</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="UOFileError-54"><a href="#UOFileError-54"><span class="linenos"> 54</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_status_codes_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="UOFileError-55"><a href="#UOFileError-55"><span class="linenos"> 55</span></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status_codes_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">_EIO_MSG_DICT</span>
</span><span id="UOFileError-56"><a href="#UOFileError-56"><span class="linenos"> 56</span></a>                    <span class="k">else</span> <span class="mi">5</span>
</span><span id="UOFileError-57"><a href="#UOFileError-57"><span class="linenos"> 57</span></a>                <span class="p">)</span>
</span><span id="UOFileError-58"><a href="#UOFileError-58"><span class="linenos"> 58</span></a>                <span class="n">message</span> <span class="o">=</span> <span class="n">_EIO_MSG_DICT</span><span class="p">[</span><span class="n">statusCode</span><span class="p">]</span>
</span><span id="UOFileError-59"><a href="#UOFileError-59"><span class="linenos"> 59</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
</span><span id="UOFileError-60"><a href="#UOFileError-60"><span class="linenos"> 60</span></a>
</span><span id="UOFileError-61"><a href="#UOFileError-61"><span class="linenos"> 61</span></a>    <span class="k">def</span> <span class="nf">_set_response_codes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">codes</span><span class="p">):</span>
</span><span id="UOFileError-62"><a href="#UOFileError-62"><span class="linenos"> 62</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">codes</span><span class="p">:</span>
</span><span id="UOFileError-63"><a href="#UOFileError-63"><span class="linenos"> 63</span></a>            <span class="n">codes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="UOFileError-64"><a href="#UOFileError-64"><span class="linenos"> 64</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">codes</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span><span class="p">:</span>
</span><span id="UOFileError-65"><a href="#UOFileError-65"><span class="linenos"> 65</span></a>            <span class="n">codes</span> <span class="o">=</span> <span class="p">[</span><span class="n">codes</span><span class="p">]</span>
</span><span id="UOFileError-66"><a href="#UOFileError-66"><span class="linenos"> 66</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_response_code_list</span> <span class="o">=</span> <span class="n">codes</span>
</span><span id="UOFileError-67"><a href="#UOFileError-67"><span class="linenos"> 67</span></a>
</span><span id="UOFileError-68"><a href="#UOFileError-68"><span class="linenos"> 68</span></a>    <span class="nd">@property</span>
</span><span id="UOFileError-69"><a href="#UOFileError-69"><span class="linenos"> 69</span></a>    <span class="k">def</span> <span class="nf">response_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="UOFileError-70"><a href="#UOFileError-70"><span class="linenos"> 70</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;A list of errors for each field. Each error contains a code and a message.&quot;&quot;&quot;</span>
</span><span id="UOFileError-71"><a href="#UOFileError-71"><span class="linenos"> 71</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UOFileError-72"><a href="#UOFileError-72"><span class="linenos"> 72</span></a><span class="sd">        self._response_errors = []</span>
</span><span id="UOFileError-73"><a href="#UOFileError-73"><span class="linenos"> 73</span></a><span class="sd">        for idx, response_code in enumerate(self._response_code_list):</span>
</span><span id="UOFileError-74"><a href="#UOFileError-74"><span class="linenos"> 74</span></a><span class="sd">            if response_code == ErrorCodes.UOE_EIO:</span>
</span><span id="UOFileError-75"><a href="#UOFileError-75"><span class="linenos"> 75</span></a><span class="sd">                status = self._status_codes_list[idx] if self._status_codes_list[idx] in _EIO_MSG_DICT else 5</span>
</span><span id="UOFileError-76"><a href="#UOFileError-76"><span class="linenos"> 76</span></a><span class="sd">                err = {response_code: _EIO_MSG_DICT[status]}</span>
</span><span id="UOFileError-77"><a href="#UOFileError-77"><span class="linenos"> 77</span></a><span class="sd">                self._response_errors.append(err)</span>
</span><span id="UOFileError-78"><a href="#UOFileError-78"><span class="linenos"> 78</span></a><span class="sd">            else:</span>
</span><span id="UOFileError-79"><a href="#UOFileError-79"><span class="linenos"> 79</span></a><span class="sd">                err = {response_code: _ERROR_MESSAGES.get(response_code, &#39;Unknown Error Code&#39;)}</span>
</span><span id="UOFileError-80"><a href="#UOFileError-80"><span class="linenos"> 80</span></a><span class="sd">                self._response_errors.append(err)</span>
</span><span id="UOFileError-81"><a href="#UOFileError-81"><span class="linenos"> 81</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UOFileError-82"><a href="#UOFileError-82"><span class="linenos"> 82</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_response_errors</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="UOFileError-83"><a href="#UOFileError-83"><span class="linenos"> 83</span></a>            <span class="p">{</span>
</span><span id="UOFileError-84"><a href="#UOFileError-84"><span class="linenos"> 84</span></a>                <span class="n">code</span><span class="p">:</span> <span class="n">_EIO_MSG_DICT</span><span class="p">[</span>
</span><span id="UOFileError-85"><a href="#UOFileError-85"><span class="linenos"> 85</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_status_codes_list</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
</span><span id="UOFileError-86"><a href="#UOFileError-86"><span class="linenos"> 86</span></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status_codes_list</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="ow">in</span> <span class="n">_EIO_MSG_DICT</span>
</span><span id="UOFileError-87"><a href="#UOFileError-87"><span class="linenos"> 87</span></a>                    <span class="k">else</span> <span class="mi">5</span>
</span><span id="UOFileError-88"><a href="#UOFileError-88"><span class="linenos"> 88</span></a>                <span class="p">]</span>
</span><span id="UOFileError-89"><a href="#UOFileError-89"><span class="linenos"> 89</span></a>            <span class="p">}</span>
</span><span id="UOFileError-90"><a href="#UOFileError-90"><span class="linenos"> 90</span></a>            <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_EIO</span>
</span><span id="UOFileError-91"><a href="#UOFileError-91"><span class="linenos"> 91</span></a>            <span class="k">else</span> <span class="p">{</span><span class="n">code</span><span class="p">:</span> <span class="n">_ERROR_MESSAGES</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="s2">&quot;Unknown Error Code&quot;</span><span class="p">)}</span>
</span><span id="UOFileError-92"><a href="#UOFileError-92"><span class="linenos"> 92</span></a>            <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">code</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_response_code_list</span><span class="p">)</span>
</span><span id="UOFileError-93"><a href="#UOFileError-93"><span class="linenos"> 93</span></a>        <span class="p">]</span>
</span><span id="UOFileError-94"><a href="#UOFileError-94"><span class="linenos"> 94</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_response_errors</span>
</span><span id="UOFileError-95"><a href="#UOFileError-95"><span class="linenos"> 95</span></a>
</span><span id="UOFileError-96"><a href="#UOFileError-96"><span class="linenos"> 96</span></a>    <span class="k">def</span> <span class="nf">_set_status_codes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">codes</span><span class="p">):</span>
</span><span id="UOFileError-97"><a href="#UOFileError-97"><span class="linenos"> 97</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">codes</span><span class="p">:</span>
</span><span id="UOFileError-98"><a href="#UOFileError-98"><span class="linenos"> 98</span></a>            <span class="n">codes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="UOFileError-99"><a href="#UOFileError-99"><span class="linenos"> 99</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">codes</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span><span class="p">:</span>
</span><span id="UOFileError-100"><a href="#UOFileError-100"><span class="linenos">100</span></a>            <span class="n">codes</span> <span class="o">=</span> <span class="p">[</span><span class="n">codes</span><span class="p">]</span>
</span><span id="UOFileError-101"><a href="#UOFileError-101"><span class="linenos">101</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_status_codes_list</span> <span class="o">=</span> <span class="n">codes</span>
</span><span id="UOFileError-102"><a href="#UOFileError-102"><span class="linenos">102</span></a>
</span><span id="UOFileError-103"><a href="#UOFileError-103"><span class="linenos">103</span></a>    <span class="k">def</span> <span class="nf">_set_id_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">):</span>
</span><span id="UOFileError-104"><a href="#UOFileError-104"><span class="linenos">104</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">ids</span><span class="p">:</span>
</span><span id="UOFileError-105"><a href="#UOFileError-105"><span class="linenos">105</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_id_list</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="UOFileError-106"><a href="#UOFileError-106"><span class="linenos">106</span></a>            <span class="k">return</span>
</span><span id="UOFileError-107"><a href="#UOFileError-107"><span class="linenos">107</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span><span class="p">:</span>
</span><span id="UOFileError-108"><a href="#UOFileError-108"><span class="linenos">108</span></a>            <span class="n">ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">ids</span><span class="p">]</span>
</span><span id="UOFileError-109"><a href="#UOFileError-109"><span class="linenos">109</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_id_list</span> <span class="o">=</span> <span class="n">ids</span>
</span><span id="UOFileError-110"><a href="#UOFileError-110"><span class="linenos">110</span></a>
</span><span id="UOFileError-111"><a href="#UOFileError-111"><span class="linenos">111</span></a>    <span class="nd">@property</span>
</span><span id="UOFileError-112"><a href="#UOFileError-112"><span class="linenos">112</span></a>    <span class="k">def</span> <span class="nf">id_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="UOFileError-113"><a href="#UOFileError-113"><span class="linenos">113</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;A list of fields.&quot;&quot;&quot;</span>
</span><span id="UOFileError-114"><a href="#UOFileError-114"><span class="linenos">114</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id_list</span>
</span></pre></div>


            <div class="docstring"><p>This class extends the UOError class.
This class can provide each error information for each key read while invoking the <a href="#File.read_named_fields">uopy.File.read_named_fields</a> method.</p>

<p>Attributes:
response_errors: a list of dictionaries.
Each item in the list indicates the error information for each key read from the file.
An example of the content in response_errors is [{0: 'No Error'}, {30001: 'This Record was not found'}].</p>

<p>id_list: a list of the file keys.
An example of the content in id_list is ['0111', 'bad_id']</p>
</div>


                            <div id="UOFileError.__init__" class="classattr">
                                        <input id="UOFileError.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">UOFileError</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">code</span><span class="o">=</span><span class="bp">Ellipsis</span>,</span><span class="param">	<span class="n">message</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">obj</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">response_codes</span><span class="o">=</span><span class="p">[]</span>,</span><span class="param">	<span class="n">status_codes</span><span class="o">=</span><span class="p">[]</span>,</span><span class="param">	<span class="n">id_list</span><span class="o">=</span><span class="p">[]</span></span>)</span>

                <label class="view-source-button" for="UOFileError.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UOFileError.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UOFileError.__init__-30"><a href="#UOFileError.__init__-30"><span class="linenos">30</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="UOFileError.__init__-31"><a href="#UOFileError.__init__-31"><span class="linenos">31</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="UOFileError.__init__-32"><a href="#UOFileError.__init__-32"><span class="linenos">32</span></a>        <span class="n">code</span><span class="o">=...</span><span class="p">,</span>
</span><span id="UOFileError.__init__-33"><a href="#UOFileError.__init__-33"><span class="linenos">33</span></a>        <span class="n">message</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="UOFileError.__init__-34"><a href="#UOFileError.__init__-34"><span class="linenos">34</span></a>        <span class="n">obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="UOFileError.__init__-35"><a href="#UOFileError.__init__-35"><span class="linenos">35</span></a>        <span class="n">response_codes</span><span class="o">=</span><span class="p">[],</span>
</span><span id="UOFileError.__init__-36"><a href="#UOFileError.__init__-36"><span class="linenos">36</span></a>        <span class="n">status_codes</span><span class="o">=</span><span class="p">[],</span>
</span><span id="UOFileError.__init__-37"><a href="#UOFileError.__init__-37"><span class="linenos">37</span></a>        <span class="n">id_list</span><span class="o">=</span><span class="p">[],</span>
</span><span id="UOFileError.__init__-38"><a href="#UOFileError.__init__-38"><span class="linenos">38</span></a>    <span class="p">):</span>
</span><span id="UOFileError.__init__-39"><a href="#UOFileError.__init__-39"><span class="linenos">39</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UOFileError.__init__-40"><a href="#UOFileError.__init__-40"><span class="linenos">40</span></a><span class="sd">        Initializes a UOFileError class.</span>
</span><span id="UOFileError.__init__-41"><a href="#UOFileError.__init__-41"><span class="linenos">41</span></a><span class="sd">        Args:</span>
</span><span id="UOFileError.__init__-42"><a href="#UOFileError.__init__-42"><span class="linenos">42</span></a><span class="sd">            code (int): error code</span>
</span><span id="UOFileError.__init__-43"><a href="#UOFileError.__init__-43"><span class="linenos">43</span></a><span class="sd">            message (string, optinal): error message</span>
</span><span id="UOFileError.__init__-44"><a href="#UOFileError.__init__-44"><span class="linenos">44</span></a><span class="sd">            response_codes (list, optional): a list of response codes returned from the server.</span>
</span><span id="UOFileError.__init__-45"><a href="#UOFileError.__init__-45"><span class="linenos">45</span></a><span class="sd">            status_codes (list, optional): a list of status codes returned from the server.</span>
</span><span id="UOFileError.__init__-46"><a href="#UOFileError.__init__-46"><span class="linenos">46</span></a><span class="sd">            id_list (list, optional): a list of file fields.</span>
</span><span id="UOFileError.__init__-47"><a href="#UOFileError.__init__-47"><span class="linenos">47</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UOFileError.__init__-48"><a href="#UOFileError.__init__-48"><span class="linenos">48</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_set_response_codes</span><span class="p">(</span><span class="n">response_codes</span><span class="p">)</span>
</span><span id="UOFileError.__init__-49"><a href="#UOFileError.__init__-49"><span class="linenos">49</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_set_status_codes</span><span class="p">(</span><span class="n">status_codes</span><span class="p">)</span>
</span><span id="UOFileError.__init__-50"><a href="#UOFileError.__init__-50"><span class="linenos">50</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_set_id_list</span><span class="p">(</span><span class="n">id_list</span><span class="p">)</span>
</span><span id="UOFileError.__init__-51"><a href="#UOFileError.__init__-51"><span class="linenos">51</span></a>        <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="n">ErrorCodes</span><span class="o">.</span><span class="n">UOE_EIO</span><span class="p">:</span>
</span><span id="UOFileError.__init__-52"><a href="#UOFileError.__init__-52"><span class="linenos">52</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_status_codes_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="UOFileError.__init__-53"><a href="#UOFileError.__init__-53"><span class="linenos">53</span></a>                <span class="n">statusCode</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="UOFileError.__init__-54"><a href="#UOFileError.__init__-54"><span class="linenos">54</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_status_codes_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="UOFileError.__init__-55"><a href="#UOFileError.__init__-55"><span class="linenos">55</span></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_status_codes_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">_EIO_MSG_DICT</span>
</span><span id="UOFileError.__init__-56"><a href="#UOFileError.__init__-56"><span class="linenos">56</span></a>                    <span class="k">else</span> <span class="mi">5</span>
</span><span id="UOFileError.__init__-57"><a href="#UOFileError.__init__-57"><span class="linenos">57</span></a>                <span class="p">)</span>
</span><span id="UOFileError.__init__-58"><a href="#UOFileError.__init__-58"><span class="linenos">58</span></a>                <span class="n">message</span> <span class="o">=</span> <span class="n">_EIO_MSG_DICT</span><span class="p">[</span><span class="n">statusCode</span><span class="p">]</span>
</span><span id="UOFileError.__init__-59"><a href="#UOFileError.__init__-59"><span class="linenos">59</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Initializes a UOFileError class.
Args:
    code (int): error code
    message (string, optinal): error message
    response_codes (list, optional): a list of response codes returned from the server.
    status_codes (list, optional): a list of status codes returned from the server.
    id_list (list, optional): a list of file fields.</p>
</div>


                            </div>
                            <div id="UOFileError.response_errors" class="classattr">
                                <div class="attr variable">
            <span class="name">response_errors</span>

        
    </div>
    <a class="headerlink" href="#UOFileError.response_errors"></a>
    
            <div class="docstring"><p>A list of errors for each field. Each error contains a code and a message.</p>
</div>


                            </div>
                            <div id="UOFileError.id_list" class="classattr">
                                <div class="attr variable">
            <span class="name">id_list</span>

        
    </div>
    <a class="headerlink" href="#UOFileError.id_list"></a>
    
            <div class="docstring"><p>A list of fields.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#UOError">UOError</a></dt>
                                <dd id="UOFileError.code" class="variable"><a href="#UOError.code">code</a></dd>
                <dd id="UOFileError.message" class="variable"><a href="#UOError.message">message</a></dd>

            </div>
            <div><dt>builtins.BaseException</dt>
                                <dd id="UOFileError.with_traceback" class="function">with_traceback</dd>
                <dd id="UOFileError.add_note" class="function">add_note</dd>
                <dd id="UOFileError.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="__version__">
                    <div class="attr variable">
            <span class="name">__version__</span>        =
<span class="default_value">&#39;1.3.0&#39;</span>

        
    </div>
    <a class="headerlink" href="#__version__"></a>
    
    

                </section>
    </main>
</body>
</html>